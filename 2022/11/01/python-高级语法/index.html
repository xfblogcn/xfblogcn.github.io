<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="keywords" content="Hexo Theme Keep">
    <meta name="description" content="Hexo Theme Keep">
    <meta name="author" content="xfblog">
    
    <title>
        
            02_Python_é«˜çº§è¯­æ³• |
        
        XFBLOG.CN
    </title>
    
<link rel="stylesheet" href="/css/style.css">

    
        <link rel="shortcut icon" href="/images/favicon.webp">
    
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.2.5/source/font/css/fontawesome.min.css">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.2.5/source/font/css/regular.min.css">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.2.5/source/font/css/solid.min.css">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.2.5/source/font/css/brands.min.css">
    
        
            
                
<link rel="stylesheet" href="/css/custom-1.css">

            
        
    
    <script class="keep-theme-configurations">
    const KEEP = window.KEEP || {}
    KEEP.hexo_config = {"hostname":"example.com","root":"/","language":"zh-CN","path":"search.xml"}
    KEEP.theme_config = {"base_info":{"primary_color":"#0066cc","title":"XFBLOG.CN","author":"xfblog","avatar":"/images/avatar.webp","logo":"/images/logo.webp","favicon":"/images/favicon.webp"},"menu":{"home":"/ || fa-solid fa-home","archives":"/archives || fa-solid fa-box-archive","categories":"/categories || fa-solid fa-layer-group","links":"/links || fa-solid fa-link","about":"/about || fa-solid fa-circle-info"},"first_screen":{"enable":true,"background_img":"/images/home_light.webp","background_img_dark":"/images/home_dark.webp","description":null,"hitokoto":false},"social_contact":{"enable":true,"links":{"github":"https://github.com/xfblogcn","weixin":null,"qq":null,"weibo":null,"zhihu":null,"twitter":null,"x":null,"facebook":null,"email":null}},"scroll":{"progress_bar":false,"percent":true,"hide_header":true},"home":{"announcement":"ç‰ˆæƒå£°æ˜ï¼šæœ¬ç«™æ‰€æœ‰æ–‡ç« å‡ä¸º xfblog.cn å°å‚…åŸåˆ›ï¼Œè¯·éµå¾ª CC 4.0 BY-SA ç‰ˆæƒåè®®ï¼Œè½¬è½½è¯·é™„ä¸ŠåŸæ–‡å‡ºå¤„é“¾æ¥åŠæœ¬å£°æ˜ã€‚","category":true,"tag":true,"post_datetime":"created","post_datetime_format":"YYYY-MM-DD"},"post":{"author_badge":{"enable":true,"level_badge":true,"custom_badge":["One","Two","Three"]},"word_count":{"wordcount":true,"min2read":true},"datetime_format":"YYYY-MM-DD","copyright_info":true,"share":true,"reward":{"enable":true,"img_link":"/images/zfb.webp","text":"åˆ›ä½œä¸æ˜“ï¼Œæ‰“èµéšæ„ï¼Œæ‚¨çš„æ”¯æŒæ˜¯æˆ‘æ›´æ–°çš„åŠ¨åŠ›ğŸ’ªï¼"}},"code_block":{"tools":{"enable":true,"style":"default"},"highlight_theme":"obsidian"},"toc":{"enable":true,"number":false,"expand_all":true,"init_open":true,"layout":"right"},"website_count":{"busuanzi_count":{"enable":true,"site_uv":false,"site_pv":false,"page_pv":true}},"local_search":{"enable":true,"preload":true},"comment":{"enable":false,"use":"valine","valine":{"appid":null,"appkey":null,"server_urls":null,"placeholder":null},"gitalk":{"github_id":null,"github_admins":null,"repository":null,"client_id":null,"client_secret":null,"proxy":null},"twikoo":{"env_id":null,"region":null,"version":"1.6.36"},"waline":{"server_url":null,"reaction":false,"version":"3.2.1"},"giscus":{"repo":null,"repo_id":null,"category":"Announcements","category_id":null,"reactions_enabled":false},"artalk":{"server":null},"disqus":{"shortname":null}},"rss":{"enable":true},"lazyload":{"enable":true},"cdn":{"enable":true,"provider":"jsdelivr"},"pjax":{"enable":true},"footer":{"since":2021,"word_count":false,"site_deploy":{"enable":false,"provider":"github","url":null},"record":{"enable":true,"list":[{"code":"èœ€ICPå¤‡2021021033å·-1","link":"https://beian.miit.gov.cn"},{"code":"å·å…¬ç½‘å®‰å¤‡ 51138102000134å·","link":"http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=51138102000134"}]}},"inject":{"enable":true,"css":["/css/custom-1.css"],"js":["/js/run_time.js","/js/code_click_copy.js","/js/copyrightpro.js"]},"root":"","source_data":{},"version":"4.2.5"}
    KEEP.language_ago = {"second":"%s ç§’å‰","minute":"%s åˆ†é’Ÿå‰","hour":"%s å°æ—¶å‰","day":"%s å¤©å‰","week":"%s å‘¨å‰","month":"%s ä¸ªæœˆå‰","year":"%s å¹´å‰"}
    KEEP.language_code_block = {"copy":"å¤åˆ¶ä»£ç ","copied":"å·²å¤åˆ¶","fold":"æŠ˜å ä»£ç å—","folded":"å·²æŠ˜å "}
    KEEP.language_copy_copyright = {"copy":"å¤åˆ¶ç‰ˆæƒä¿¡æ¯","copied":"å·²å¤åˆ¶","title":"åŸæ–‡æ ‡é¢˜","author":"åŸæ–‡ä½œè€…","link":"åŸæ–‡é“¾æ¥"}
  </script>
<meta name="generator" content="Hexo 7.3.0"><link rel="alternate" href="/atom.xml" title="Keep" type="application/atom+xml">
</head>


<body>
<div class="progress-bar-container">
    

    
        <span class="pjax-progress-bar"></span>
        <i class="pjax-progress-icon fas fa-circle-notch fa-spin"></i>
    
</div>



<main class="page-container border-box">
    <!-- home first screen  -->
    

    <!-- page content -->
    <div class="page-main-content border-box">
        <div class="page-main-content-top">
            
<header class="header-wrapper">

    <div class="border-box header-content">
        <div class="left flex-start border-box">
            
                <a class="logo-image border-box" href="/">
                    <img src="/images/logo.webp">
                </a>
            
            <a class="site-name border-box" href="/">
               XFBLOG.CN
            </a>
        </div>

        <div class="right border-box">
            <div class="pc border-box">
                <ul class="menu-list border-box">
                    
                        
                        <li class="menu-item flex-start border-box">
                            <a class="menu-text-color border-box" href="/">
                                
                                    <i class="menu-text-color menu-icon fa-solid fa-home"></i>
                                
                                é¦–é¡µ
                                
                            </a>
                            
                        </li>
                    
                        
                        <li class="menu-item flex-start border-box">
                            <a class="menu-text-color border-box" href="/archives">
                                
                                    <i class="menu-text-color menu-icon fa-solid fa-box-archive"></i>
                                
                                å½’æ¡£
                                
                            </a>
                            
                        </li>
                    
                        
                        <li class="menu-item flex-start border-box">
                            <a class="menu-text-color border-box" href="/categories">
                                
                                    <i class="menu-text-color menu-icon fa-solid fa-layer-group"></i>
                                
                                åˆ†ç±»
                                
                            </a>
                            
                        </li>
                    
                        
                        <li class="menu-item flex-start border-box">
                            <a class="menu-text-color border-box" href="/links">
                                
                                    <i class="menu-text-color menu-icon fa-solid fa-link"></i>
                                
                                å‹é“¾
                                
                            </a>
                            
                        </li>
                    
                        
                        <li class="menu-item flex-start border-box">
                            <a class="menu-text-color border-box" href="/about">
                                
                                    <i class="menu-text-color menu-icon fa-solid fa-circle-info"></i>
                                
                                å…³äº
                                
                            </a>
                            
                        </li>
                    
                    
                        <li class="menu-item search search-popup-trigger">
                            <i class="menu-text-color fas search fa-search"></i>
                        </li>
                    
                </ul>
            </div>
            <div class="mobile border-box flex-start">
                
                    <div class="icon-item search search-popup-trigger"><i class="fas fa-search"></i></div>
                
                <div class="icon-item menu-bar">
                    <div class="menu-bar-middle"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="header-drawer">
        <ul class="drawer-menu-list border-box">
            
                
                <li class="drawer-menu-item border-box not-sub-menu">
                    <label class="drawer-menu-label border-box">
                        <a class="drawer-menu-text-color left-side flex-start border-box" href="/">
                            
                                <span class="menu-icon-wrap border-box flex-center">
                                    <i class="drawer-menu-text-color menu-icon fa-solid fa-home"></i>
                                </span>
                            
                            é¦–é¡µ
                        </a>
                        
                    </label>
                    
                </li>
            
                
                <li class="drawer-menu-item border-box not-sub-menu">
                    <label class="drawer-menu-label border-box">
                        <a class="drawer-menu-text-color left-side flex-start border-box" href="/archives">
                            
                                <span class="menu-icon-wrap border-box flex-center">
                                    <i class="drawer-menu-text-color menu-icon fa-solid fa-box-archive"></i>
                                </span>
                            
                            å½’æ¡£
                        </a>
                        
                    </label>
                    
                </li>
            
                
                <li class="drawer-menu-item border-box not-sub-menu">
                    <label class="drawer-menu-label border-box">
                        <a class="drawer-menu-text-color left-side flex-start border-box" href="/categories">
                            
                                <span class="menu-icon-wrap border-box flex-center">
                                    <i class="drawer-menu-text-color menu-icon fa-solid fa-layer-group"></i>
                                </span>
                            
                            åˆ†ç±»
                        </a>
                        
                    </label>
                    
                </li>
            
                
                <li class="drawer-menu-item border-box not-sub-menu">
                    <label class="drawer-menu-label border-box">
                        <a class="drawer-menu-text-color left-side flex-start border-box" href="/links">
                            
                                <span class="menu-icon-wrap border-box flex-center">
                                    <i class="drawer-menu-text-color menu-icon fa-solid fa-link"></i>
                                </span>
                            
                            å‹é“¾
                        </a>
                        
                    </label>
                    
                </li>
            
                
                <li class="drawer-menu-item border-box not-sub-menu">
                    <label class="drawer-menu-label border-box">
                        <a class="drawer-menu-text-color left-side flex-start border-box" href="/about">
                            
                                <span class="menu-icon-wrap border-box flex-center">
                                    <i class="drawer-menu-text-color menu-icon fa-solid fa-circle-info"></i>
                                </span>
                            
                            å…³äº
                        </a>
                        
                    </label>
                    
                </li>
            
        </ul>
    </div>

    <div class="window-mask"></div>

</header>


        </div>

        <div class="page-main-content-middle border-box">

            <div class="main-content border-box">
                

                    
<div class="fade-in-down-animation">
    <div class="post-page-container border-box">
        <div class="post-content-container border-box">
            

            <div class="post-content-bottom border-box">
                
                    <div class="post-title">
                        02_Python_é«˜çº§è¯­æ³•
                    </div>
                

                
                    <div class="post-header border-box">
                        
                            <div class="avatar-box border-box">
                                <img src="/images/avatar.webp">
                            </div>
                        
                        <div class="info-box">
                            <div class="author border-box">
                                <span class="name">xfblog</span>
                                
                                    <span class="author-badge">Lv3</span>
                                
                            </div>
                            <div class="meta-info border-box">
                                

<div class="post-meta-info-container border-box post">
    <div class="post-meta-info border-box">
        

        
            <span class="meta-info-item post-create-date">
                <i class="icon fa-solid fa-calendar-plus"></i>&nbsp;
                <span class="datetime">2022-11-01</span>
            </span>

            
                <span class="meta-info-item post-update-date">
                    <i class="icon fa-solid fa-file-pen"></i>&nbsp;
                    <span class="datetime" data-updated="Wed Nov 27 2024 16:23:37 GMT+0800">2024-11-27</span>
                </span>
            
        

        
            <span class="meta-info-item post-category border-box"><i class="icon fas fa-folder"></i>&nbsp;
                <ul class="post-category-ul">
                    
                            <li class="category-item"><a href="/categories/Python/">Python</a></li>
                        
                    
                </ul>
            </span>
        

        
            <span class="post-tag meta-info-item border-box">
                <ul class="post-tag-ul">
                    
                            <li class="tag-item"><span class="tag-separator"><i class="icon fas fa-hashtag"></i></span><a href="/tags/Python/">Python</a></li>
                        
                    
                </ul>
            </span>
        

        
        
            <span class="meta-info-item post-wordcount">
                <i class="icon fas fa-file-word"></i>&nbsp;<span>28.3k å­—</span>
            </span>
        
        
            <span class="meta-info-item post-min2read">
                <i class="icon fas fa-clock"></i>&nbsp;<span>115 åˆ†é’Ÿ</span>
            </span>
        
        
            <span class="meta-info-item post-pv">
                <i class="icon fas fa-eye"></i>&nbsp;<span id="busuanzi_value_page_pv"></span>
            </span>
        
    </div>

    
</div>

                            </div>
                        </div>
                    </div>
                

                <div class="post-content keep-markdown-body ">
                    

                    
                         <h2 id="ä¸€ã€å‡½æ•°"><a href="#ä¸€ã€å‡½æ•°" class="headerlink" title="ä¸€ã€å‡½æ•°"></a>ä¸€ã€å‡½æ•°</h2><h4 id="1-å‡½æ•°çš„å®šä¹‰ä¸è°ƒç”¨"><a href="#1-å‡½æ•°çš„å®šä¹‰ä¸è°ƒç”¨" class="headerlink" title="1. å‡½æ•°çš„å®šä¹‰ä¸è°ƒç”¨"></a>1. å‡½æ•°çš„å®šä¹‰ä¸è°ƒç”¨</h4><ul>
<li>ç®€ä»‹ï¼šdefæ˜¯Pythonå®šä¹‰çš„å…³é”®å­—ï¼Œç”¨äºå®šä¹‰å‡½æ•°</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&quot;&quot;&quot;è¯­æ³•æ ¼å¼ï¼š</span><br><span class="line"></span><br><span class="line">def å‡½æ•°å([å½¢å‚1, å½¢å‚2, ... , å½¢å‚n]):</span><br><span class="line">    å‡½æ•°ä½“</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line"></span><br><span class="line">def decide_args(arg1, arg2):</span><br><span class="line">    if arg1 and arg2:</span><br><span class="line">        return arg1, arg2</span><br><span class="line">    elif (not arg1) and (not arg2):</span><br><span class="line">        return</span><br><span class="line">    else:</span><br><span class="line">        result = arg1 or arg2</span><br><span class="line"></span><br><span class="line">print(decide_args)  # `&lt;function decide_args at 0x100613eb0&gt;`</span><br><span class="line">print(type(decide_args))  # `&lt;class &#x27;function&#x27;&gt;`</span><br><span class="line"></span><br><span class="line">print(decide_args(18, &#x27;Hello&#x27;))  # (18, &#x27;Hello&#x27;)</span><br><span class="line">print(decide_args([], &#123;&#125;))  # None returnè¿”å›å€¼ä»€ä¹ˆéƒ½æ²¡æœ‰æ—¶ï¼Œè¿”å›å€¼ä¸ºNone</span><br><span class="line">print(decide_args(18, []))  # None å‡½æ•°æ­£å¸¸ç»“æŸæ— returnæ—¶ï¼Œè¿”å›å€¼ä¹Ÿä¸ºNone</span><br></pre></td></tr></table></figure>

<h4 id="2-å‡½æ•°çš„å¤šä¸ªè¿”å›å€¼"><a href="#2-å‡½æ•°çš„å¤šä¸ªè¿”å›å€¼" class="headerlink" title="2. å‡½æ•°çš„å¤šä¸ªè¿”å›å€¼"></a>2. å‡½æ•°çš„å¤šä¸ªè¿”å›å€¼</h4><ul>
<li>ç®€ä»‹ï¼šåœ¨è°ƒç”¨å‡½æ•°åéœ€è¦æœ‰å¤šä¸ªè¿”å›å€¼ï¼Œå¯ä»¥åœ¨å®šä¹‰å‡½æ•°æ—¶åœ¨å‡½æ•°ä½“å†…ä½¿ç”¨returnè¯­å¥è¿”å›ç”±å¤šä¸ªè¿”å›å€¼ç»„æˆçš„å…ƒç»„</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"># æŠŠåˆ—è¡¨ä¸­æ‰€æœ‰æ•°åˆ†æˆå¥‡æ•°å’Œå¶æ•°ä¸¤ç±»</span><br><span class="line">def classify_numbers(numbers):</span><br><span class="line">    odds = []</span><br><span class="line">    evens = []</span><br><span class="line">    for number in numbers:</span><br><span class="line">        if number % 2:</span><br><span class="line">            odds.append(number)</span><br><span class="line">        else:</span><br><span class="line">            evens.append(number)</span><br><span class="line">    return odds, evens</span><br><span class="line"></span><br><span class="line">print(classify_numbers([15, 86, 39, 26, 53, 68]))  # ([15, 39, 53], [86, 26, 68])</span><br></pre></td></tr></table></figure>

<h4 id="3-å‡½æ•°çš„ä¸¤ç§å®å‚ä¸ä¼ é€’"><a href="#3-å‡½æ•°çš„ä¸¤ç§å®å‚ä¸ä¼ é€’" class="headerlink" title="3. å‡½æ•°çš„ä¸¤ç§å®å‚ä¸ä¼ é€’"></a>3. å‡½æ•°çš„ä¸¤ç§å®å‚ä¸ä¼ é€’</h4><ul>
<li><strong>ä½ç½®å®å‚</strong>ï¼šè°ƒç”¨å‡½æ•°æ—¶ï¼Œæ ¹æ®æ¯ä¸ªå½¢å‚åœ¨æ‰€æœ‰å½¢å‚ä¸­çš„ä½ç½®ä¼ é€’å¯¹åº”ä½ç½®çš„å®å‚ï¼Œä»è€Œç”¨æ¯ä¸ªå®å‚åˆå§‹åŒ–å¯¹åº”ä½ç½®çš„å½¢å‚</li>
<li><strong>å…³é”®å­—å®å‚</strong>ï¼šè°ƒç”¨å‡½æ•°æ—¶ï¼Œä¼ é€’çš„å®å‚çš„å½¢å¼å¯ä»¥ä¸ºï¼š<strong>å½¢å‚å &#x3D; å®å‚å€¼</strong>ï¼Œä»è€Œç”¨æŒ‡å®šçš„å®å‚å€¼åˆå§‹åŒ–æŒ‡å®šåç§°çš„å½¢å‚</li>
<li>æ³¨æ„ï¼š<strong>æ¯ä¸ªå…³é”®å­—å®å‚åœ¨æ‰€æœ‰å…³é”®å­—å®å‚ä¸­çš„ä½ç½®æ˜¯ä»»æ„çš„ï¼›ä½†å½“ä½ç½®å®å‚å’Œå…³é”®å­—å®å‚ç»„åˆä½¿ç”¨æ—¶ï¼Œä½ç½®å®å‚å¿…é¡»ä½äºå…³é”®å­—å®å‚ä¹‹å‰</strong></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">def f(a, b, c):</span><br><span class="line">    print(&#x27;a =&#x27;, a, &#x27;b =&#x27;, b, &#x27;c =&#x27;, c)</span><br><span class="line"></span><br><span class="line"># å‡½æ•°çš„è°ƒç”¨ä¹‹ä½ç½®å®å‚</span><br><span class="line">f(2, 5, 8)  # a = 2 b = 5 c = 8</span><br><span class="line"># å‡½æ•°çš„è°ƒç”¨ä¹‹å…³é”®å­—å®å‚</span><br><span class="line">f(a=2, b=5, c=8)  # a = 2 b = 5 c = 8</span><br><span class="line"># ä½ç½®å®å‚å¿…é¡»ä½å…³é”®å­—å®å‚ä¹‹å‰ï¼Œå¦åˆ™æŠ¥é”™</span><br><span class="line"># f(2, c=8, 5)  # SyntaxError: positional argument follows keyword argument</span><br><span class="line">f(2, 5, c=8)  # a = 2 b = 5 c = 8</span><br></pre></td></tr></table></figure>

<ul>
<li>å®å‚çš„ä¼ é€’ï¼š<strong>å¦‚æœå®å‚å¯¹è±¡æ˜¯å¯å˜ç±»å‹ï¼Œåœ¨å‡½æ•°ä½“å†…å¯¹å½¢å‚å¯¹è±¡çš„ä»»ä½•ä¿®æ”¹å°±æ˜¯å¯¹å®å‚å¯¹è±¡æœ¬èº«çš„ä¿®æ”¹</strong></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">def f(arg1, arg2):</span><br><span class="line">    print(&#x27;åˆå§‹åŒ–å½¢å‚åï¼šarg1 =&#x27;, arg1, &#x27;arg2 =&#x27;, arg2)</span><br><span class="line">    arg1 *= 2</span><br><span class="line">    arg2.append(4)</span><br><span class="line">    print(&#x27;ä¿®æ”¹å½¢å‚åï¼šarg1 =&#x27;, arg1, &#x27;arg2 =&#x27;, arg2)</span><br><span class="line"></span><br><span class="line">i = 10  # æ•´æ•°ç±»å‹æ˜¯ä¸å¯å˜å¯¹è±¡</span><br><span class="line">L = [1, 2, 3]  # åˆ—è¡¨æ˜¯å¯å˜å¯¹è±¡</span><br><span class="line"></span><br><span class="line">print(&#x27;è°ƒç”¨å‡½æ•°å‰å®å‚ï¼ši =&#x27;, i, &#x27;L =&#x27;, L)  # è°ƒç”¨å‡½æ•°å‰å®å‚ï¼ši = 10 L = [1, 2, 3]</span><br><span class="line">f(i, L)</span><br><span class="line">print(&#x27;è°ƒç”¨å‡½æ•°åå®å‚ï¼ši =&#x27;, i, &#x27;L =&#x27;, L)  # è°ƒç”¨å‡½æ•°åå®å‚ï¼ši = 10 L = [1, 2, 3, 4]</span><br></pre></td></tr></table></figure>

<h4 id="4-å‡½æ•°çš„é»˜è®¤å€¼å½¢å‚"><a href="#4-å‡½æ•°çš„é»˜è®¤å€¼å½¢å‚" class="headerlink" title="4. å‡½æ•°çš„é»˜è®¤å€¼å½¢å‚"></a>4. å‡½æ•°çš„é»˜è®¤å€¼å½¢å‚</h4><ul>
<li>ç®€ä»‹ï¼šå®šä¹‰å‡½æ•°æ—¶å¯ä»¥ç»™å½¢å‚è®¾ç½®é»˜è®¤å€¼ï¼Œåœ¨è°ƒç”¨å‡½æ•°æ—¶å¦‚æœä¸ä¼ é€’å¯¹åº”çš„å®å‚ï¼Œå°±ä¼šä½¿ç”¨é»˜è®¤å€¼åˆå§‹åŒ–å½¢å‚</li>
<li>æ³¨æ„ï¼š<strong>å®šä¹‰å‡½æ•°æ—¶ï¼Œæ™®é€šå½¢å‚å¿…é¡»ä½äºè®¾ç½®äº†é»˜è®¤å€¼çš„å½¢å‚ä¹‹å‰ï¼Œå¦åˆ™æ— æ³•æ ¹æ®ä½ç½®æ¥åŒ¹é…ä½ç½®å®å‚å’Œå¯¹åº”çš„å½¢å‚</strong></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">def fun(a, b=5):</span><br><span class="line">    # æŠ€å·§ï¼šå½“å‡½æ•°æœ‰å¤šä¸ªå½¢å‚æ—¶ï¼ŒæŠŠå˜åŒ–å¤§çš„å½¢å‚æ”¾å‰é¢ï¼Œå˜åŒ–å°çš„å½¢å‚æ”¾åé¢ï¼Œåˆ™å˜åŒ–å°çš„å½¢å‚å°±å¯ä»¥è®¾ç½®é»˜è®¤å€¼</span><br><span class="line">    print(&#x27;a =&#x27;, a, &#x27;b =&#x27;, b)</span><br><span class="line"></span><br><span class="line"># å®šä¹‰é»˜è®¤å€¼å½¢å‚åï¼Œå¯ä»¥æœ‰å¤šç§è°ƒç”¨å½¢å¼</span><br><span class="line">fun(3)  # a = 3 b = 5</span><br><span class="line">fun(a=3)  # a = 3 b = 5</span><br><span class="line">fun(3, 6)  # a = 3 b = 6</span><br><span class="line">fun(a=3, b=6)  # a = 3 b = 6</span><br><span class="line">fun(b=6, a=3)  # a = 3 b = 6</span><br><span class="line">fun(3, b=6)  # a = 3 b = 6</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>é—®é¢˜æŠ›å‡ºï¼šåœ¨å®šä¹‰å‡½æ•°æ—¶ï¼Œç»™å½¢å‚è®¾ç½®çš„é»˜è®¤å€¼å°±å·²ç»è¢«è®¡ç®—å‡ºæ¥äº†</strong></p>
<p>é—®é¢˜è§£é‡Šï¼šå¦‚æœç»™å½¢å‚è®¾ç½®çš„é»˜è®¤å€¼æ˜¯å¯å˜ç±»å‹çš„å¯¹è±¡ï¼Œä¸”å‰ä¸€æ¬¡è°ƒç”¨å‡½æ•°æ—¶åœ¨å‡½æ•°ä½“å†…ä¿®æ”¹äº†å½¢å‚çš„é»˜è®¤å€¼ï¼Œåˆ™ä¿®æ”¹åçš„å€¼å°†ä½œä¸ºä¸‹ä¸€æ¬¡è°ƒç”¨å‡½æ•°æ—¶å½¢å‚çš„é»˜è®¤å€¼</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">def fun1(L=[]):  # å®šä¹‰çš„é»˜è®¤å€¼ä¸ºåˆ—è¡¨ï¼ˆå¯å˜å¯¹è±¡ï¼‰ï¼Œä¸”åœ¨å‡½æ•°ä¸­æ”¹å˜äº†åˆ—è¡¨</span><br><span class="line"> L.append(18)</span><br><span class="line"> print(L)</span><br><span class="line"></span><br><span class="line">fun1()  # [18]</span><br><span class="line">fun1()  # [18, 18]</span><br><span class="line">fun1()  # [18, 18, 18]</span><br></pre></td></tr></table></figure>

<p>è§£å†³é—®é¢˜ï¼š<strong>ä¸è¦æŠŠå½¢å‚çš„é»˜è®¤å€¼è®¾ç½®ä¸ºå¯å˜ç±»å‹çš„å¯¹è±¡ï¼Œå¯ä»¥è®¾ç½®ä¸ºä¸å¯å˜å¯¹è±¡None</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">def fun2(L=None):</span><br><span class="line"> if L is None:</span><br><span class="line">     L = []</span><br><span class="line"> L.append(18)</span><br><span class="line"> print(L)</span><br><span class="line"></span><br><span class="line">fun2()  # [18]</span><br><span class="line">fun2()  # [18]</span><br><span class="line">fun2()  # [18]</span><br></pre></td></tr></table></figure>
</blockquote>
<h4 id="5-å‡½æ•°ä¸­-å¯¹å‚æ•°çš„ç”¨æ³•"><a href="#5-å‡½æ•°ä¸­-å¯¹å‚æ•°çš„ç”¨æ³•" class="headerlink" title="5. å‡½æ•°ä¸­*å¯¹å‚æ•°çš„ç”¨æ³•"></a>5. å‡½æ•°ä¸­*å¯¹å‚æ•°çš„ç”¨æ³•</h4><ol>
<li>*_ä½¿ç”¨_å®šä¹‰å…³é”®å­—å½¢å‚**<ul>
<li>ç®€ä»‹ï¼šå®šä¹‰å‡½æ•°æ—¶ï¼Œå¯ä»¥åœ¨æ‰€æœ‰å½¢å‚çš„æŸä¸ªä½ç½®æ·»åŠ ä¸€ä¸ª*ï¼Œåˆ™*åé¢çš„æ‰€æœ‰å‚æ•°éƒ½ä¼šè¢«å®šä¹‰ä¸ºå…³é”®å­—å½¢å‚</li>
</ul>
</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">def f(a, b, *, c, d):</span><br><span class="line">    print(&#x27;a =&#x27;, a, &#x27;b =&#x27;, b, &#x27;c =&#x27;, c, &#x27;d =&#x27;, d)</span><br><span class="line"></span><br><span class="line">f(1, 2, c=3, d=4)  # a = 1 b = 2 c = 3 d = 4</span><br></pre></td></tr></table></figure>

<ol start="2">
<li><p>*_ä½¿ç”¨_å®šä¹‰ä¸ªæ•°å¯å˜çš„ä½ç½®å½¢å‚**</p>
<ul>
<li><p>ç®€ä»‹ï¼šå®šä¹‰å‡½æ•°æ—¶ï¼Œåœ¨å½¢å‚å‰æ·»åŠ ä¸€ä¸ª*ï¼Œå¯å°†å½¢å‚å®šä¹‰ä¸ºä¸ªæ•°å¯å˜çš„ä½ç½®å½¢å‚ï¼Œå¯ä»¥æ¥å—0ä¸ªæˆ–ä»»æ„å¤šä¸ªä½ç½®å®å‚ï¼Œè¿™äº›ä½ç½®å®å‚ä¼šå°†ä¸ªæ•°å¯å˜çš„ä½ç½®å½¢å‚åˆå§‹åŒ–ä¸ºä¸€ä¸ª<strong>å…ƒç»„</strong></p>
</li>
<li><p>æ³¨æ„ï¼š<strong>ä¸€ä¸ªå‡½æ•°æœ€å¤šåªèƒ½å®šä¹‰ä¸€ä¸ªä¸ªæ•°å¯å˜çš„ä½ç½®å½¢å‚</strong></p>
</li>
<li><p>çŸ¥è¯†ç‚¹1ï¼š*_å½“ä¸ªæ•°å¯å˜çš„ä½ç½®å½¢å‚ä¸æ˜¯æœ€åä¸€ä¸ªå½¢å‚æ—¶ï¼Œåˆ™å…¶åçš„æ‰€æœ‰å½¢å‚ä¹Ÿéƒ½ä¼šè¢«å®šä¹‰ä¸ºå…³é”®å­—å½¢å‚ï¼Œæ­¤æ—¶ç›¸å½“äºè¦†ç›–äº†ç¬¬ä¸€ç‚¹â€œä½¿ç”¨_å®šä¹‰å…³é”®å­—å½¢å‚â€çš„ç”¨æ³•**</p>
</li>
<li><p>çŸ¥è¯†ç‚¹2ï¼šå¦‚æœä¼ é€’çš„å®å‚å…¨ä¸ºä½ç½®å®å‚ï¼Œåˆ™æ‰€æœ‰ä¼ é€’è¿‡å»çš„<strong>ä½ç½®å®å‚</strong>éƒ½ä¼šè¢«ä½äºå‰é¢çš„<strong>ä¸ªæ•°å¯å˜çš„ä½ç½®å½¢å‚</strong>æ‰€æ¥æ”¶ï¼Œè¿™ä¼šå¯¼è‡´å…¶åçš„<strong>å…³é”®å­—å½¢å‚</strong>æ¥æ”¶å®å‚ç¼ºå¤±ï¼Œ<strong>æŠ›å‡ºå¼‚å¸¸</strong></p>
</li>
</ul>
</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">def fun1(a, b, *c):</span><br><span class="line">    print(&#x27;a =&#x27;, a, &#x27;b =&#x27;, b, &#x27;c =&#x27;, c)</span><br><span class="line"></span><br><span class="line">fun1(1, 2, 3, 4, 5)  # a = 1 b = 2 c = (3, 4, 5)</span><br><span class="line"></span><br><span class="line">def fun2(a, *b, c, d):</span><br><span class="line">    print(&#x27;a =&#x27;, a, &#x27;b =&#x27;, b, &#x27;c =&#x27;, c, &#x27;d =&#x27;, d)</span><br><span class="line"></span><br><span class="line">fun2(1, 2, 3, 4, c=5, d=6)  # a = 1 b = (2, 3, 4) c = 5 d = 6</span><br><span class="line">&quot;&quot;&quot;fun2(1, 2, 3, 4, 5, 6)</span><br><span class="line">è§£é‡Šï¼šæ­¤æ—¶å®å‚1ä¼ é€’ç»™äº†å½¢å‚aï¼Œè€Œå‰©ä½™æ‰€æœ‰ä½ç½®å®å‚éƒ½è¢«*bæ‰€æ¥æ”¶ï¼Œä»è€Œå¯¼è‡´å…³é”®å­—å®å‚ç¼ºå¤±</span><br><span class="line">æŠ›å‡ºå¼‚å¸¸ï¼šTypeError: fun2() missing 2 required keyword-only arguments: &#x27;c&#x27; and &#x27;d&#x27;</span><br><span class="line">&quot;&quot;&quot;</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>*_ä½¿ç”¨_å°†åºåˆ—ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½è½¬æ¢ä¸ºä½ç½®å®å‚ï¼ˆè§£åŒ…ï¼‰**<ul>
<li>ç®€ä»‹ï¼šè°ƒç”¨å‡½æ•°æ—¶ï¼Œå¯ä»¥åœ¨åºåˆ—å‰åŠ ä¸€ä¸ª*ï¼Œä»è€Œå°†åºåˆ—ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½è½¬æ¢ä¸ºä¸€ä¸ªå•ç‹¬çš„ä½ç½®å®å‚</li>
</ul>
</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">L = [1, 2, 3]</span><br><span class="line"></span><br><span class="line">def fun(a, b, c):</span><br><span class="line">    print(a, b, c)</span><br><span class="line"></span><br><span class="line">fun(L[0], L[1], L[2])  # 1 2 3</span><br><span class="line">fun(*L)  # 1 2 3 ç­‰ä»·ä¸Šå¼</span><br></pre></td></tr></table></figure>

<ol start="4">
<li><strong>ä½¿ç”¨**å®šä¹‰ä¸ªæ•°å¯å˜çš„å…³é”®å­—å½¢å‚</strong><ul>
<li>ç®€ä»‹ï¼šå®šä¹‰å‡½æ•°æ—¶ï¼Œåœ¨å½¢å‚å‰æ·»åŠ ä¸Š**ï¼Œå¯å°†å½¢å‚å®šä¹‰ä¸ºä¸ªæ•°å¯å˜çš„å…³é”®å­—å½¢å‚ï¼Œå¯ä»¥æ¥å—0ä¸ªæˆ–ä»»æ„å¤šä¸ªå…³é”®å­—å®å‚ï¼Œè¿™äº›å…³é”®å­—å®å‚ä¼šå°†ä¸ªæ•°å¯å˜çš„å…³é”®å­—å½¢å‚åˆå§‹åŒ–ä¸ºä¸€ä¸ª<strong>å­—å…¸</strong></li>
<li>æ³¨æ„ï¼š<strong>ä¸€ä¸ªå‡½æ•°æœ€å¤šåªèƒ½å®šä¹‰ä¸€ä¸ªä¸ªæ•°å¯å˜çš„å…³é”®å­—å½¢å‚ï¼›ä¸”ä¸ªæ•°å¯å˜çš„ä½ç½®å½¢å‚å¿…é¡»ä½äºä¸ªæ•°å¯å˜çš„å…³é”®å­—å½¢å‚ä¹‹å‰</strong></li>
</ul>
</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">def f(**kwargs):</span><br><span class="line">    print(kwargs)</span><br><span class="line"></span><br><span class="line">f()  # &#123;&#125;</span><br><span class="line">f(a=1)  # &#123;&#x27;a&#x27;: 1&#125;</span><br><span class="line">f(a=1, b=2, c=3)  # &#123;&#x27;a&#x27;: 1, &#x27;b&#x27;: 2, &#x27;c&#x27;: 3&#125;</span><br><span class="line"></span><br><span class="line">def fun(*args, **kwargs):</span><br><span class="line">    print(kwargs, args)</span><br><span class="line"></span><br><span class="line">&quot;&quot;&quot;å¯å˜ä½ç½®å½¢å‚å¿…é¡»ä½äºå¯å˜å…³é”®å­—å½¢å‚ä¹‹å‰ï¼Œå¦åˆ™æŠ¥é”™</span><br><span class="line">def fun(**kwargs, *args):</span><br><span class="line">    pass</span><br><span class="line"></span><br><span class="line">æŠ›å‡ºå¼‚å¸¸ï¼šSyntaxError: arguments cannot follow var-keyword argument</span><br><span class="line">&quot;&quot;&quot;</span><br></pre></td></tr></table></figure>

<ol start="5">
<li><strong>ä½¿ç”¨**å°†å­—å…¸ä¸­çš„æ¯ä¸ªå¥å€¼å¯¹éƒ½è½¬æ¢ä¸ºå…³é”®å­—å®å‚ï¼ˆè§£åŒ…ï¼‰</strong><ul>
<li>ç®€ä»‹ï¼šè°ƒç”¨å‡½æ•°æ—¶ï¼Œå¯ä»¥åœ¨å­—å…¸å‰åŠ ä¸Š**ï¼Œä»è€Œå°†å­—å…¸ä¸­çš„æ¯ä¸ªå¥å€¼å¯¹éƒ½è½¬æ¢ä¸ºä¸€ä¸ªå•ç‹¬çš„å…³é”®å­—å®å‚</li>
</ul>
</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">d = &#123;&#x27;a&#x27;: 1, &#x27;b&#x27;: 2, &#x27;c&#x27;: 3&#125;</span><br><span class="line"></span><br><span class="line">def fun(**kwargs):</span><br><span class="line">    print(kwargs)</span><br><span class="line"></span><br><span class="line">fun(a=d[&#x27;a&#x27;], b=d[&#x27;b&#x27;], c=d[&#x27;c&#x27;])  # &#123;&#x27;a&#x27;: 1, &#x27;b&#x27;: 2, &#x27;c&#x27;: 3&#125;</span><br><span class="line">fun(**d)  # &#123;&#x27;a&#x27;: 1, &#x27;b&#x27;: 2, &#x27;c&#x27;: 3&#125;</span><br></pre></td></tr></table></figure>

<ol start="6">
<li>ç»¼åˆæ¡ˆä¾‹</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"># æ¡ˆä¾‹1</span><br><span class="line">def f1(a, b=5, *args, **kwargs):</span><br><span class="line">    print(&#x27;a =&#x27;, a, &#x27;b =&#x27;, b, &#x27;args =&#x27;, args, &#x27;kwargs =&#x27;, kwargs)</span><br><span class="line"></span><br><span class="line">f1(2)  # a = 2 b = 5 args = () kwargs = &#123;&#125;</span><br><span class="line">f1(2, 6, 7, 8, c=9)  # a = 2 b = 6 args = (7, 8) kwargs = &#123;&#x27;c&#x27;: 9&#125;</span><br><span class="line"></span><br><span class="line"># æ¡ˆä¾‹2</span><br><span class="line">def f2(a, b=5, *, c, **kwargs):</span><br><span class="line">    print(&#x27;a =&#x27;, a, &#x27;b =&#x27;, b, &#x27;c =&#x27;, c, &#x27;kwargs =&#x27;, kwargs)</span><br><span class="line"></span><br><span class="line">f2(3, c=8, d=10)  # a = 3 b = 5 c = 8 kwargs = &#123;&#x27;d&#x27;: 10&#125;</span><br><span class="line">my_list = (3, 6)</span><br><span class="line">my_dict = &#123;&#x27;c&#x27;: 8, &#x27;d&#x27;: 10&#125;</span><br><span class="line">f2(*my_list, **my_dict)  # a = 3 b = 6 c = 8 kwargs = &#123;&#x27;d&#x27;: 10&#125;</span><br></pre></td></tr></table></figure>

<h4 id="6-é€’å½’å‡½æ•°"><a href="#6-é€’å½’å‡½æ•°" class="headerlink" title="6. é€’å½’å‡½æ•°"></a>6. é€’å½’å‡½æ•°</h4><ul>
<li>ç®€ä»‹ï¼šå¦‚æœåœ¨ä¸€ä¸ªå‡½æ•°ä½“å†…è°ƒç”¨äº†è¯¥å‡½æ•°æœ¬èº«ï¼Œåˆ™è¯¥å‡½æ•°å°±æ˜¯é€’å½’å‡½æ•°</li>
<li>æ³¨æ„ï¼š<strong>å½“é€’å½’è¶…è¿‡æœ€å¤§æ·±åº¦æ—¶ï¼Œç³»ç»Ÿä¼šæŠ›å‡ºå¼‚å¸¸ã€‚å¯è°ƒç”¨æ ‡å‡†åº“æ¨¡å—sysä¸­çš„å‡½æ•°setrecursionlimit(n)è®¾ç½®é€’å½’æœ€å¤§æ·±åº¦</strong></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/env python3</span><br><span class="line"># -*- coding:utf-8 -*-</span><br><span class="line">import sys</span><br><span class="line"></span><br><span class="line">sys.setrecursionlimit(10000)  # è®¾ç½®é€’å½’æ·±åº¦ä¸º10000</span><br><span class="line"></span><br><span class="line">def fac(n):</span><br><span class="line">    &quot;&quot;&quot;ä½¿ç”¨é€’å½’è®¡ç®—é˜¶ä¹˜&quot;&quot;&quot;</span><br><span class="line">    if n == 1:</span><br><span class="line">        return 1</span><br><span class="line">    return n * fac(n - 1)</span><br><span class="line"></span><br><span class="line">print(&#x27;fac(6) =&#x27;, fac(6))  # fac(6) = 720</span><br><span class="line"></span><br><span class="line">def fib(n):</span><br><span class="line">    &quot;&quot;&quot;ä½¿ç”¨é€’å½’è®¡ç®—æ–æ³¢é‚£åˆ‡æ•°åˆ—</span><br><span class="line">    F0=0, F1=1, Fn=F(n-1)+F(n-2)(n&gt;=2)</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    if n == 0:</span><br><span class="line">        return 0</span><br><span class="line">    if n == 1:</span><br><span class="line">        return 1</span><br><span class="line">    return fib(n - 1) + fib(n - 2)</span><br><span class="line"></span><br><span class="line">print(&#x27;fib(6) =&#x27;, fib(6))  # fib(6) = 8</span><br></pre></td></tr></table></figure>

<h4 id="7-passè¯­å¥ã€æ–‡æ¡£å­—ç¬¦ä¸²ã€å‡½æ•°æ³¨è§£"><a href="#7-passè¯­å¥ã€æ–‡æ¡£å­—ç¬¦ä¸²ã€å‡½æ•°æ³¨è§£" class="headerlink" title="7. passè¯­å¥ã€æ–‡æ¡£å­—ç¬¦ä¸²ã€å‡½æ•°æ³¨è§£"></a>7. passè¯­å¥ã€æ–‡æ¡£å­—ç¬¦ä¸²ã€å‡½æ•°æ³¨è§£</h4><ul>
<li>passè¯­å¥ï¼šåªæ˜¯ä¸€ä¸ªå ä½ç¬¦ï¼Œä»€ä¹ˆéƒ½ä¸åšï¼Œç”¨åœ¨è¯­æ³•ä¸Šéœ€è¦å ä½çš„åœ°æ–¹ï¼šifã€for-inã€å‡½æ•°ä½“ç­‰</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">age = 21</span><br><span class="line">if age &gt; 18:</span><br><span class="line">    pass</span><br><span class="line"></span><br><span class="line">for i in range(8):</span><br><span class="line">    pass</span><br><span class="line"></span><br><span class="line">def do_something():</span><br><span class="line">    pass</span><br></pre></td></tr></table></figure>

<ul>
<li><p>æ–‡æ¡£å­—ç¬¦ä¸²</p>
<ul>
<li><p>ç®€ä»‹ï¼šå¯¹äºå‡½æ•°ã€æ¨¡å—ã€ç±»æˆ–æ–¹æ³•ï¼Œä½äºå…¶ç¬¬ä¸€è¡Œçš„å­—ç¬¦ä¸²è¢«ç§°ä¸ºæ–‡æ¡£å­—ç¬¦ä¸²ï¼Œé€šå¸¸ç”¨ä¸‰ä¸ªå¼•å·è¡¨ç¤º</p>
</li>
<li><p>çŸ¥è¯†ç‚¹ï¼šé€šè¿‡**å±æ€§__doc__<strong>å¯ä»¥è®¿é—®æ–‡æ¡£å­—ç¬¦ä¸²ï¼›é€šè¿‡</strong>å†…ç½®å‡½æ•°help()**å¾—åˆ°çš„å¸®åŠ©ä¿¡æ¯ä¸­ä¹ŸåŒ…å«æ–‡æ¡£å­—ç¬¦ä¸²</p>
</li>
</ul>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&quot;&quot;&quot;å‡½æ•°çš„æ–‡æ¡£å­—ç¬¦ä¸²çš„å¸¸è§å†…å®¹å’Œæ ¼å¼çº¦å®š</span><br><span class="line">1. ç¬¬ä¸€è¡Œæ—¶ç®€æ˜æ‰¼è¦çš„æ€»ç»“</span><br><span class="line">2. ç¬¬ä¸€è¡Œçš„é¦–å­—æ¯å¤§å†™ï¼Œç¬¬ä¸€è¡Œä»¥å¥å·ç»“å°¾</span><br><span class="line">3. å¦‚æœæ–‡æ¡£å­—ç¬¦ä¸²åŒ…å«å¤šè¡Œï¼Œç¬¬äºŒè¡Œæ˜¯ç©ºè¡Œï¼Œä»ç¬¬ä¸‰è¡Œå¼€å§‹æ˜¯è¯¦ç»†çš„æè¿°</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line"></span><br><span class="line">def form_complex(real=0.0, imag=0.0):</span><br><span class="line">    &quot;&quot;&quot;Form a complex number.</span><br><span class="line"></span><br><span class="line">    Keyword arguments:</span><br><span class="line">    real -- the real partï¼ˆdefault 0.0ï¼‰</span><br><span class="line">    imag -- the imaginary partï¼ˆdefault 0.0ï¼‰</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    pass</span><br><span class="line"></span><br><span class="line">print(form_complex.__doc__)  # ......</span><br><span class="line">print(help(form_complex))  # ......</span><br></pre></td></tr></table></figure>

<ul>
<li><p>å‡½æ•°æ³¨è§£</p>
<ul>
<li><p>ç®€ä»‹ï¼šå®šä¹‰å‡½æ•°æ—¶ï¼Œä¸ºäº†è®©å½¢å‚æˆ–è¿”å›å€¼çš„ç±»å‹æˆ–ä½œç”¨æ›´åŠ æ¸…æ™°ï¼Œå¯ä»¥ç»™å½¢å‚æˆ–è¿”å›å€¼æ·»åŠ å‡½æ•°æ³¨è§£ï¼Œä»¥å¸®åŠ©å‡½æ•°æ–‡æ¡£åŒ–</p>
</li>
<li><p>æ³¨æ„ï¼š<strong>è§£é‡Šå™¨ä¼šå¿½ç•¥å‡½æ•°æ³¨è§£ï¼Œå› æ­¤è§£é‡Šå™¨å¹¶ä¸ä¼šä½¿ç”¨å‡½æ•°æ³¨è§£æ¥æ£€æŸ¥å®å‚çš„ç±»å‹å’Œè¿”å›å€¼çš„ç±»å‹</strong></p>
</li>
<li><p>çŸ¥è¯†ç‚¹ï¼šé€šè¿‡**å±æ€§__annotations__<strong>å¯ä»¥è®¿é—®å‡½æ•°æ³¨è§£ï¼›é€šè¿‡</strong>å†…ç½®å‡½æ•°help()**å¾—åˆ°çš„å¸®åŠ©ä¿¡æ¯ä¸­ä¹ŸåŒ…å«å‡½æ•°æ³¨è§£</p>
</li>
</ul>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&quot;&quot;&quot;æ·»åŠ å‡½æ•°æ³¨è§£çš„æ–¹å¼</span><br><span class="line">ç»™å½¢å‚æ·»åŠ å‡½æ•°æ³¨è§£ï¼šåœ¨å½¢å‚åé¢æ·»åŠ :å’Œä»»æ„çš„è¡¨è¾¾å¼</span><br><span class="line">ç»™è¿”å›å€¼æ·»åŠ å‡½æ•°æ³¨è§£ï¼šåœ¨)çš„åé¢æ·»åŠ -&gt;å’Œä»»æ„çš„è¡¨è¾¾å¼</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line"></span><br><span class="line">def f(a: &#x27;string type&#x27;, b: int) -&gt; &#x27;join a with b&#x27;:</span><br><span class="line">    return a + str(b)</span><br><span class="line"></span><br><span class="line">print(f(&#x27;hello&#x27;, 12.3))  # hello12.3</span><br><span class="line">print(f.__annotations__)  # &#123;&#x27;a&#x27;: &#x27;string type&#x27;, &#x27;b&#x27;: &lt;class &#x27;int&#x27;&gt;, &#x27;return&#x27;: &#x27;join a with b&#x27;&#125;</span><br><span class="line">print(help(f))  # ......</span><br></pre></td></tr></table></figure>

<h2 id="äºŒã€æµ…æ‹·è´å’Œæ·±æ‹·è´"><a href="#äºŒã€æµ…æ‹·è´å’Œæ·±æ‹·è´" class="headerlink" title="äºŒã€æµ…æ‹·è´å’Œæ·±æ‹·è´"></a>äºŒã€æµ…æ‹·è´å’Œæ·±æ‹·è´</h2><h4 id="1-æµ…æ‹·è´"><a href="#1-æµ…æ‹·è´" class="headerlink" title="1. æµ…æ‹·è´"></a>1. æµ…æ‹·è´</h4><ul>
<li><p>ç®€ä»‹ï¼šå¯¹äºæŸä¸ªå¯¹è±¡ï¼Œåˆ›å»ºä¸è¯¥å¯¹è±¡å…·æœ‰ç›¸åŒå€¼çš„ä¸€ä¸ªæ–°å¼•ç”¨ï¼Œä½†æ˜¯<strong>è¿™ä¸¤ä¸ªå¯¹è±¡å†…éƒ¨åµŒå¥—çš„å¯¹åº”å­å¯¹è±¡å…¨éƒ½æ˜¯åŒä¸€ä¸ªå¼•ç”¨</strong></p>
</li>
<li><p>åº”ç”¨ï¼š</p>
<ol>
<li>åˆ‡ç‰‡æ“ä½œ[ : ]</li>
<li>è°ƒç”¨åˆ—è¡¨ã€å­—å…¸ã€é›†åˆçš„æ–¹æ³•copy()</li>
<li>è°ƒç”¨å†…ç½®å‡½æ•°list()ã€dict()ã€set()</li>
<li>è°ƒç”¨æ ‡å‡†åº“æ¨¡å—copyä¸­çš„å‡½æ•°copy()</li>
</ol>
</li>
<li><p><strong>é‡ç‚¹ï¼šå¯¹äºæ²¡æœ‰åµŒå¥—å­å¯¹è±¡çš„ä¸å¯å˜å¯¹è±¡ï¼Œä¾‹å¦‚ï¼šæ•´æ•°ã€å­—ç¬¦ä¸²å’Œå…ƒç»„å¯¹è±¡ç­‰ï¼Œä¸ä¼šè¿›è¡Œæ‹·è´ï¼Œå³ä¸ä¼šåˆ›å»ºæ–°å¼•ç”¨</strong></p>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">import copy</span><br><span class="line"></span><br><span class="line">L = [[3, 6], 8]</span><br><span class="line"></span><br><span class="line">L1 = L[:]</span><br><span class="line">L2 = L.copy()</span><br><span class="line">L3 = list(L)</span><br><span class="line">L4 = copy.copy(L)</span><br><span class="line"></span><br><span class="line">print(id(L), id(L[0]), id(L[1]))  # 4335878976 4335878848 4334207440</span><br><span class="line">print(id(L1), id(L1[0]), id(L1[1]))  # 4335878912 4335878848 4334207440</span><br><span class="line">print(id(L2), id(L2[0]), id(L2[1]))  # 4335881600 4335878848 4334207440</span><br><span class="line">print(id(L3), id(L3[0]), id(L3[1]))  # 4335879168 4335878848 4334207440</span><br><span class="line">print(id(L4), id(L4[0]), id(L4[1]))  # 4335881984 4335878848 4334207440</span><br><span class="line"># ç»“è®ºï¼š4ç§æ–¹æ³•éƒ½æ˜¯æµ…æ‹·è´ï¼Œä»…æ‹·è´äº†æœ€å¤–éƒ¨çš„Lå¯¹è±¡ï¼Œæ²¡æœ‰æ‹·è´å†…éƒ¨å¯¹è±¡ï¼Œæ­¤æ—¶å†…éƒ¨å¯¹è±¡ä¾ç„¶æŒ‡å‘åŒä¸€å¯¹è±¡ï¼ˆåœ°å€ç›¸åŒï¼‰</span><br><span class="line"></span><br><span class="line">L[0][1] = 7</span><br><span class="line">L[1] = 9</span><br><span class="line">print(L, L1)  # [[3, 7], 9] [[3, 7], 8]</span><br><span class="line"># è§£é‡Šï¼šè™½ç„¶å­å¯¹è±¡åˆ—è¡¨å’Œæ•´æ•°éƒ½æ²¡æœ‰è¢«æ‹·è´ï¼Œä½†æ˜¯ç”±äºåˆ—è¡¨æ˜¯å¯å˜å¯¹è±¡ï¼Œ</span><br><span class="line"># è€Œæ•´æ•°æ˜¯ä¸å¯å˜å¯¹è±¡ï¼Œæ‰€ä»¥L1ä¸­çš„åˆ—è¡¨è¢«åŒæ­¥ä¿®æ”¹äº†ï¼Œè€Œæ•´æ•°å¹¶æ²¡æœ‰è¢«æ”¹å˜</span><br><span class="line"></span><br><span class="line"># é‡ç‚¹ï¼šå¯¹äºæ²¡æœ‰åµŒå¥—å­å¯¹è±¡çš„ä¸å¯å˜å¯¹è±¡ï¼Œæ˜¯ä¸ä¼šè¿›è¡Œæ‹·è´çš„</span><br><span class="line">i = 8</span><br><span class="line">ip = int(i)</span><br><span class="line">ip1 = copy.copy(i)</span><br><span class="line">print(id(i), id(ip), id(ip1))  # 4380836304 4380836304 4380836304</span><br><span class="line"></span><br><span class="line">t = (1, 2, 3)</span><br><span class="line">tp = tuple(t)</span><br><span class="line">tp1 = copy.copy(t)</span><br><span class="line">print(id(t), id(tp), id(tp1))  # 4382390208 4382390208 4382390208</span><br></pre></td></tr></table></figure>

<h4 id="2-æ·±æ‹·è´"><a href="#2-æ·±æ‹·è´" class="headerlink" title="2. æ·±æ‹·è´"></a>2. æ·±æ‹·è´</h4><ul>
<li><p>ç®€ä»‹ï¼šå¯¹äºæŸä¸ªå¯¹è±¡ï¼Œåˆ›å»ºä¸è¯¥å¯¹è±¡å…·æœ‰ç›¸åŒå€¼çš„ä¸€ä¸ªæ–°å¼•ç”¨ï¼ŒåŒæ—¶<strong>è¿™ä¸¤ä¸ªå¯¹è±¡å†…éƒ¨åµŒå¥—çš„å¯¹åº”å¯å˜å­å¯¹è±¡å…¨éƒ½ä¸æ˜¯åŒä¸€ä¸ªå¼•ç”¨ï¼Œè€Œå¯¹åº”ä¸å¯å˜å­å¯¹è±¡ä¾ç„¶æ˜¯åŒä¸€ä¸ªå¼•ç”¨</strong></p>
</li>
<li><p>åº”ç”¨ï¼šå¯ä»¥è°ƒç”¨æ ‡å‡†åº“æ¨¡å—copyä¸­çš„å‡½æ•°deepcopy()å®ç°æ·±æ‹·è´</p>
</li>
<li><p><strong>é‡ç‚¹1ï¼šå¯¹äºæ²¡æœ‰åµŒå¥—å­å¯¹è±¡çš„ä¸å¯å˜å¯¹è±¡ï¼Œä¾‹å¦‚ï¼šæ•´æ•°ã€å­—ç¬¦ä¸²å’Œå…ƒç»„å¯¹è±¡ç­‰ï¼Œä¸ä¼šè¿›è¡Œæ‹·è´ï¼Œå³ä¸ä¼šåˆ›å»ºæ–°å¼•ç”¨</strong></p>
</li>
<li><p><strong>é‡ç‚¹2ï¼šå¯¹äºåµŒå¥—äº†å¯å˜å­å¯¹è±¡çš„ä¸å¯å˜å¯¹è±¡ï¼Œæ·±æ‹·è´æ—¶ä¼šè¿›è¡Œæ‹·è´ï¼Œå³ä¼šåˆ›å»ºä¸€ä¸ªä¸è¯¥ä¸å¯å˜å¯¹è±¡å…·æœ‰ç›¸åŒå€¼çš„æ–°å¼•ç”¨</strong></p>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">import copy</span><br><span class="line"></span><br><span class="line">L1 = [[3, 6], 8]</span><br><span class="line">L2 = copy.deepcopy(L1)</span><br><span class="line">print(L1, L2)  # [[3, 6], 8] [[3, 6], 8]</span><br><span class="line"></span><br><span class="line">print(id(L1), id(L1[0]), id(L1[1]))  # 4365312512 4365312256 4363764176</span><br><span class="line">print(id(L2), id(L2[0]), id(L2[1]))  # 4365312192 4365421056 4363764176</span><br><span class="line"># ç»“è®ºï¼šè¿™é‡Œæ·±æ‹·è´ä¸­å†…éƒ¨å…ƒç´ ï¼Œä»…å¯¹åˆ—è¡¨è¿›è¡Œäº†æ‹·è´ï¼Œè¿™æ˜¯å› ä¸ºå¯¹äºæ²¡æœ‰åµŒå¥—å­å¯¹è±¡çš„ä¸å¯å˜å¯¹è±¡æ˜¯ä¸ä¼šè¿›è¡Œæ‹·è´çš„</span><br><span class="line"></span><br><span class="line">L1[0][1] = 7</span><br><span class="line">L1[1] = 9</span><br><span class="line">print(L1, L2)  # [[3, 7], 9] [[3, 6], 8]</span><br><span class="line"># è§£é‡Šï¼šL2çš„åˆ—è¡¨æ²¡æœ‰æ”¹å˜æ˜¯å› ä¸ºå­å¯¹è±¡è¿›è¡Œäº†æ‹·è´ï¼Œè€Œæ•´æ•°ç”±äºæ˜¯ä¸å¯å˜å¯¹è±¡ï¼Œæ‰€ä»¥å³ä½¿æ²¡æœ‰æ‹·è´ï¼Œä¹Ÿä¸ä¼šè¢«æ”¹å˜</span><br><span class="line"></span><br><span class="line"># é‡ç‚¹1ï¼šå¯¹äºæ²¡æœ‰åµŒå¥—å­å¯¹è±¡çš„ä¸å¯å˜å¯¹è±¡ï¼Œæ˜¯ä¸ä¼šè¿›è¡Œæ‹·è´çš„</span><br><span class="line">i = 18</span><br><span class="line">ic = copy.deepcopy(i)</span><br><span class="line">print(ic)  # 18</span><br><span class="line">print(id(i), id(ic))  # 4299146000 4299146000</span><br><span class="line"></span><br><span class="line">t = (1, 2, 3)</span><br><span class="line">tc = copy.deepcopy(t)</span><br><span class="line">print(tc)  # (1, 2, 3)</span><br><span class="line">print(id(t), id(tc))  # 4302305216 4302305216</span><br><span class="line"></span><br><span class="line"># é‡ç‚¹2ï¼šä¸å¯å˜å¯¹è±¡å†…éƒ¨åˆåµŒå¥—äº†å¯å˜å­å¯¹è±¡çš„æƒ…å†µ</span><br><span class="line">t1 = ([3, 6], 8)</span><br><span class="line">t2 = copy.deepcopy(t1)</span><br><span class="line"></span><br><span class="line">print(id(t1), id(t1[0]), id(t1[1]))  # 4365418624 4365585088 4363764176</span><br><span class="line">print(id(t2), id(t2[0]), id(t2[1]))  # 4365421184 4365585344 4363764176</span><br></pre></td></tr></table></figure>

<h2 id="ä¸‰ã€é¢å‘å¯¹è±¡"><a href="#ä¸‰ã€é¢å‘å¯¹è±¡" class="headerlink" title="ä¸‰ã€é¢å‘å¯¹è±¡"></a>ä¸‰ã€é¢å‘å¯¹è±¡</h2><blockquote>
<p><strong>é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡</strong>ï¼ˆObject Oriented Programmingï¼Œ<strong>ç®€ç§°OOP</strong>ï¼‰æ˜¯ä¸€ç§è®¡ç®—æœºç¼–ç¨‹æ¶æ„ã€‚OOPçš„ä¸€æ¡åŸºæœ¬åŸåˆ™æ˜¯è®¡ç®—æœºç¨‹åºç”±å•ä¸ªèƒ½å¤Ÿèµ·åˆ°å­ç¨‹åºä½œç”¨çš„å•å…ƒæˆ–å¯¹è±¡ç»„åˆè€Œæˆã€‚OOPè¾¾åˆ°äº†è½¯ä»¶å·¥ç¨‹çš„ä¸‰ä¸ªä¸»è¦ç›®æ ‡ï¼šé‡ç”¨æ€§ã€çµæ´»æ€§å’Œæ‰©å±•æ€§ã€‚OOP&#x3D;å¯¹è±¡+ç±»+ç»§æ‰¿+å¤šæ€+æ¶ˆæ¯ï¼Œå…¶ä¸­æ ¸å¿ƒæ¦‚å¿µæ˜¯<strong>ç±»å’Œå¯¹è±¡</strong>ã€‚</p>
</blockquote>
<h4 id="1-ç±»å’Œå¯¹è±¡"><a href="#1-ç±»å’Œå¯¹è±¡" class="headerlink" title="1. ç±»å’Œå¯¹è±¡"></a>1. ç±»å’Œå¯¹è±¡</h4><p>æ“ä½œ</p>
<p>åœ¨ç±»å¯¹è±¡çš„å†…éƒ¨ï¼ˆæ–¹æ³•ä¸­ï¼‰</p>
<p>åœ¨ç±»å¯¹è±¡çš„å¤–éƒ¨</p>
<p>å®ä¾‹å±æ€§</p>
<p>ç»‘å®š</p>
<p>self.å±æ€§å&#x3D;å±æ€§å€¼</p>
<p>å®ä¾‹å¯¹è±¡.å±æ€§å&#x3D;å±æ€§å€¼ï¼ˆå·²å­˜åœ¨åˆ™æ˜¯ä¿®æ”¹å€¼ï¼‰</p>
<p>è®¿é—®</p>
<p>self.å±æ€§å</p>
<p>å®ä¾‹å¯¹è±¡.å±æ€§å</p>
<p>ç±»å±æ€§</p>
<p>ç»‘å®š</p>
<p>å±æ€§å&#x3D;å±æ€§å€¼</p>
<p>ç±»å¯¹è±¡.å±æ€§å&#x3D;å±æ€§å€¼ï¼ˆå·²å­˜åœ¨åˆ™æ˜¯ä¿®æ”¹å€¼ï¼‰</p>
<p>è®¿é—®</p>
<p>ç±»å¯¹è±¡.å±æ€§å</p>
<p>ç±»å¯¹è±¡.å±æ€§å æˆ– å®ä¾‹å¯¹è±¡.å±æ€§å</p>
<p>å®ä¾‹æ–¹æ³•</p>
<p>è§£é‡Š</p>
<p>å®ä¾‹æ–¹æ³•æŒ‡çš„æ˜¯åªæœ‰å®ä¾‹å¯¹è±¡æ‰å¯ä»¥è°ƒç”¨çš„æ–¹æ³•ï¼Œå®šæœ‰å‚æ•°ä¸ºself</p>
<p>è°ƒç”¨</p>
<p>self.æ–¹æ³•å([å®å‚])</p>
<p>å®ä¾‹å¯¹è±¡.æ–¹æ³•å([å®å‚])</p>
<p>ç±»æ–¹æ³•</p>
<p>è§£é‡Š</p>
<p>ç±»æ–¹æ³•æŒ‡çš„æ˜¯ç±»å¯¹è±¡ä¸­ä½¿ç”¨è£…é¥°å™¨@classmethodè¿›è¡Œè£…é¥°çš„æ–¹æ³•ï¼Œå®šæœ‰å‚æ•°ä¸ºcls</p>
<p>è°ƒç”¨</p>
<p>cls.æ–¹æ³•å([å®å‚]) æˆ– self.æ–¹æ³•å([å®å‚])</p>
<p>ç±»å¯¹è±¡.æ–¹æ³•å([å®å‚]) æˆ– å®ä¾‹å¯¹è±¡.æ–¹æ³•å([å®å‚])</p>
<p>é™æ€æ–¹æ³•</p>
<p>è§£é‡Š</p>
<p>é™æ€æ–¹å¼æŒ‡çš„æ˜¯ç±»å¯¹è±¡ä¸­ä½¿ç”¨è£…é¥°å™¨@staticmethodè¿›è¡Œè£…é¥°çš„æ–¹æ³•ï¼Œåªæ˜¯ä¸€ä¸ªæ™®é€šå‡½æ•°ï¼Œæ— å®šæœ‰å‚æ•°</p>
<p>è°ƒç”¨</p>
<p>cls.æ–¹æ³•å([å®å‚]) æˆ– self.æ–¹æ³•å([å®å‚])</p>
<p>ç±»å¯¹è±¡.æ–¹æ³•å([å®å‚]) æˆ– å®ä¾‹å¯¹è±¡.æ–¹æ³•å([å®å‚])</p>
<ul>
<li>æ³¨æ„ï¼š<strong>è®¿é—®å®ä¾‹å±æ€§å’Œç±»å±æ€§éƒ½å¯ä»¥é€šè¿‡â€œå®ä¾‹å¯¹è±¡.å±æ€§åâ€çš„æ–¹å¼è®¿é—®</strong>ã€‚ä½†å…¶ä¼˜å…ˆçº§æ˜¯<strong>å®ä¾‹å±æ€§&gt;ç±»å±æ€§</strong>ï¼ˆå®ä¾‹å±æ€§å­˜åœ¨åˆ™ä¼šå±è”½ç±»å±æ€§çš„å€¼ï¼Œå®ä¾‹å±æ€§ä¸å­˜åœ¨åˆ™è¾“å‡ºç±»å±æ€§çš„å€¼ï¼‰</li>
<li><strong>é‡ç‚¹ï¼š</strong><ol>
<li><strong>ç”±äºç±»å¯¹è±¡çš„æ‰€æœ‰å®ä¾‹å¯¹è±¡éƒ½æœ‰ä¸€ä¸ªæŒ‡å‘ç±»å¯¹è±¡çš„æŒ‡é’ˆï¼Œæ‰€ä»¥ç±»å¯¹è±¡çš„æ‰€æœ‰å®ä¾‹å¯¹è±¡éƒ½å¯ä»¥è°ƒç”¨ç±»å¯¹è±¡ä¸­å®šä¹‰çš„å®ä¾‹æ–¹æ³•å’Œç±»æ–¹æ³•ï¼ˆè‹¥ä¸¤è€…æ–¹æ³•åç›¸åŒï¼Œåˆ™ä¸‹é¢çš„è¦†ç›–ä¸Šé¢çš„ï¼‰ï¼</strong></li>
<li><strong>pythonä¸èƒ½é‡è½½æ„é€ æ–¹æ³•ï¼ä½†å¯ä»¥åˆ©ç”¨è®¾ç½®é»˜è®¤å€¼å½¢å‚å’Œå¤šé€‰æ¥è¾¾åˆ°javaä¸­é‡è½½çš„ç›®çš„ï¼Œè€Œä¸ç”¨å†æ¬¡é‡è½½å®šä¹‰æ„é€ æ–¹æ³•</strong></li>
</ol>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">class Student:</span><br><span class="line"></span><br><span class="line">    # å®šä¹‰åˆå§‹åŒ–æ–¹æ³•ï¼ˆæ„é€ æ–¹æ³•ï¼‰ï¼Œç”¨äºåˆå§‹åŒ–å¯¹è±¡å±æ€§ï¼ˆä¸æ”¯æŒé‡è½½ï¼‰ï¼Œåˆ›å»ºå®ä¾‹å¯¹è±¡æ—¶ä¼šè‡ªåŠ¨è°ƒç”¨</span><br><span class="line">    def __init__(self, playgame=None):</span><br><span class="line">        self.sex = &#x27;ç”·&#x27;</span><br><span class="line">        self.playgame = playgame</span><br><span class="line"></span><br><span class="line">    # ç±»å±æ€§</span><br><span class="line">    hobby = &#x27;ç¡è§‰&#x27;</span><br><span class="line"></span><br><span class="line">    # å®ä¾‹æ–¹æ³•</span><br><span class="line">    def fun(self, name=&#x27;åŒ¿åè€…&#x27;):  # nameå¦‚æœç»™é»˜è®¤å€¼å°±ä¸æ˜¯å¿…é€‰å‚æ•°äº†ï¼Œæ²¡æœ‰é»˜è®¤å€¼åˆ™æ˜¯å¿…é€‰å‚æ•°</span><br><span class="line">        print(&#x27;æˆ‘å«&#x27; + name + &#x27;ï¼Œæ€§åˆ«&#x27; + self.sex + &#x27;ï¼Œçˆ±å¥½&#x27; + self.hobby)</span><br><span class="line">        # print(self.fun1())  # åœ¨å®ä¾‹æ–¹æ³•å¯ä»¥ä¸­è°ƒç”¨ç±»æ–¹æ³•</span><br><span class="line">        # print(self.fun2(&#x27;æˆ‘å–œæ¬¢&#x27;))  # åœ¨å®ä¾‹æ–¹æ³•ä¸­å¯ä»¥è°ƒç”¨é™æ€æ–¹æ³•</span><br><span class="line"></span><br><span class="line">    # ç±»æ–¹æ³•</span><br><span class="line">    @classmethod</span><br><span class="line">    def fun1(cls):</span><br><span class="line">        print(cls.hobby)  # åªèƒ½è®¿é—®ç±»å±æ€§</span><br><span class="line">        # print(cls.fun2(&#x27;æˆ‘çˆ±&#x27;))  # åœ¨ç±»æ–¹æ³•ä¸­å¯ä»¥è°ƒç”¨é™æ€æ–¹æ³•</span><br><span class="line"></span><br><span class="line">    # é™æ€æ–¹æ³•</span><br><span class="line">    @staticmethod</span><br><span class="line">    def fun2(aaa):  # é™æ€æ–¹æ³•ä¸­æ— `å®šæœ‰å‚æ•°`ï¼Œaaaåªæ˜¯æ™®é€šå‚æ•°</span><br><span class="line">        print(aaa, Student.hobby)  # åªèƒ½é€šè¿‡ç±»åè®¿é—®ç±»å±æ€§</span><br><span class="line"></span><br><span class="line"># åˆ›å»ºå®ä¾‹å¯¹è±¡</span><br><span class="line">tom = Student(&quot;lol&quot;)</span><br><span class="line">alice = Student()</span><br><span class="line">print(tom.playgame, alice.playgame)  # lol None</span><br><span class="line"></span><br><span class="line"># è®¿é—®-ç±»å±æ€§ï¼ˆä¼˜å…ˆçº§é—®é¢˜ï¼‰</span><br><span class="line">print(Student.hobby)  # é€šè¿‡ç±»è®¿å¯¹è±¡é—®ç±»å±æ€§ï¼Œç¡è§‰</span><br><span class="line">tom.hobby = &#x27;å¹²é¥­&#x27;  # ä¸ºtomæ·»åŠ äº†ä¸€ä¸ªå®ä¾‹å±æ€§ï¼Œå¹¶ä¸ä¼šæ”¹å˜ç±»å±æ€§ä¸­hobbyçš„å€¼</span><br><span class="line">print(tom.hobby)  # ç”±äºtomå·²ç»æœ‰å®ä¾‹å±æ€§ï¼Œä¼˜å…ˆçº§é«˜äºç±»å±æ€§ï¼Œæ‰€ä»¥è¿™é‡Œæ˜¯è®¿é—®çš„å®ä¾‹å±æ€§ï¼Œå¹²é¥­</span><br><span class="line">print(alice.hobby)  # aliceè®¿é—®æ—¶ï¼Œç”±äºæ²¡æœ‰å®ä¾‹å±æ€§hobbyï¼Œæ‰€ä»¥è®¿é—®çš„æ˜¯ç±»å±æ€§ï¼Œç¡è§‰</span><br><span class="line"></span><br><span class="line"># è®¿é—®-å®ä¾‹æ–¹æ³•</span><br><span class="line">tom.fun()  # æˆ‘å«åŒ¿åè€…ï¼Œæ€§åˆ«ç”·ï¼Œçˆ±å¥½ç¡è§‰</span><br><span class="line">tom.fun(&#x27;æ±¤å§†&#x27;)  # æˆ‘å«æ±¤å§†ï¼Œæ€§åˆ«ç”·ï¼Œçˆ±å¥½ç¡è§‰</span><br><span class="line"></span><br><span class="line"># è®¿é—®-ç±»æ–¹æ³•</span><br><span class="line">Student.fun1()  # é€šè¿‡ç±»å¯¹è±¡è®¿é—®ç±»æ–¹æ³•ï¼Œç¡è§‰</span><br><span class="line">tom.fun1()  # é€šè¿‡å®ä¾‹å¯¹è±¡è®¿é—®ç±»æ–¹æ³•ï¼Œç¡è§‰</span><br><span class="line"></span><br><span class="line"># è®¿é—®-é™æ€æ–¹æ³•</span><br><span class="line">Student.fun2(&#x27;å˜¿å˜¿å˜¿&#x27;)  # é€šè¿‡ç±»å¯¹è±¡è®¿é—®é™æ€æ–¹æ³•ï¼Œå˜¿å˜¿å˜¿ ç¡è§‰</span><br><span class="line">tom.fun2(&#x27;å“ˆå“ˆå“ˆ&#x27;)  # é€šè¿‡å®ä¾‹å¯¹è±¡è®¿é—®é™æ€æ–¹æ³•ï¼Œå“ˆå“ˆå“ˆ ç¡è§‰</span><br></pre></td></tr></table></figure>

<h4 id="2-Pythonçš„åŠ¨æ€æ€§"><a href="#2-Pythonçš„åŠ¨æ€æ€§" class="headerlink" title="2. Pythonçš„åŠ¨æ€æ€§"></a>2. Pythonçš„åŠ¨æ€æ€§</h4><ul>
<li><strong>åŠ¨æ€åœ°åˆ›å»ºç±»ï¼š</strong><ul>
<li><strong>typeæ˜¯Pythonçš„å†…å»ºå…ƒç±»</strong>ï¼Œæ˜¯ç”¨æ¥åˆ›å»ºæ‰€æœ‰ç±»çš„å…ƒç±»ï¼Œæ‰€ä»¥å¯ä»¥é€šè¿‡typeå‡½æ•°åˆ›å»ºç±»</li>
<li><strong>ä»»ä½•å¯¹è±¡æœ€ç»ˆçš„æ‰€å±ç±»éƒ½æ˜¯type</strong>ï¼Œå¯é€šè¿‡typeå‡½æ•°éªŒè¯ï¼Œä¹Ÿå¯ä»¥é€šè¿‡å¤šçº§__class__å±æ€§éªŒè¯</li>
</ul>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">def __init__(self, name):</span><br><span class="line">    self.name = name</span><br><span class="line"></span><br><span class="line">MyDog = type(&quot;Dog&quot;, (object,), &#123;&quot;role&quot;: &quot;dog&quot;, &quot;__init__&quot;: __init__&#125;)</span><br><span class="line">d = MyDog(&quot;pig&quot;)</span><br><span class="line">print(MyDog)  # `&lt;class &#x27;__main__.Dog&#x27;&gt;`</span><br><span class="line">print(d.__class__)  # `&lt;class &#x27;__main__.Dog&#x27;&gt;`</span><br><span class="line">print(d.__class__.__class__)  # `&lt;class &#x27;type&#x27;&gt;`</span><br><span class="line">print(d.role, d.name)  # dog pig</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>åŠ¨æ€åœ°ç»‘å®šå®ä¾‹æ–¹æ³•ï¼š</strong><ul>
<li>åœ¨å®ä¾‹å¯¹è±¡æˆ–ç±»å¯¹è±¡åˆ›å»ºä¹‹åï¼Œä¹Ÿå¯ä»¥é€šè¿‡<strong>æ ‡å‡†åº“typesä¸­çš„ç±»MethodType</strong>å¯¹å…¶åŠ¨æ€åœ°ç»‘å®šå®ä¾‹æ–¹æ³•</li>
</ul>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">from types import MethodType</span><br><span class="line"></span><br><span class="line">def __init__(self, name):</span><br><span class="line">    self.name = name</span><br><span class="line"></span><br><span class="line">MyDog = type(&quot;Dog&quot;, (object,), &#123;&quot;role&quot;: &quot;dog&quot;, &quot;__init__&quot;: __init__&#125;)</span><br><span class="line">m1 = MyDog(&quot;jack&quot;)</span><br><span class="line">m2 = MyDog(&quot;alice&quot;)</span><br><span class="line"></span><br><span class="line">def my_pow(self, x, y):</span><br><span class="line">    result = x</span><br><span class="line">    for i in range(y - 1):</span><br><span class="line">        result *= x</span><br><span class="line">    return result</span><br><span class="line"></span><br><span class="line"># ç»™å®ä¾‹å¯¹è±¡m1åŠ¨æ€åœ°ç»‘å®šå®ä¾‹æ–¹æ³•</span><br><span class="line">m1.my_pow = MethodType(my_pow, m1)</span><br><span class="line">print(m1.my_pow(2, 3))  # 8</span><br><span class="line"></span><br><span class="line"># åˆ é™¤m1çš„my_powæ–¹æ³•</span><br><span class="line">del m1.my_pow</span><br><span class="line"># è®¿é—®ç‰¹æ®Šå±æ€§__dict__å¯ä»¥è·å¾—å®ä¾‹å¯¹è±¡æ‰€ç»‘å®šçš„æ‰€æœ‰å±æ€§å’Œå±æ€§å¯¹åº”å€¼çš„ä¸€ä¸ªå­—å…¸</span><br><span class="line">print(m1.__dict__)  # &#123;&#x27;name&#x27;: &#x27;jack&#x27;&#125;</span><br><span class="line"></span><br><span class="line"># ç»™ç±»å¯¹è±¡åŠ¨æ€åœ°ç»‘å®šå®ä¾‹æ–¹æ³•ï¼Œè¿™æ ·æ‰€æœ‰å®ä¾‹éƒ½èƒ½è®¿é—®my_pow()æ–¹æ³•</span><br><span class="line">MyDog.my_pow = my_pow</span><br><span class="line">print(m1.my_pow(3, 2))  # 9</span><br><span class="line">print(m2.my_pow(2, 4))  # 16</span><br></pre></td></tr></table></figure>

<h4 id="3-è®¿é—®æ§åˆ¶"><a href="#3-è®¿é—®æ§åˆ¶" class="headerlink" title="3. è®¿é—®æ§åˆ¶"></a>3. è®¿é—®æ§åˆ¶</h4><ul>
<li>ç®€ä»‹ï¼šç›®çš„æ˜¯ä¸ºäº†æ§åˆ¶ç±»å¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•åœ¨ç±»å¯¹è±¡çš„å¤–éƒ¨æ˜¯å¦å¯ä»¥ç›´æ¥è®¿é—®</li>
<li>åº”ç”¨ï¼šåœ¨ç±»å¯¹è±¡çš„æŸä¸ªå±æ€§æˆ–æ–¹æ³•å‰<strong>æ·»åŠ ä¸¤ä¸ªä¸‹åˆ’çº¿â€œ_â€</strong>ï¼Œé‚£ä¹ˆåœ¨ç±»å¯¹è±¡çš„å¤–éƒ¨å°±<strong>ä¸èƒ½ç›´æ¥è®¿é—®</strong>è¯¥å±æ€§æˆ–æ–¹æ³•äº†ï¼›åœ¨ç±»å¯¹è±¡çš„æŸä¸ªå±æ€§æˆ–æ–¹æ³•å‰<strong>æ·»åŠ å•ä¸ªä¸‹åˆ’çº¿â€_â€œ<strong>ï¼Œè¡¨ç¤º</strong>ä¾ç„¶å¯ä»¥åœ¨ç±»å¯¹è±¡çš„å¤–éƒ¨ç›´æ¥è®¿é—®</strong>è¯¥å±æ€§æˆ–æ–¹æ³•ï¼Œä½†<strong>æœ€å¥½ä¸è¦ç›´æ¥è®¿é—®</strong></li>
<li>åŸç†ï¼šå› ä¸ºPythonè§£é‡Šå™¨å¯¹å¤–æŠŠ__xxxçš„å±æ€§æˆ–æ–¹æ³•æ”¹æˆäº†å¦ä¸€ä¸ªåå­—ï¼š_ç±»å__xxxï¼Œè™½ç„¶ä¹Ÿå¯ä»¥é€šè¿‡æ­¤è®¿é—®ï¼Œä½†å¼ºçƒˆä¸å»ºè®®è¿™æ ·è®¿é—®ï¼Œå› ä¸ºä¸åŒç‰ˆæœ¬çš„Pythonè§£é‡Šå™¨å¯èƒ½æ›´æ¢çš„åå­—ä¸åŒ</li>
<li><strong>æ³¨æ„ï¼šåœ¨ç±»å¯¹è±¡çš„å¤–éƒ¨åŠ¨æ€ç»‘å®šåä¸º__xxxçš„å±æ€§æˆ–æ–¹æ³•ï¼Œè¿™ä¸ç±»å¯¹è±¡å†…éƒ¨åä¸º__xxxçš„å±æ€§æˆ–æ–¹æ³•çš„å«ä¹‰æ˜¯ä¸åŒçš„</strong></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">class MyClass(object):</span><br><span class="line">    def __init__(self):</span><br><span class="line">        self.__pia = 18</span><br><span class="line">        self._pib = &#x27;abc&#x27;</span><br><span class="line"></span><br><span class="line">    def __pim(self):</span><br><span class="line">        print(&quot;__pim()è¢«è°ƒç”¨äº†&quot;)</span><br><span class="line"></span><br><span class="line">    def _pin(self):</span><br><span class="line">        print(&quot;_pin()è¢«è°ƒç”¨äº†&quot;)</span><br><span class="line"></span><br><span class="line">    # é€šè¿‡å®ä¾‹æ–¹æ³•è®¿é—®ä¸èƒ½ç›´æ¥è®¿é—®çš„å±æ€§å’Œæ–¹æ³•</span><br><span class="line">    def do_sth(self):</span><br><span class="line">        print(self.__pia)</span><br><span class="line">        self.__pim()</span><br><span class="line"></span><br><span class="line">mc = MyClass()</span><br><span class="line"></span><br><span class="line"># print(mc.__pia)  # AttributeError: &#x27;MyClass&#x27; object has no attribute &#x27;__pia&#x27;</span><br><span class="line"># mc.__pim()  # AttributeError: &#x27;MyClass&#x27; object has no attribute &#x27;__pim&#x27;</span><br><span class="line">print(mc._pib)  # abc</span><br><span class="line">mc._pin()  # _pin()è¢«è°ƒç”¨äº†</span><br><span class="line">mc.do_sth()  # 18 __pim()è¢«è°ƒç”¨äº†</span><br><span class="line"></span><br><span class="line"># Pythonä¸ºæˆ‘ä»¬æ›´æ”¹çš„åå­—ï¼Œä½†æœ€å¥½ä¸è¿™æ ·æ–¹æ³•</span><br><span class="line"># print(mc._MyClass__pia)  # 18</span><br><span class="line"># mc._MyClass__pim()  # __pim()è¢«è°ƒç”¨äº†</span><br><span class="line">print(dir(mc))  # [&#x27;_MyClass__pia&#x27;, &#x27;_MyClass__pim&#x27;, ......]</span><br><span class="line">print(mc.__dict__)  # &#123;&#x27;_MyClass__pia&#x27;: 18, &#x27;_pib&#x27;: &#x27;abc&#x27;&#125;</span><br><span class="line">&quot;&quot;&quot;dir()å’Œ__dict__çš„åŒºåˆ«ï¼š</span><br><span class="line">1. è°ƒç”¨å†…ç½®å‡½æ•°dir()è·å¾—æŒ‡å®šå¯¹è±¡æ‰€æœ‰å¯ä»¥è®¿é—®çš„å±æ€§å’Œæ–¹æ³•çš„ä¸€ä¸ªåˆ—è¡¨</span><br><span class="line">   ç”¨äºåˆ—å‡ºå¯¹è±¡çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•ï¼Œä¸»è¦æ˜¯ä¸€ä¸ªç”¨äºæŸ¥é˜…å¯¹è±¡çš„å·¥å…·</span><br><span class="line">2. è®¿é—®ç‰¹æ®Šå±æ€§__dict__å¯ä»¥è·å¾—å®ä¾‹å¯¹è±¡æ‰€ç»‘å®šçš„æ‰€æœ‰å±æ€§å’Œå±æ€§å¯¹åº”å€¼çš„ä¸€ä¸ªå­—å…¸ï¼Œæ˜¯ä¸€ä¸ªå±æ€§å­—å…¸</span><br><span class="line">   ç”¨äºä¿å­˜å¯¹è±¡çš„æ‰€æœ‰æˆå‘˜å˜é‡å’Œå¯¹åº”çš„å€¼ï¼Œå¯ä»¥ç”¨äºç›´æ¥è®¿é—®å’Œæ“ä½œå¯¹è±¡çš„å±æ€§</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line"></span><br><span class="line"># åœ¨å¤–éƒ¨ç›´æ¥ç»‘å®š__xxxå±æ€§ï¼Œå’Œå†…éƒ¨æ„ä¹‰æ˜¯ä¸ä¸€æ ·çš„</span><br><span class="line">mc.__pia = &quot;Hi&quot;</span><br><span class="line">print(mc.__pia)  # Hi</span><br><span class="line">print(dir(mc))  # [&#x27;_MyClass__pia&#x27;, &#x27;_MyClass__pim&#x27;, &#x27;__pia&#x27;, ......]</span><br></pre></td></tr></table></figure>

<h4 id="4-å°è£…ã€ç»§æ‰¿ã€é‡å†™ã€å¤šæ€"><a href="#4-å°è£…ã€ç»§æ‰¿ã€é‡å†™ã€å¤šæ€" class="headerlink" title="4. å°è£…ã€ç»§æ‰¿ã€é‡å†™ã€å¤šæ€"></a>4. å°è£…ã€ç»§æ‰¿ã€é‡å†™ã€å¤šæ€</h4><ul>
<li><p><strong>å°è£…</strong>ï¼šå°†æ•°æ®ï¼ˆå±æ€§ï¼‰å’Œè¡Œä¸ºï¼ˆæ–¹æ³•ï¼‰åŒ…è£…åˆ°ç±»å¯¹è±¡ä¸­ï¼Œåœ¨æ–¹æ³•å†…éƒ¨å¯¹å±æ€§è¿›è¡Œæ“ä½œï¼Œåœ¨ç±»å¯¹è±¡å¤–éƒ¨è°ƒç”¨æ–¹æ³•ï¼Œè¿™æ ·ï¼Œå°±æ— éœ€å…³å¿ƒæ–¹æ³•å†…éƒ¨çš„å…·ä½“å®ç°ç»†èŠ‚ï¼Œä»è€Œéš”ç¦»äº†å¤æ‚åº¦</p>
</li>
<li><p>åº”ç”¨ï¼š<strong>å¯¹éšè—çš„ä¿¡æ¯è¿›è¡Œä¿æŠ¤</strong>ã€‚åœ¨ç±»å¯¹è±¡çš„å†…éƒ¨é€šè¿‡è®¿é—®æ§åˆ¶æŠŠæŸäº›å±æ€§å’Œæ–¹æ³•éšè—èµ·æ¥ï¼Œä¸å…è®¸åœ¨ç±»å¯¹è±¡çš„å¤–éƒ¨ç›´æ¥è®¿é—®ï¼Œè€Œæ˜¯åœ¨ç±»å¯¹è±¡çš„å†…éƒ¨å¯¹å¤–æä¾›å…¬å¼€çš„æ¥å£æ–¹æ³•ï¼ˆä¾‹å¦‚getterå’Œsetterï¼‰ä»¥è®¿é—®éšè—çš„ä¿¡æ¯</p>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">class Student(object):</span><br><span class="line">    def __init__(self):</span><br><span class="line">        self.__score = 90</span><br><span class="line"></span><br><span class="line">    def get_score(self):</span><br><span class="line">        return self.__score</span><br><span class="line"></span><br><span class="line">    def set_score(self, score):</span><br><span class="line">        if 0 &lt;= score &lt;= 100:</span><br><span class="line">            self.__score = score</span><br><span class="line">        else:</span><br><span class="line">            raise ValueError(&quot;æˆç»©å¿…é¡»åœ¨0~100ä¹‹é—´&quot;)</span><br><span class="line"></span><br><span class="line">s = Student()</span><br><span class="line"></span><br><span class="line">s.set_score(88)</span><br><span class="line"># s.set_score(123)  # ValueError: æˆç»©å¿…é¡»åœ¨0~100ä¹‹é—´</span><br><span class="line">print(s.get_score())  # 88</span><br></pre></td></tr></table></figure>

<ul>
<li><p><strong>ç»§æ‰¿ï¼šç»§æ‰¿æ˜¯å®ç°ä»£ç å¤ç”¨çš„é‡è¦æ‰‹æ®µ</strong>ã€‚æŠŠå‡ ä¸ªç±»å¯¹è±¡ä¸­å…±åŒçš„å±æ€§å’Œæ–¹æ³•æŠ½è±¡å¹¶æå–åˆ°ä¸€ä¸ªåŸºç±»ä¸­ï¼Œæ¯ä¸ªç±»å¯¹è±¡ç‰¹æœ‰çš„å±æ€§å’Œæ–¹æ³•è¿˜æ˜¯åœ¨æœ¬ç±»å¯¹è±¡ä¸­å®šä¹‰ï¼Œè¿™æ ·ï¼Œåªéœ€è¦è®©æ¯ä¸ªç±»å¯¹è±¡éƒ½ç»§æ‰¿è¿™ä¸ªåŸºç±»ï¼Œå°±å¯ä»¥è®¿é—®åŸºç±»ä¸­çš„å±æ€§å’Œæ–¹æ³•äº†ã€‚å…¶ä¸­ï¼Œç»§æ‰¿åŸºç±»çš„æ¯ä¸ªç±»å¯¹è±¡è¢«ç§°ä¸º<strong>æ´¾ç”Ÿç±»</strong>ï¼ŒåŸºç±»ä¹Ÿè¢«ç§°ä¸º<strong>çˆ¶ç±»</strong>æˆ–<strong>è¶…ç±»</strong>ï¼Œæ´¾ç”Ÿç±»ä¹Ÿè¢«ç§°ä¸º<strong>å­ç±»</strong></p>
</li>
<li><p>æ³¨æ„ï¼š<strong>Pythonä¸­çš„æ‰€æœ‰ç±»å¯¹è±¡éƒ½ç»§æ‰¿è‡ªä¸€ä¸ªç»Ÿä¸€çš„åŸºç±»ï¼šobject</strong></p>
</li>
<li><p>çŸ¥è¯†ç‚¹ï¼šå­ç±»å¯ä»¥æœ‰ä¸€ä¸ªç›´æ¥çˆ¶ç±»æˆ–å¤šä¸ªç›´æ¥çˆ¶ç±»ï¼Œåˆ†åˆ«ç§°ä¸ºå•ç»§æ‰¿å’Œå¤šç»§æ‰¿ã€‚<strong>å­ç±»ä¼šç»§æ‰¿çˆ¶ç±»ï¼ˆæ‰€æœ‰ç›´æ¥çˆ¶ç±»å’Œæ‰€æœ‰é—´æ¥çˆ¶ç±»ï¼‰çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•</strong>ï¼›å­ç±»å¯ä»¥æ·»åŠ çˆ¶ç±»ä¸­æ²¡æœ‰çš„å±æ€§å’Œæ–¹æ³•</p>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">class ParentClassA(object):</span><br><span class="line">    ca = 18</span><br><span class="line"></span><br><span class="line">    def im(self):</span><br><span class="line">        print(&quot;im()è¢«è°ƒç”¨äº†&quot;)</span><br><span class="line"></span><br><span class="line">class ParentClassB(object):</span><br><span class="line">    __pca = 23</span><br><span class="line"></span><br><span class="line">    def __pim(self):</span><br><span class="line">        print(&quot;__pim()è¢«è°ƒç”¨äº†&quot;)</span><br><span class="line"></span><br><span class="line">class ParentClassC(ParentClassA, ParentClassB):</span><br><span class="line">    @classmethod</span><br><span class="line">    def cm(cls):</span><br><span class="line">        print(&quot;cm()è¢«è°ƒç”¨äº†&quot;)</span><br><span class="line"></span><br><span class="line">class ParentClassD(object):</span><br><span class="line">    @staticmethod</span><br><span class="line">    def sm():</span><br><span class="line">        print(&quot;sm()è¢«è°ƒç”¨äº†&quot;)</span><br><span class="line"></span><br><span class="line">class ChildClass(ParentClassC, ParentClassD):</span><br><span class="line">    pass</span><br><span class="line"></span><br><span class="line"># å­ç±»ä¼šç»§æ‰¿çˆ¶ç±»ï¼ˆæ‰€æœ‰ç›´æ¥çˆ¶ç±»å’Œæ‰€æœ‰é—´æ¥çˆ¶ç±»ï¼‰çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•</span><br><span class="line">print(dir(ChildClass))  # [&#x27;_ParentClassB__pca&#x27;, &#x27;_ParentClassB__pim&#x27;, ......, &#x27;ca&#x27;, &#x27;cm&#x27;, &#x27;im&#x27;, &#x27;sm&#x27;]</span><br></pre></td></tr></table></figure>

<ul>
<li><p><strong>é‡å†™</strong>ï¼šå¦‚æœå­ç±»å¯¹ç»§æ‰¿è‡ªçˆ¶ç±»çš„æŸä¸ªå±æ€§æˆ–æ–¹æ³•ä¸æ»¡æ„ï¼Œå¯ä»¥åœ¨å­ç±»ä¸­å¯¹å…¶è¿›è¡Œé‡å†™ä»è€Œæä¾›è‡ªå®šä¹‰çš„å®ç°</p>
</li>
<li><p>åº”ç”¨ï¼šåœ¨å­ç±»ä¸­å®šä¹‰ä¸çˆ¶ç±»ä¸­åŒåçš„å±æ€§æˆ–æ–¹æ³•ï¼ˆåŒ…æ‹¬è£…é¥°å™¨ï¼‰</p>
</li>
<li><p>æ³¨æ„ï¼šåœ¨å­ç±»ä¸­é‡å†™çˆ¶ç±»ä¸­çš„å±æ€§æˆ–æ–¹æ³•åï¼Œé€šè¿‡å­ç±»æˆ–å®ä¾‹å¯¹è±¡ç›´æ¥è®¿é—®åªèƒ½è®¿é—®åˆ°é‡å†™åçš„å±æ€§æˆ–æ–¹æ³•ï¼Œæƒ³è¦å†è®¿é—®çˆ¶ç±»ä¸­çš„å±æ€§æˆ–æ–¹æ³•ï¼Œ<strong>å¯ä»¥åœ¨å­ç±»é‡å†™åçš„æ–¹æ³•ä¸­å¯ä»¥é€šè¿‡super( ).xxx( )è¿›è¡Œè°ƒç”¨</strong></p>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">class ParentClass(object):</span><br><span class="line">    ca = &quot;caï¼ˆçˆ¶ç±»ï¼‰&quot;</span><br><span class="line"></span><br><span class="line">    def __init__(self):</span><br><span class="line">        print(&quot;__init__()è¢«è°ƒç”¨äº†ï¼ˆçˆ¶ç±»ï¼‰&quot;)</span><br><span class="line"></span><br><span class="line">    @classmethod</span><br><span class="line">    def cm(cls):</span><br><span class="line">        print(&quot;cm()è¢«è°ƒç”¨äº†ï¼ˆçˆ¶ç±»ï¼‰&quot;)</span><br><span class="line"></span><br><span class="line">class ChildClass(ParentClass):</span><br><span class="line">    ca = &quot;caï¼ˆå­ç±»ï¼‰&quot;</span><br><span class="line"></span><br><span class="line">    def __init__(self):</span><br><span class="line">        super().__init__()</span><br><span class="line">        print(&quot;__init__()è¢«è°ƒç”¨äº†ï¼ˆå­ç±»ï¼‰&quot;)</span><br><span class="line"></span><br><span class="line">    @classmethod</span><br><span class="line">    def cm(cls):</span><br><span class="line">        print(&quot;cm()è¢«è°ƒç”¨äº†ï¼ˆå­ç±»ï¼‰&quot;)</span><br><span class="line"></span><br><span class="line">cc = ChildClass()  # __init__()è¢«è°ƒç”¨äº†ï¼ˆçˆ¶ç±»ï¼‰ __init__()è¢«è°ƒç”¨äº†ï¼ˆå­ç±»ï¼‰</span><br><span class="line"></span><br><span class="line">print(ChildClass.ca)  # caï¼ˆå­ç±»ï¼‰</span><br><span class="line">print(cc.ca)  # caï¼ˆå­ç±»ï¼‰</span><br><span class="line">ChildClass.cm()  # cm()è¢«è°ƒç”¨äº†ï¼ˆå­ç±»ï¼‰</span><br><span class="line">cc.cm()  # cm()è¢«è°ƒç”¨äº†ï¼ˆå­ç±»ï¼‰</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>å¤šæ€ï¼šå¤šæ€å°±æ˜¯â€œå…·æœ‰å¤šç§å½¢æ€â€</strong>ï¼Œå³ä¾¿ä¸çŸ¥é“ä¸€ä¸ªå˜é‡æ‰€å¼•ç”¨çš„å¯¹è±¡åˆ°åº•æ˜¯ä»€ä¹ˆç±»å‹ï¼Œä»ç„¶å¯ä»¥é€šè¿‡è¿™ä¸ªå˜é‡è°ƒç”¨æ–¹æ³•ï¼Œ<strong>åœ¨è¿è¡Œè¿‡ç¨‹ä¸­æ ¹æ®å˜é‡æ‰€å¼•ç”¨å¯¹è±¡çš„ç±»å‹ï¼ŒåŠ¨æ€åœ°å†³å®šè°ƒç”¨å“ªä¸ªå¯¹è±¡ä¸­çš„æ–¹æ³•</strong></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">class ParentClass:</span><br><span class="line">    def do_sth(self):</span><br><span class="line">        print(&quot;do_sth() in ParentClass&quot;)</span><br><span class="line"></span><br><span class="line">class ChildClass1(ParentClass):</span><br><span class="line">    def do_sth(self):</span><br><span class="line">        print(&quot;do_sth() in ChildClass1&quot;)</span><br><span class="line"></span><br><span class="line">class ChildClass2(ParentClass):</span><br><span class="line">    def do_sth(self):</span><br><span class="line">        print(&quot;do_sth() in ChildClass2&quot;)</span><br><span class="line"></span><br><span class="line">class ChildClass3(ParentClass):</span><br><span class="line">    pass  # å­ç±»ä¸­ä¸å­˜åœ¨æŒ‡å®šæ–¹æ³•æ—¶ï¼Œä¼šåˆ°çˆ¶ç±»ä¸­æŸ¥æ‰¾å¹¶è°ƒç”¨</span><br><span class="line"></span><br><span class="line">class SomeClass(object):</span><br><span class="line">    def do_sth(self):</span><br><span class="line">        print(&quot;do_sth() in SomeClass&quot;)</span><br><span class="line"></span><br><span class="line">def f(parent):</span><br><span class="line">    parent.do_sth()</span><br><span class="line"></span><br><span class="line">f(ParentClass())  # do_sth() in ParentClass</span><br><span class="line">f(ChildClass1())  # do_sth() in ChildClass1</span><br><span class="line">f(ChildClass2())  # do_sth() in ChildClass2</span><br><span class="line">f(ChildClass3())  # do_sth() in ParentClass</span><br><span class="line">f(SomeClass())  # do_sth() in SomeClass</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>ï¼ˆé‡ç‚¹ï¼‰åŠ¨æ€è¯­è¨€ä¸é™æ€è¯­è¨€å¤šæ€çš„åŒºåˆ«ï¼š</strong></p>
<ul>
<li><strong>Pythonæ˜¯åŠ¨æ€è¯­è¨€</strong>ï¼Œåœ¨è°ƒç”¨å‡½æ•°æ—¶ä¸ä¼šæ£€æŸ¥å‚æ•°çš„ç±»å‹ï¼Œä»è€Œå¯¼è‡´ä¸<strong>é™æ€è¯­è¨€ï¼ˆä¾‹å¦‚Javaï¼‰</strong>çš„å¤šæ€ æ˜¯æœ‰åŒºåˆ«çš„ã€‚å¯¹äºé™æ€è¯­è¨€ï¼Œå®ç°å¤šæ€æœ‰ä¸‰ä¸ªå¿…è¦æ¡ä»¶ï¼š<ol>
<li>ç»§æ‰¿</li>
<li>é‡å†™</li>
<li><strong>çˆ¶ç±»ç±»å‹çš„å˜é‡å¼•ç”¨çˆ¶ç±»æˆ–å­ç±»ç±»å‹çš„å®ä¾‹å¯¹è±¡</strong></li>
</ol>
</li>
</ul>
<p><strong>å› æ­¤ï¼Œå¯¹äºé™æ€è¯­è¨€ï¼Œåœ¨ä¸Šé¢çš„ç¨‹åºä¸­ï¼Œè¦é™å®šå½¢å‚parentçš„ç±»å‹æ˜¯ParentClassï¼Œä¼ å…¥çš„å®å‚åªèƒ½æ˜¯</strong> <strong>ParentClassã€ChildClass1ã€ChildClass2æˆ–ChildClass3çš„å®ä¾‹å¯¹è±¡</strong></p>
<ul>
<li>åŠ¨æ€è¯­è¨€çš„å¤šæ€å´‡å°šâ€<strong>é¸­å­ç±»å‹</strong>â€œï¼šå½“çœ‹åˆ°ä¸€åªé¸Ÿèµ°èµ·æ¥åƒé¸­å­ã€æ¸¸æ³³èµ·æ¥åƒé¸­å­ã€å«èµ·æ¥ä¹Ÿåƒé¸­å­, é‚£ä¹ˆè¿™åªé¸Ÿå°±å¯ä»¥è¢«ç§°ä¸ºé¸­å­ã€‚<strong>åœ¨é¸­å­ç±»å‹ä¸­ï¼Œæˆ‘ä»¬å¹¶ä¸å…³å¿ƒå¯¹è±¡æ˜¯ä»€ä¹ˆç±»å‹ï¼Œåˆ°åº•æ˜¯ä¸æ˜¯é¸­å­ï¼Œåªå…³å¿ƒå¯¹è±¡çš„è¡Œä¸º</strong></li>
</ul>
<p><strong>å› æ­¤ï¼Œå¯¹äºåŠ¨æ€è¯­è¨€ï¼Œåœ¨ä¸Šé¢çš„ç¨‹åºä¸­ï¼Œæˆ‘ä»¬å¹¶ä¸å…³å¿ƒå˜é‡parentæ‰€å¼•ç”¨çš„å¯¹è±¡æ˜¯ä»€ä¹ˆç±»å‹ï¼Œåˆ°åº•æ˜¯ä¸æ˜¯ParentClassæˆ–å…¶å­ç±»ç±»å‹ï¼Œåªå…³å¿ƒå˜é‡parentæ‰€å¼•ç”¨çš„å¯¹è±¡æ˜¯å¦æœ‰do_sth( )è¿™ä¸ªæ–¹æ³•</strong></p>
<p><img  
                       lazyload
                       alt="image"
                       data-src="https://osswcf.oss-cn-shanghai.aliyuncs.com/2022/12/1671017104-13bfb99460c4f1d.jpeg"
                       
                 ></p>
</blockquote>
<h4 id="5-MRO"><a href="#5-MRO" class="headerlink" title="5. MRO"></a>5. MRO</h4><ul>
<li><p>ç®€ä»‹ï¼šMROçš„å…¨ç§°æ˜¯<strong>Method Resolution Orderï¼ˆæ–¹æ³•è§£æé¡ºåºï¼‰</strong>ï¼ŒæŒ‡çš„æ˜¯å¯¹äºä¸€é¢—ç±»ç»§æ‰¿æ ‘ï¼Œå½“è°ƒç”¨æœ€åº•å±‚ç±»å¯¹è±¡æ‰€å¯¹åº”å®ä¾‹å¯¹è±¡çš„æ–¹æ³•æ—¶ï¼ŒPythonè§£é‡Šå™¨åœ¨ç±»ç»§æ‰¿æ ‘ä¸Šæœç´¢æ–¹æ³•çš„é¡ºåº</p>
</li>
<li><p>åº”ç”¨ï¼šå¯¹äºä¸€é¢—ç±»ç»§æ‰¿æ ‘ï¼Œå¯ä»¥è°ƒç”¨æœ€åº•å±‚ç±»å¯¹è±¡çš„æ–¹æ³•<strong>mro( )<strong>æˆ–è®¿é—®æœ€åº•å±‚ç±»å¯¹è±¡çš„ç‰¹æ®Šå±æ€§</strong>__mro__<strong>ï¼Œ</strong>è·å¾—è¿™æ£µç±»ç»§æ‰¿æ ‘çš„MRO</strong></p>
</li>
<li><p>çŸ¥è¯†ç‚¹ï¼š<strong>åœ¨å­ç±»é‡å†™åçš„æ–¹æ³•ä¸­é€šè¿‡super( )è°ƒç”¨çˆ¶ç±»ä¸­è¢«é‡å†™çš„æ–¹æ³•æ—¶ï¼Œåœ¨æ‰€æœ‰çˆ¶ç±»ä¸­æœç´¢æ–¹æ³•çš„é¡ºåºåŸºäºä»¥è¯¥å­ç±»ä¸ºæœ€åº•å±‚ç±»å¯¹è±¡çš„ç±»ç»§æ‰¿æ ‘çš„MRO</strong></p>
</li>
<li><p>çŸ¥è¯†ç‚¹åº”ç”¨ï¼šåœ¨è°ƒç”¨çˆ¶ç±»ä¸­è¢«é‡å†™çš„æ–¹æ³•æ—¶ï¼Œç»™super( )ä¼ å…¥ä¸¤ä¸ªå®å‚ï¼Œå³super(type, obj)ï¼Œå…¶ä¸­ç¬¬ä¸€ä¸ªå®å‚typeæ˜¯ç±»å¯¹è±¡ï¼Œç¬¬äºŒä¸ªå®å‚objæ˜¯å®ä¾‹å¯¹è±¡ã€‚è¿™æ ·ï¼Œ<strong>æŒ‡å®šçš„å¯¹è±¡å³æ˜¯objæ‰€å¯¹åº”ç±»å¯¹è±¡çš„MROä¸­ï¼Œtypeåé¢çš„é‚£ä¸ªç±»å¯¹è±¡</strong></p>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">class A(object):</span><br><span class="line">    def f(self):</span><br><span class="line">        print(&quot;A.f&quot;)</span><br><span class="line"></span><br><span class="line">class B(A):</span><br><span class="line">    def f(self):</span><br><span class="line">        print(&quot;B.f&quot;)</span><br><span class="line"></span><br><span class="line">class C(A):</span><br><span class="line">    def f(self):</span><br><span class="line">        print(&quot;C.f&quot;)</span><br><span class="line"></span><br><span class="line">class D(B, C):</span><br><span class="line">    def f(self):</span><br><span class="line">        super().f()  # B.f</span><br><span class="line">        # super(D, self).f()  # B.f</span><br><span class="line">        # super(B, self).f()  # C.f</span><br><span class="line">        # super(C, self).f()  # A.f</span><br><span class="line">        # super(B, B()).f()  # A.f</span><br><span class="line"></span><br><span class="line">print(D.mro())</span><br><span class="line"># [`&lt;class &#x27;__main__.D&#x27;&gt;, &lt;class &#x27;__main__.B&#x27;&gt;, &lt;class &#x27;__main__.C&#x27;&gt;, &lt;class &#x27;__main__.A&#x27;&gt;, &lt;class &#x27;object&#x27;&gt;`]</span><br><span class="line">d = D()</span><br><span class="line">d.f()  # B.f</span><br></pre></td></tr></table></figure>

<h4 id="6-è·å–å¯¹è±¡çš„ä¿¡æ¯ä¹‹å†…ç½®å‡½æ•°"><a href="#6-è·å–å¯¹è±¡çš„ä¿¡æ¯ä¹‹å†…ç½®å‡½æ•°" class="headerlink" title="6. è·å–å¯¹è±¡çš„ä¿¡æ¯ä¹‹å†…ç½®å‡½æ•°"></a>6. è·å–å¯¹è±¡çš„ä¿¡æ¯ä¹‹å†…ç½®å‡½æ•°</h4><ul>
<li><p><strong>å†…ç½®å‡½æ•°issubclass(subclass, superclass)<strong>ï¼šç”¨äº</strong>æ£€æŸ¥ç±»ä¸ç±»ä¹‹é—´çš„ç»§æ‰¿å…³ç³»</strong>ï¼Œæ¥å—ä¸¤ä¸ªå®å‚ï¼Œç¬¬ä¸€ä¸ªæ˜¯ç±»å¯¹è±¡ï¼Œç¬¬äºŒä¸ªæ˜¯ç±»å¯¹è±¡æˆ–ç”±ç±»å¯¹è±¡ç»„æˆçš„å…ƒç»„</p>
</li>
<li><p><strong>å†…ç½®å‡½æ•°isinstance(object, classinfo)<strong>ï¼šç”¨äº</strong>æ£€æŸ¥å¯¹è±¡ä¸ç±»ä¹‹é—´çš„å®ä¾‹å…³ç³»</strong>ï¼Œæ¥å—ä¸¤ä¸ªå®å‚ï¼Œç¬¬ä¸€ä¸ªæ˜¯å®ä¾‹å¯¹è±¡ï¼Œç¬¬äºŒä¸ªæ˜¯ç±»å¯¹è±¡æˆ–ç”±ç±»å¯¹è±¡ç»„æˆçš„å…ƒç»„</p>
</li>
<li><p><strong>å†…ç½®å‡½æ•°type(object)<strong>ï¼šç”¨äº</strong>è·å–å¯¹è±¡çš„ç±»å‹</strong>ï¼Œè¿”å›è¡¨ç¤ºå¯¹è±¡ç±»å‹çš„å¯¹è±¡ï¼ˆ<strong>ä½¿ç”¨è¿ç®—ç¬¦&#x3D;&#x3D;å¯ä»¥ç›´æ¥åˆ¤æ–­æŸä¸ªå¯¹è±¡çš„ç±»å‹æ˜¯å¦æ˜¯æŒ‡å®šçš„ç±»å‹</strong>ï¼Œå¯¹äºåŸºæœ¬æ•°æ®ç±»å‹ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨å…¶å¯¹åº”çš„ç±»åï¼›å¯¹äºéåŸºæœ¬æ•°æ®ç±»å‹ï¼Œéœ€è¦è°ƒç”¨æ ‡å‡†åº“ä¸­çš„æ¨¡å—typesä¸­å®šä¹‰çš„å˜é‡ï¼‰</p>
</li>
<li><p><strong>å†…ç½®å‡½æ•°dir([object])<strong>ï¼šç”¨äº</strong>è·å–å¯¹è±¡æœ‰æ•ˆå±æ€§å’Œæ–¹æ³•ï¼ˆåŒ…æ‹¬ä»çˆ¶ç±»ç»§æ‰¿çš„å±æ€§å’Œæ–¹æ³•ï¼‰çš„å­—ç¬¦ä¸²åˆ—è¡¨</strong>ï¼Œå…¶ä¸­å‚æ•°objectæ˜¯å¯é€‰çš„ï¼Œå¦‚æœæ²¡æœ‰æä¾›ï¼Œåˆ™è¿”å›å½“å‰ä½œç”¨åŸŸå†…çš„åç§°åˆ—è¡¨ã€‚å¹¶ä¸”ç±»å¯¹è±¡ä¸å®ä¾‹å¯¹è±¡çš„ç»“æœæ˜¯æœ‰åŒºåˆ«çš„ï¼Œç±»å¯¹è±¡çš„ç»“æœä¸­ä¸åŒ…æ‹¬å®ä¾‹å±æ€§</p>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">class Parent:</span><br><span class="line">    pass</span><br><span class="line"></span><br><span class="line">class Child(Parent):</span><br><span class="line">    pass</span><br><span class="line"></span><br><span class="line">class AnotherClass:</span><br><span class="line">    pass</span><br><span class="line"></span><br><span class="line"># 1ã€å†…ç½®å‡½æ•°issubclass(subclass, superclass)</span><br><span class="line">print(issubclass(Child, Parent))  # True</span><br><span class="line">print(issubclass(bool, int))  # True</span><br><span class="line">print(issubclass(bool, str))  # False</span><br><span class="line">print(issubclass(bool, (str, int, dict)))  # True</span><br><span class="line"></span><br><span class="line"># 2ã€å†…ç½®å‡½æ•°isinstance(object, classinfo)</span><br><span class="line">obj = Child()</span><br><span class="line">print(isinstance(obj, Child))  # True</span><br><span class="line">print(isinstance(obj, AnotherClass))  # False</span><br><span class="line">print(isinstance(obj, (Parent, AnotherClass)))  # True</span><br><span class="line"></span><br><span class="line"># 3ã€å†…ç½®å‡½æ•°type(object)</span><br><span class="line"># å®ä¾‹å¯¹è±¡çš„ç±»å‹æ˜¯å…¶å¯¹åº”çš„ç±»å¯¹è±¡</span><br><span class="line">mc = Parent()</span><br><span class="line">print(type(mc))  # `&lt;class &#x27;__main__.Parent&#x27;&gt;`</span><br><span class="line">print(type(18))  # `&lt;class &#x27;int&#x27;&gt;`</span><br><span class="line">print(type(&#x27;abc&#x27;))  # `&lt;class &#x27;str&#x27;&gt;`</span><br><span class="line"># ç±»å¯¹è±¡çš„ç±»å‹æ˜¯typeï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œç±»å¯¹è±¡éƒ½æ˜¯typeçš„ä¸€ä¸ªå®ä¾‹</span><br><span class="line">print(type(Parent))  # `&lt;class &#x27;type&#x27;&gt;`</span><br><span class="line">print(type(int))  # `&lt;class &#x27;type&#x27;&gt;`</span><br><span class="line">print(type(str))  # `&lt;class &#x27;type&#x27;&gt;`</span><br><span class="line"></span><br><span class="line"># è‡ªå®šä¹‰å‡½æ•°å¯¹è±¡çš„ç±»å‹æ˜¯function</span><br><span class="line">def do_sth():</span><br><span class="line">    pass</span><br><span class="line"></span><br><span class="line">print(type(do_sth))  # `&lt;class &#x27;function&#x27;&gt;`</span><br><span class="line"># å†…ç½®å‡½æ•°å¯¹è±¡çš„ç±»å‹æ˜¯builtin_function_or_method</span><br><span class="line">print(type(print))  # `&lt;class &#x27;builtin_function_or_method&#x27;&gt;`</span><br><span class="line"></span><br><span class="line"># ä½¿ç”¨è¿ç®—ç¬¦==åˆ¤æ–­æŸä¸ªå¯¹è±¡çš„ç±»å‹æ˜¯å¦æ˜¯æŒ‡å®šçš„ç±»å‹</span><br><span class="line">print(type(18) == int)  # True</span><br><span class="line">print(type(&#x27;abc&#x27;) == str)  # True</span><br><span class="line">import types</span><br><span class="line"></span><br><span class="line">print(type(do_sth) == types.FunctionType)  # True</span><br><span class="line">print(type(print) == types.BuiltinFunctionType)  # True</span><br><span class="line"></span><br><span class="line"># 4ã€å†…ç½®å‡½æ•°dir([object])</span><br><span class="line">def __init__(self, name):</span><br><span class="line">    self.name = name</span><br><span class="line"></span><br><span class="line">AnotherClass.do_sth = do_sth</span><br><span class="line">AnotherClass.__init__ = __init__</span><br><span class="line"># ç±»å¯¹è±¡çš„ç»“æœä¸­ä¸åŒ…æ‹¬å®ä¾‹å±æ€§</span><br><span class="line">print(dir(AnotherClass))  # [......, &#x27;__init__&#x27;, ......, &#x27;do_sth&#x27;]</span><br><span class="line">print(dir(AnotherClass(&#x27;xfblog&#x27;)))  # [......, &#x27;__init__&#x27;, ......, &#x27;do_sth&#x27;, &#x27;name&#x27;]</span><br></pre></td></tr></table></figure>

<h4 id="7-è·å–å¯¹è±¡çš„ä¿¡æ¯ä¹‹åå°„"><a href="#7-è·å–å¯¹è±¡çš„ä¿¡æ¯ä¹‹åå°„" class="headerlink" title="7. è·å–å¯¹è±¡çš„ä¿¡æ¯ä¹‹åå°„"></a>7. è·å–å¯¹è±¡çš„ä¿¡æ¯ä¹‹åå°„</h4><ul>
<li><p>ç®€ä»‹ï¼šæ‰€è°“â€œåå°„â€ï¼ŒæŒ‡çš„æ˜¯ä»¥å­—ç¬¦ä¸²çš„å½¢å¼æ¥æ“ä½œï¼ˆå¢åˆ æ”¹æŸ¥ï¼‰å¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•</p>
</li>
<li><p>ç”¨äºâ€œåå°„â€çš„å†…ç½®å‡½æ•°æœ‰ä»¥ä¸‹å››ä¸ªï¼ˆå‚æ•°nameä¸ºå­—ç¬¦ä¸²ï¼‰ï¼š</p>
<ol>
<li>hasattr(object, name)ï¼šç”¨äºåˆ¤æ–­æŒ‡å®šçš„å¯¹è±¡objectæ˜¯å¦æœ‰å‚æ•°nameæŒ‡å®šçš„å±æ€§æˆ–æ–¹æ³•</li>
<li>getattr(object, name[, default])ï¼šç”¨äºè·å–æŒ‡å®šçš„å¯¹è±¡objectä¸­åä¸ºnameçš„å±æ€§æˆ–æ–¹æ³•</li>
<li>setattr(object, name, value)ï¼šç”¨äºåœ¨æŒ‡å®šçš„å¯¹è±¡objectä¸­æ·»åŠ æˆ–ä¿®æ”¹å‚æ•°åä¸ºnameçš„å±æ€§æˆ–æ–¹æ³•</li>
<li>delattr(object, name)ï¼šç”¨äºåˆ é™¤æŒ‡å®šçš„å¯¹è±¡objectä¸­åä¸ºå‚æ•°nameçš„å±æ€§æˆ–æ–¹æ³•</li>
</ol>
</li>
<li><p>æ³¨æ„ï¼š<strong>åªæœ‰åœ¨ä¸çŸ¥é“å¯¹è±¡ä¿¡æ¯çš„æƒ…å†µä¸‹ï¼Œæ‰ä¼šå»è·å–å¯¹è±¡çš„ä¿¡æ¯</strong>ã€‚å› æ­¤ï¼Œèƒ½å†™object.nameï¼Œå°±ä¸è¦å†™getattr(object, â€˜nameâ€™)</p>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">class MyClass(object):</span><br><span class="line">    def __init__(self):</span><br><span class="line">        self.x = 1</span><br><span class="line"></span><br><span class="line">    def do_sth(self):</span><br><span class="line">        print(&quot;do_sthè¢«è°ƒç”¨&quot;)</span><br><span class="line"></span><br><span class="line">mc = MyClass()</span><br><span class="line"></span><br><span class="line">print(hasattr(mc, &#x27;x&#x27;))  # True</span><br><span class="line">print(hasattr(MyClass, &#x27;x&#x27;))  # False</span><br><span class="line">print(hasattr(mc, &#x27;do_sth&#x27;))  # True</span><br><span class="line"></span><br><span class="line">print(getattr(mc, &#x27;x&#x27;))  # 1</span><br><span class="line">f = getattr(mc, &#x27;do_sth&#x27;)</span><br><span class="line">f()  # do_sthè¢«è°ƒç”¨</span><br><span class="line"># print(getattr(mc, &#x27;y&#x27;))  # AttributeError: &#x27;MyClass&#x27; object has no attribute &#x27;y&#x27;</span><br><span class="line">print(getattr(mc, &#x27;y&#x27;, 2))  # 2 è·å–æ—¶ç»™ä¸å­˜åœ¨çš„å±æ€§æˆ–æ–¹æ³•æŒ‡å®šé»˜è®¤å€¼ï¼Œå¯ä»¥é¿å…æŠ›å‡ºå¼‚å¸¸</span><br><span class="line"></span><br><span class="line">setattr(mc, &#x27;z&#x27;, 3)</span><br><span class="line">print(getattr(mc, &#x27;z&#x27;))  # 3</span><br><span class="line">print(dir(mc))  # [......, &#x27;do_sth&#x27;, &#x27;x&#x27;, &#x27;z&#x27;]</span><br><span class="line">setattr(mc, &#x27;z&#x27;, 4)</span><br><span class="line">print(getattr(mc, &#x27;z&#x27;))  # 4</span><br><span class="line"></span><br><span class="line">delattr(mc, &#x27;z&#x27;)</span><br><span class="line">print(hasattr(mc, &#x27;z&#x27;))  # False</span><br></pre></td></tr></table></figure>

<ul>
<li>çŸ¥è¯†ç‚¹ï¼šå¦‚ä½•åå°„ä¸€ä¸ªæ¨¡å—ä¸‹æŒ‡å®šçš„å­—ç¬¦ä¸²å¯¹åº”çš„å±æ€§ï¼Œå³<strong>é€šè¿‡æ¨¡å—ååå°„å±æ€§</strong></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"># 1ã€å¦‚ä½•ä½¿ç”¨åå°„æœºåˆ¶æ¥æ£€æŸ¥å’Œè·å–&quot;å½“å‰æ¨¡å—&quot;å¯¹è±¡ä¸­çš„å±æ€§</span><br><span class="line">import sys</span><br><span class="line"></span><br><span class="line">class Person:</span><br><span class="line">    pass</span><br><span class="line"></span><br><span class="line">p = Person()</span><br><span class="line"># for k,v in sys.modules.items():</span><br><span class="line">#     print(k,v)</span><br><span class="line">mod = sys.modules[__name__]  # è·å–å½“å‰æ¨¡å—çš„å¯¹è±¡</span><br><span class="line"></span><br><span class="line">if hasattr(mod, &quot;p&quot;):  # æ£€æŸ¥åœ¨å½“å‰æ¨¡å—å¯¹è±¡ä¸­æ˜¯å¦å­˜åœ¨å±æ€§åä¸º&quot;p&quot;çš„å±æ€§</span><br><span class="line">    o = getattr(mod, &quot;p&quot;)</span><br><span class="line">    print(o)  # `&lt;__main__.Person object at 0x100209a10&gt;`</span><br><span class="line"></span><br><span class="line"># 2ã€å¦‚ä½•ä½¿ç”¨åå°„æœºåˆ¶æ¥æ£€æŸ¥å’Œè·å–&quot;å…¶ä»–æ¨¡å—&quot;å¯¹è±¡ä¸­çš„å±æ€§</span><br><span class="line"># my_module.py</span><br><span class="line">my_variable = 42</span><br><span class="line"></span><br><span class="line"># main.py</span><br><span class="line">module_name = &quot;my_module&quot;</span><br><span class="line">attribute_name = &quot;my_variable&quot;</span><br><span class="line"></span><br><span class="line"># åŠ¨æ€åŠ è½½æ¨¡å—</span><br><span class="line">module = __import__(module_name)  # è·å–å…¶æ¨¡å—å¯¹è±¡</span><br><span class="line"></span><br><span class="line"># è·å–å±æ€§</span><br><span class="line">if hasattr(module, attribute_name):</span><br><span class="line">    attribute = getattr(module, attribute_name)</span><br><span class="line">    print(attribute)  # 42</span><br><span class="line">else:</span><br><span class="line">    print(f&quot;&#123;module_name&#125; æ¨¡å—ä¸­æ²¡æœ‰åä¸º &#123;attribute_name&#125; çš„å±æ€§&quot;)</span><br><span class="line"></span><br><span class="line"># 3ã€ç¬¬2ç§æƒ…å†µçš„ç›´æ¥é™æ€å¯¼å…¥æ¨¡å—ï¼Œæ›´åŠ ç›´è§‚ç®€æ´</span><br><span class="line">import my_module</span><br><span class="line"></span><br><span class="line">if hasattr(my_module, &quot;my_variable&quot;):</span><br><span class="line">    attribute = getattr(my_module, &quot;my_variable&quot;)</span><br><span class="line">    print(attribute)  # è¾“å‡º 42</span><br><span class="line">else:</span><br><span class="line">    print(f&quot;&#123;my_module.__name__&#125; æ¨¡å—ä¸­æ²¡æœ‰åä¸º my_variable çš„å±æ€§&quot;)</span><br></pre></td></tr></table></figure>

<ul>
<li>åå°„çš„åº”ç”¨åœºæ™¯ï¼š</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">class User:</span><br><span class="line">    def login(self):</span><br><span class="line">        print(&quot;ç™»å½•æ“ä½œ&quot;)</span><br><span class="line"></span><br><span class="line">    def register(self):</span><br><span class="line">        print(&quot;æ³¨å†Œæ“ä½œ&quot;)</span><br><span class="line"></span><br><span class="line">    def save(self):</span><br><span class="line">        print(&quot;å­˜å‚¨æ“ä½œ&quot;)</span><br><span class="line"></span><br><span class="line">obju = User()</span><br><span class="line"></span><br><span class="line"># æ²¡å­¦åå°„ä¹‹å‰ï¼Œè§£å†³æ ¹æ®ç”¨æˆ·è¾“å…¥è¿›è¡Œå¯¹åº”æ“ä½œ</span><br><span class="line"># while True:</span><br><span class="line">#     choose = input(&quot;&gt;&gt;:&quot;).strip()</span><br><span class="line">#     if choose == &#x27;login&#x27;:</span><br><span class="line">#         u.login()</span><br><span class="line">#     elif choose == &#x27;register&#x27;:</span><br><span class="line">#         u.register()</span><br><span class="line">#     else:</span><br><span class="line">#         u.save()</span><br><span class="line"></span><br><span class="line"># ä½¿ç”¨åå°„è§£å†³é—®é¢˜</span><br><span class="line">while True:</span><br><span class="line">    choose = input(&quot;&gt;&gt;:&quot;).strip()</span><br><span class="line">    if hasattr(obju, choose):</span><br><span class="line">        fun = getattr(obju, choose)</span><br><span class="line">        fun()</span><br></pre></td></tr></table></figure>

<h4 id="8-ç‰¹æ®Šå±æ€§å’Œé­”æœ¯æ–¹æ³•"><a href="#8-ç‰¹æ®Šå±æ€§å’Œé­”æœ¯æ–¹æ³•" class="headerlink" title="8. ç‰¹æ®Šå±æ€§å’Œé­”æœ¯æ–¹æ³•"></a>8. ç‰¹æ®Šå±æ€§å’Œé­”æœ¯æ–¹æ³•</h4><blockquote>
<p>ç®€ä»‹ï¼šè°ƒç”¨å†…ç½®å‡½æ•°dir()åçš„è¿”å›å€¼ä¸­ï¼Œå¾ˆå¤šå±æ€§å’Œæ–¹æ³•éƒ½æ˜¯ä»¥åŒä¸‹åˆ’çº¿__å¼€å¤´å’Œç»“å°¾çš„ï¼Œå…¶ä¸­ç»å¤§å¤šæ•°éƒ½ç»§æ‰¿è‡ªç±»objectï¼š</p>
<ul>
<li>ç‰¹æ®Šå±æ€§ï¼šå³ä»¥åŒä¸‹åˆ’çº¿__å¼€å¤´å’Œç»“å°¾çš„å±æ€§</li>
<li>ç‰¹æ®Šæ–¹æ³•ï¼šå³ä»¥åŒä¸‹åˆ’çº¿__å¼€å¤´å’Œç»“å°¾çš„æ–¹æ³•</li>
</ul>
<p>æ³¨æ„ï¼š<strong>ç‰¹æ®Šå±æ€§å’Œç‰¹æ®Šæ–¹æ³•éƒ½æ˜¯ç³»ç»Ÿé¢„å®šä¹‰çš„</strong>ï¼Œè‡ªå®šä¹‰æ—¶å°½é‡ä¸è¦ä»¥åŒä¸‹åˆ’çº¿å¼€å¤´å’Œç»“å°¾ã€‚æˆ‘ä»¬å¸¸ä¼šé‡å†™ä¸€ä¸ªæˆ–å¤šä¸ªç‰¹æ®Šæ–¹æ³•ï¼Œ<strong>ç‰¹æ®Šæ–¹æ³•ä¸€èˆ¬ä¼šåœ¨ç‰¹å®šçš„æƒ…å½¢ä¸‹è¢«è‡ªåŠ¨è°ƒç”¨</strong>ï¼Œå¾ˆå°‘éœ€è¦æ‰‹åŠ¨è°ƒç”¨</p>
</blockquote>
<ul>
<li><strong>ç‰¹æ®Šå±æ€§__dict__<strong>ï¼šç”¨äºè·å–æŒ‡å®šçš„ç±»å¯¹è±¡æˆ–å®ä¾‹å¯¹è±¡æ‰€</strong>ç»‘å®š</strong>çš„æ‰€æœ‰å±æ€§æ–¹æ³•ä¸å…¶å¯¹åº”å€¼ï¼Œå¹¶æ‰“åŒ…ä¸ºä¸€ä¸ªå­—å…¸</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">class MyClass:</span><br><span class="line">    def __init__(self, x):</span><br><span class="line">        self.x = x</span><br><span class="line"></span><br><span class="line">    def my_method(self):</span><br><span class="line">        print(&quot;Hello from my_method&quot;)</span><br><span class="line"></span><br><span class="line"># åˆ›å»ºç±»çš„å®ä¾‹</span><br><span class="line">obj = MyClass(42)</span><br><span class="line"></span><br><span class="line"># è·å–ç±»çš„å±æ€§å­—å…¸</span><br><span class="line">print(MyClass.__dict__)</span><br><span class="line"># &#123;......, &#x27;__init__&#x27;: function..., &#x27;my_method&#x27;: function...&#125;</span><br><span class="line"></span><br><span class="line"># è·å–å®ä¾‹çš„å±æ€§å­—å…¸</span><br><span class="line">print(obj.__dict__)  # &#123;&#x27;x&#x27;: 42&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>ç‰¹æ®Šæ–¹æ³•__len__()<strong>ï¼šå½“åœ¨ä¸€ä¸ªå¯¹è±¡ä¸Šè°ƒç”¨len()å‡½æ•°æ—¶ï¼Œä¼šè‡ªåŠ¨è°ƒç”¨å¯¹è±¡å®šä¹‰çš„__len__()æ–¹æ³•ï¼Œç”¨äºè¿”å›å¯¹è±¡çš„é•¿åº¦ã€‚</strong>å†…ç½®å‡½æ•°len()çš„å®å‚åœ¨é»˜è®¤æƒ…å†µä¸‹ä¸èƒ½æ˜¯è‡ªå®šä¹‰ç±»å¯¹è±¡çš„å®ä¾‹å¯¹è±¡ï¼Œå› æ­¤éœ€åœ¨è‡ªå®šä¹‰ç±»å¯¹è±¡ä¸­å®ç°ç‰¹æ®Šæ–¹æ³•__len__()</strong></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"># ä¹‹æ‰€ä»¥len()çš„å®å‚å¯ä»¥æ˜¯æŸäº›å†…ç½®ç±»å¯¹è±¡çš„å®ä¾‹å¯¹è±¡ï¼Œæ˜¯å› ä¸ºè¿™äº›å†…ç½®ç±»å¯¹è±¡ä¸­éƒ½å®ç°äº†ç‰¹æ®Šæ–¹æ³•__len__()</span><br><span class="line">print(len([1, 2, 3, 4, 5]))  # 5</span><br><span class="line">print(len(&#x27;abcde&#x27;))  # 5</span><br><span class="line">print(len(&#123;&#x27;a&#x27;: 1, &#x27;b&#x27;: 2, &#x27;c&#x27;: 3&#125;))  # 3</span><br><span class="line"></span><br><span class="line"># class MyClass(object):</span><br><span class="line">#     pass</span><br><span class="line"># print(len(MyClass()))  # TypeError: object of type &#x27;MyClass&#x27; has no len()</span><br><span class="line"></span><br><span class="line">class MyClass(object):</span><br><span class="line">    def __len__(self):</span><br><span class="line">        return 18</span><br><span class="line"></span><br><span class="line">print(len(MyClass()))  # 18</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>ç‰¹æ®Šæ–¹æ³•__iter__()å’Œ__next__()<strong>ï¼šåªå®ç°__iter__()çš„ç±»å¯¹è±¡è¢«ç§°ä¸º</strong>å¯è¿­ä»£ç±»å¯¹è±¡</strong>ï¼ŒåŒæ—¶å®ç°__iter__()å’Œ__next__()çš„ç±»å¯¹è±¡è¢«ç§°ä¸º<strong>è¿­ä»£å™¨ç±»å¯¹è±¡</strong><ul>
<li>åº”ç”¨ï¼š<strong>for-inå¾ªç¯è¯­å¥åœ¨é»˜è®¤æƒ…å†µä¸‹ä¸èƒ½ç”¨äºè‡ªå®šä¹‰ç±»å¯¹è±¡çš„å®ä¾‹å¯¹è±¡ï¼Œå› æ­¤éœ€åœ¨è‡ªå®šä¹‰ç±»å¯¹è±¡ä¸­åŒæ—¶å®ç°ç‰¹æ®Šæ–¹æ³•__iter__()å’Œ__next__()</strong></li>
<li>åŸç†ï¼šfor-inè¯­å¥é¦–å…ˆä¼šè°ƒç”¨ç‰¹æ®Šæ–¹æ³•__iter__()è¿”å›ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡ï¼Œç„¶åä¸æ–­è°ƒç”¨å¯è¿­ä»£å¯¹è±¡çš„ç‰¹æ®Šæ–¹æ³•__next__()è¿”å›ä¸‹ä¸€æ¬¡è¿­ä»£çš„å€¼ï¼Œç›´åˆ°é‡åˆ°StopIterationæ—¶é€€å‡ºå¾ªç¯</li>
</ul>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"># ä¹‹æ‰€ä»¥for-inè¯­å¥å¯ä»¥ç›´æ¥ç”¨äºæŸäº›å†…ç½®ç±»å¯¹è±¡çš„å®ä¾‹å¯¹è±¡ï¼Œ</span><br><span class="line"># æ˜¯å› ä¸ºè¿™äº›å†…ç½®ç±»å¯¹è±¡ä¸­éƒ½åŒæ—¶å®ç°äº†ç‰¹æ®Šæ–¹æ³•__iter__()å’Œ__next__()</span><br><span class="line">L = [1, 2, 3, 4, 5]</span><br><span class="line"></span><br><span class="line">for item in L:</span><br><span class="line">    print(item)  # 1 2 3 4 5</span><br><span class="line"></span><br><span class="line"># class MyClass(object):</span><br><span class="line">#     pass</span><br><span class="line"># for item in MyClass():  # TypeError: &#x27;MyClass&#x27; object is not iterable</span><br><span class="line">#     print(item)</span><br><span class="line"></span><br><span class="line">class MyClass:</span><br><span class="line">    def __init__(self, length):</span><br><span class="line">        self.length = length</span><br><span class="line">        self.index = 0</span><br><span class="line"></span><br><span class="line">    def __iter__(self):</span><br><span class="line">        return self</span><br><span class="line"></span><br><span class="line">    def __next__(self):</span><br><span class="line">        if self.index &gt;= self.length:</span><br><span class="line">            raise StopIteration</span><br><span class="line">        result = self.index</span><br><span class="line">        self.index += 1</span><br><span class="line">        return result</span><br><span class="line"></span><br><span class="line">for item in MyClass(5):</span><br><span class="line">    print(item)  # 0 1 2 3 4</span><br></pre></td></tr></table></figure>

<ul>
<li>**ç‰¹æ®Šæ–¹æ³•__add__()å’Œ__radd__()**ï¼š<ul>
<li>åº”ç”¨ï¼š<strong>æ ‡å‡†ç®—æœ¯è¿ç®—ç¬¦åœ¨é»˜è®¤æƒ…å†µä¸‹ä¸èƒ½ç”¨äºè‡ªå®šä¹‰ç±»å¯¹è±¡çš„å®ä¾‹å¯¹è±¡ï¼Œå› æ­¤éœ€åœ¨è‡ªå®šä¹‰ç±»å¯¹è±¡ä¸­å®ç°æ ‡å‡†ç®—æœ¯è¿ç®—ç¬¦å¯¹åº”çš„ç‰¹æ®Šæ–¹æ³•</strong></li>
<li>åŸç†ï¼šå‡è®¾ä¸¤ä¸ªè¿ç®—ç¬¦obj1å’Œobj2ï¼Œä»¥+ä¸ºä¾‹ï¼Œåˆ™éœ€è¦åœ¨obj1å¯¹åº”çš„è‡ªå®šä¹‰ç±»å¯¹è±¡ä¸­å®ç°ç‰¹æ®Šæ–¹æ³•__add__()ï¼›<strong>æˆ–</strong>åœ¨obj2å¯¹åº”çš„è‡ªå®šä¹‰ç±»å¯¹è±¡ä¸­å®ç°ç‰¹æ®Šæ–¹æ³•__radd__()ï¼ˆræ˜¯rightçš„ç¼©å†™ï¼‰ï¼Œå› ä¸ºobj2ä½äºè¿ç®—ç¬¦+çš„å³è¾¹</li>
</ul>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">&quot;&quot;&quot;</span><br><span class="line">+å¯¹åº”çš„ç‰¹æ®Šæ–¹æ³•æ˜¯__add__()å’Œ__radd__();</span><br><span class="line">-å¯¹åº”çš„ç‰¹æ®Šæ–¹æ³•æ˜¯__sub__()å’Œ__rsub__();</span><br><span class="line">*å¯¹åº”çš„ç‰¹æ®Šæ–¹æ³•æ˜¯__mul__()å’Œ__rmul__();</span><br><span class="line">/å¯¹åº”çš„ç‰¹æ®Šæ–¹æ³•æ˜¯__truediv__()å’Œ__rtruediv__();</span><br><span class="line">//å¯¹åº”çš„ç‰¹æ®Šæ–¹æ³•æ˜¯__floordiv__()å’Œ__rfloordiv__();</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line"></span><br><span class="line"># class MyClass1(object):</span><br><span class="line">#     pass</span><br><span class="line"># class MyClass2(object):</span><br><span class="line">#     pass</span><br><span class="line"># print(MyClass1() + MyClass2())</span><br><span class="line"># æŠ›å‡ºå¼‚å¸¸ TypeError: unsupported operand type(s) for +: &#x27;MyClass1&#x27; and &#x27;MyClass2&#x27;</span><br><span class="line"></span><br><span class="line">class C1(object):</span><br><span class="line">    def __add__(self, other):</span><br><span class="line">        print(&quot;ç‰¹æ®Šæ–¹æ³•__add__è¢«è°ƒç”¨&quot;)</span><br><span class="line">        # return &quot;xxx&quot;</span><br><span class="line">        return NotImplemented</span><br><span class="line"></span><br><span class="line">class C2(object):</span><br><span class="line">    def __radd__(self, other):</span><br><span class="line">        print(&quot;ç‰¹æ®Šæ–¹æ³•__radd__è¢«è°ƒç”¨&quot;)</span><br><span class="line">        return &quot;yyy&quot;</span><br><span class="line">        # return NotImplemented</span><br><span class="line"></span><br><span class="line">obj1 = C1()</span><br><span class="line">obj2 = C2()</span><br><span class="line"># é€šå¸¸åªä¼šè°ƒç”¨C1ç±»ä¸­çš„addæ–¹æ³•ï¼Œè€Œå› ä¸ºC1ä¸­è¿”å›äº†NotImplementedï¼Œæ‰€ä»¥åˆè°ƒç”¨äº†C2ä¸­çš„raddæ–¹æ³•</span><br><span class="line">print(obj1 + obj2)  # ç‰¹æ®Šæ–¹æ³•__add__è¢«è°ƒç”¨ ç‰¹æ®Šæ–¹æ³•__radd__è¢«è°ƒç”¨ yyy</span><br><span class="line">&quot;&quot;&quot;print(obj2 + obj1)</span><br><span class="line">æŠ›å‡ºå¼‚å¸¸ï¼šTypeError: unsupported operand type(s) for +: &#x27;C2&#x27; and &#x27;C1&#x27;</span><br><span class="line">åŸå› ï¼šç¬¬ä¸€ä¸ªå¯¹è±¡å†…éƒ¨å¿…é¡»å®šä¹‰çš„æ˜¯__add__()ï¼Œè€Œobj2å¯¹è±¡çš„ç±»ä¸­å®šä¹‰çš„æ˜¯__radd__()</span><br><span class="line">&quot;&quot;&quot;</span><br></pre></td></tr></table></figure>

<ul>
<li>**ç‰¹æ®Šæ–¹æ³•__str__()å’Œ__repr__()**ï¼šç”¨äºè‡ªå®šä¹‰å¹¶è¿”å›å®ä¾‹å¯¹è±¡çš„å­—ç¬¦ä¸²è¡¨ç¤ºå½¢å¼</li>
</ul>
<ol>
<li><p>åœ¨äº¤äº’å¼å‘½ä»¤è¡Œä¸­ç›´æ¥æ‰“å°ä¸€ä¸ªå®ä¾‹å¯¹è±¡ï¼š__repr__() &gt; ç±»å¯¹è±¡å†…å­˜åœ°å€</p>
</li>
<li><p>è°ƒç”¨å†…ç½®å‡½æ•°printæ‰“å°ä¸€ä¸ªå®ä¾‹å¯¹è±¡ï¼š__str__() &gt; __repr__() &gt; ç±»å¯¹è±¡å†…å­˜åœ°å€</p>
</li>
<li><p>è°ƒç”¨å†…ç½®å‡½æ•°stråˆ›å»ºå­—ç¬¦ä¸²å¹¶ä¸”å®å‚æ˜¯ä¸€ä¸ªå®ä¾‹å¯¹è±¡ï¼š__str__() &gt; __repr__() &gt; ç±»å¯¹è±¡å†…å­˜åœ°å€</p>
</li>
<li><p>è°ƒç”¨å†…ç½®å‡½æ•°repråˆ›å»ºå­—ç¬¦ä¸²å¹¶ä¸”å®å‚æ˜¯ä¸€ä¸ªå®ä¾‹å¯¹è±¡ï¼š__repr__() &gt; ç±»å¯¹è±¡å†…å­˜åœ°å€</p>
</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># ä¸¤è€…åŒºåˆ«ï¼šstr()çš„è¿”å›å€¼æ˜¯ç»™ç”¨æˆ·çœ‹çš„ï¼Œæ›´åŠ ç”¨æˆ·å‹å¥½ï¼›repr()çš„è¿”å›å€¼æ˜¯ç»™å¼€å‘è€…çœ‹çš„ï¼Œæ˜¯ä¸ºè°ƒè¯•æœåŠ¡çš„</span><br><span class="line">class MyClass(object):</span><br><span class="line">    def __str__(self):</span><br><span class="line">        return &quot;xxx&quot;</span><br><span class="line"></span><br><span class="line"># é€šå¸¸æƒ…å†µä¸‹ï¼Œç‰¹æ®Šæ–¹æ³•__str__()å’Œ__repr__()çš„å®ç°ä»£ç æ˜¯ä¸€æ ·çš„ï¼Œå› æ­¤å¯ä»¥ç›´æ¥æŠŠæ–¹æ³•åèµ‹å€¼ç»™å¦ä¸€ä¸ªçš„æ–¹æ³•å</span><br><span class="line">    __repr__ = __str__</span><br><span class="line"></span><br><span class="line"># str()å’Œrepr()çš„åŒºåˆ«</span><br><span class="line">print(str(&quot;Hello,\nworld!&quot;))  # Hello,ï¼ˆæ¢è¡Œï¼‰world!</span><br><span class="line">print(repr(&quot;Hello,\nworld!&quot;))  # &#x27;Hello,\nworld!&#x27;</span><br></pre></td></tr></table></figure>

<ul>
<li>**ç‰¹æ®Šæ–¹æ³•__new__()<strong>ï¼šç”¨äºåˆ›å»ºå®ä¾‹å¯¹è±¡ï¼Œç‰¹æ®Šæ–¹æ³•__new__()ä¼šå°†åˆ›å»ºå¥½çš„å®ä¾‹å¯¹è±¡è¿”å›ç»™__init__()æ–¹æ³•ï¼Œå¹¶è°ƒç”¨__init__()æ–¹æ³•ã€‚å½“ä½¿ç”¨</strong>ç±»å([å®å‚])**åˆ›å»ºå®ä¾‹å¯¹è±¡æ—¶ï¼Œé¦–å…ˆä¼šè°ƒç”¨ç‰¹æ®Šæ–¹æ³•__new__()åˆ›å»ºå®ä¾‹ï¼ˆæ²¡æœ‰åˆ™åœ¨çˆ¶ç±»ä¾æ¬¡å‘ä¸ŠæŸ¥æ‰¾ï¼‰ï¼Œ__new__()è¿”å›çš„å®ä¾‹å¯¹è±¡ä¼šä½œä¸ºå®å‚è¢«è‡ªåŠ¨ä¼ é€’ç»™__init__()çš„ç¬¬ä¸€ä¸ªå½¢å‚selfï¼Œä»è€Œè¿›è¡Œåˆå§‹åŒ–</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">class Parent(object):</span><br><span class="line">    def __new__(cls, *args, **kwargs):</span><br><span class="line">        print(&quot;çˆ¶ç±»çš„__new__()è¢«è°ƒç”¨ï¼Œå…¶å½¢å‚clså¯¹åº”å®å‚çš„id:%s&quot; % id(cls))</span><br><span class="line">        obj = super().__new__(cls)</span><br><span class="line">        print(&quot;åˆ›å»ºçš„å®ä¾‹å¯¹è±¡çš„id:%s&quot; % id(obj))</span><br><span class="line">        return obj</span><br><span class="line"></span><br><span class="line">class Child(Parent):</span><br><span class="line">    def __init__(self, name):</span><br><span class="line">        print(&quot;å­ç±»çš„__init__()è¢«è°ƒç”¨ï¼Œå…¶å½¢å‚selfå¯¹åº”å®å‚çš„idï¼š%s&quot; % id(self))</span><br><span class="line">        self.name = name</span><br><span class="line"></span><br><span class="line">print(&quot;çˆ¶ç±»Parentçš„idï¼š%s&quot; % id(Parent))</span><br><span class="line">print(&quot;å­ç±»Childçš„idï¼š%s&quot; % id(Child))</span><br><span class="line"></span><br><span class="line">child = Child(&quot;Mike&quot;)</span><br><span class="line">print(&quot;åˆ›å»ºçš„å®ä¾‹å¯¹è±¡çš„idï¼š%s&quot; % id(child))</span><br><span class="line"></span><br><span class="line">&quot;&quot;&quot;è¿è¡Œç»“æœï¼š</span><br><span class="line">çˆ¶ç±»Parentçš„idï¼š4889618576</span><br><span class="line">å­ç±»Childçš„idï¼š4889619520</span><br><span class="line">çˆ¶ç±»çš„__new__()è¢«è°ƒç”¨ï¼Œå…¶å½¢å‚clså¯¹åº”å®å‚çš„id:4889619520</span><br><span class="line">åˆ›å»ºçš„å®ä¾‹å¯¹è±¡çš„id:4309941696</span><br><span class="line">å­ç±»çš„__init__()è¢«è°ƒç”¨ï¼Œå…¶å½¢å‚selfå¯¹åº”å®å‚çš„idï¼š4309941696</span><br><span class="line">åˆ›å»ºçš„å®ä¾‹å¯¹è±¡çš„idï¼š4309941696</span><br><span class="line">&quot;&quot;&quot;</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>é‡ç‚¹ï¼š__new__()æ–¹æ³•å®ç°å•ä¾‹æ¨¡å¼ï¼ˆå•ä¾‹æ¨¡å¼æ˜¯ä¸€ç§è®¾è®¡æ¨¡å¼ï¼Œç”¨äºç¡®ä¿ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå®ä¾‹ï¼Œå¹¶æä¾›å…¨å±€è®¿é—®ç‚¹ä»¥è·å–è¯¥å®ä¾‹ï¼‰</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">class Printer:</span><br><span class="line"> tasks = []</span><br><span class="line"> instance = None  # ç”¨äºå­˜æ”¾ç¬¬ä¸€ä¸ªå®ä¾‹å¯¹è±¡</span><br><span class="line"></span><br><span class="line"> def __init__(self, name):</span><br><span class="line">     self.name = name</span><br><span class="line"></span><br><span class="line"> def add_task(self, job):</span><br><span class="line">     self.tasks.append(job)</span><br><span class="line">     print(&quot;[%s]æ·»åŠ ä»»åŠ¡[%s]åˆ°æ‰“å°æœºï¼Œæ€»ä»»åŠ¡æ•°[%s]&quot; % (self.name, job, len(self.tasks)))</span><br><span class="line"></span><br><span class="line"> def __new__(cls, *args, **kwargs):</span><br><span class="line">     # åªæœ‰ç¬¬ä¸€æ¬¡åˆ›å»ºå®ä¾‹å¯¹è±¡æ—¶ï¼Œæ­£å¸¸åˆ›å»ºï¼Œåé¢æ¯æ¬¡å®ä¾‹åŒ–å¹¶ä¸çœŸæ­£åˆ›å»ºä¸€ä¸ªæ–°å®ä¾‹</span><br><span class="line">     if not cls.instance:</span><br><span class="line">         # ç¬¬ä¸€æ¬¡åˆ›å»ºå®ä¾‹å¯¹è±¡æ—¶ï¼Œå°†å®ä¾‹å¯¹è±¡å­˜å…¥cls.instance</span><br><span class="line">         obj = super().__new__(cls)  # å®ä¾‹åŒ–è¿‡ç¨‹</span><br><span class="line">         print(&quot;obj:&quot;, obj)  # obj: &lt;__main__.Printer object at 0x10033ad10&gt;</span><br><span class="line">         cls.instance = obj  # æŠŠæˆåŠŸåˆ›å»ºçš„å®ä¾‹å¯¹è±¡å­˜ä¸‹æ¥</span><br><span class="line">     return cls.instance  # ä»¥åçš„æ¯æ¬¡å®ä¾‹åŒ–ï¼Œç›´æ¥è¿”å›ç¬¬ä¸€æ¬¡å­˜çš„å®ä¾‹å¯¹è±¡</span><br><span class="line">     # åœ¨ä¸Šä¸€æ¬¡å®ä¾‹å¯¹è±¡çš„åŸºç¡€ä¸Šï¼Œå†æ‰§è¡Œ__init__æ–¹æ³•ï¼Œç›¸å½“äºæ¯æ¬¡éƒ½ä¼šè¦†ç›–æ‰ä¸Šä¸€æ¬¡çš„name</span><br><span class="line"></span><br><span class="line">p1 = Printer(&quot;tom&quot;)</span><br><span class="line">p2 = Printer(&quot;jack&quot;)</span><br><span class="line">p3 = Printer(&quot;alice&quot;)</span><br><span class="line"></span><br><span class="line">p1.add_task(&quot;word-app&quot;)  # [alice]æ·»åŠ ä»»åŠ¡[word-app]åˆ°æ‰“å°æœºï¼Œæ€»ä»»åŠ¡æ•°[1]</span><br><span class="line">p2.add_task(&quot;pdf-app&quot;)  # [alice]æ·»åŠ ä»»åŠ¡[pdf-app]åˆ°æ‰“å°æœºï¼Œæ€»ä»»åŠ¡æ•°[2]</span><br><span class="line">p3.add_task(&quot;excel-app&quot;)  # [alice]æ·»åŠ ä»»åŠ¡[excel-app]åˆ°æ‰“å°æœºï¼Œæ€»ä»»åŠ¡æ•°[3]</span><br><span class="line">print(p1, p2, p3)  # &lt;...at 0x10033ad10&gt; &lt;...at 0x10033ad10&gt; &lt;...at 0x10033ad10&gt;</span><br><span class="line">print(p1.name, p2.name, p3.name)  # alice alice alice</span><br></pre></td></tr></table></figure>
</blockquote>
<h4 id="9-å¯¹è±¡çš„å¼•ç”¨è®¡æ•°"><a href="#9-å¯¹è±¡çš„å¼•ç”¨è®¡æ•°" class="headerlink" title="9. å¯¹è±¡çš„å¼•ç”¨è®¡æ•°"></a>9. å¯¹è±¡çš„å¼•ç”¨è®¡æ•°</h4><ul>
<li><p>ç®€ä»‹ï¼šå½“åˆ›å»ºä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨åˆ†é…ä¸€å—å†…å­˜ä»¥å­˜å‚¨è¯¥å¯¹è±¡çš„ä¿¡æ¯ï¼Œå½“è¯¥å¯¹è±¡ä¸å†è¢«ä½¿ç”¨æ—¶ï¼Œç³»ç»Ÿä¼šè¿›è¡Œåƒåœ¾å›æ”¶ä»¥è‡ªåŠ¨é‡Šæ”¾æ‰å…¶å ç”¨çš„å†…å­˜ï¼›ä¸ºäº†ç¡®ä¿ä½¿ç”¨ä¸­çš„å¯¹è±¡ä¸ä¼šè¢«é”€æ¯ï¼Œ<strong>Pythonä½¿ç”¨å¼•ç”¨è®¡æ•°æ¥è·Ÿè¸ªå’Œè®¡ç®—å†…å­˜ä¸­æ¯ä¸ªå¯¹è±¡è¢«å¼•ç”¨çš„æ¬¡æ•°</strong>ï¼Œå½“å¯¹è±¡çš„å¼•ç”¨è®¡æ•°ä¸º0æ—¶ï¼Œæ‰å¯ä»¥è¢«é”€æ¯</p>
</li>
<li><p>å¯¹è±¡çš„å¼•ç”¨è®¡æ•°åŠ 1çš„æƒ…å½¢ï¼š</p>
<ol>
<li><p>å¯¹è±¡èµ‹å€¼ç»™å˜é‡</p>
</li>
<li><p>å¼•ç”¨å¯¹è±¡çš„å˜é‡èµ‹å€¼ç»™å¦ä¸€ä¸ªå˜é‡</p>
</li>
<li><p>å¯¹è±¡ä½œä¸ºå®¹å™¨ï¼ˆä¾‹å¦‚ï¼šåˆ—è¡¨ã€å…ƒç»„ã€é›†åˆç­‰ï¼‰ä¸­çš„å…ƒç´ </p>
</li>
<li><p>å¯¹è±¡ä½œä¸ºå‡½æ•°è°ƒç”¨æ—¶çš„å®å‚</p>
</li>
</ol>
</li>
<li><p>å¯¹è±¡çš„å¼•ç”¨è®¡æ•°å‡1çš„æƒ…å½¢ï¼š</p>
<ol>
<li><p>å¯¹è±¡ç¦»å¼€å®ƒçš„ä½œç”¨åŸŸï¼Œä¾‹å¦‚ï¼šå¯¹è±¡æ‰€åœ¨çš„å‡½æ•°æ‰§è¡Œå®Œæ¯•</p>
</li>
<li><p>å¯¹è±¡çš„å¼•ç”¨è¢«æ˜¾å¼é”€æ¯</p>
</li>
<li><p>å¼•ç”¨å¯¹è±¡çš„å˜é‡è¢«èµ‹äºˆæ–°çš„å¯¹è±¡</p>
</li>
<li><p>ä»å®¹å™¨ä¸­åˆ é™¤å¯¹è±¡ï¼Œæˆ–å¯¹è±¡æ‰€åœ¨çš„å®¹å™¨è¢«é”€æ¯</p>
</li>
</ol>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">import sys</span><br><span class="line"></span><br><span class="line">class MyClass(object):</span><br><span class="line">    pass</span><br><span class="line"></span><br><span class="line">def do_sth(param):</span><br><span class="line">    pass</span><br><span class="line"></span><br><span class="line">a = MyClass()  # å¯¹è±¡èµ‹å€¼ç»™å˜é‡ï¼Œå¼•ç”¨è®¡æ•°åŠ 1ï¼Œå˜ä¸º1</span><br><span class="line">b = a  # å¼•ç”¨å¯¹è±¡çš„å˜é‡èµ‹å€¼ç»™å¦ä¸€ä¸ªå˜é‡ï¼Œå¼•ç”¨è®¡æ•°åŠ 1ï¼Œå˜ä¸º2</span><br><span class="line">L = [1, 2, a]  # å¯¹è±¡ä½œä¸ºå®¹å™¨ä¸­çš„å…ƒç´ ï¼Œå¼•ç”¨è®¡æ•°åŠ 1ï¼Œå˜ä¸º3</span><br><span class="line">do_sth(a)  # å¯¹è±¡ä½œä¸ºå‡½æ•°è°ƒç”¨æ—¶çš„å®å‚ï¼Œå¼•ç”¨è®¡æ•°åŠ 1ï¼Œå˜ä¸º4</span><br><span class="line"># å½“å‡½æ•°æ‰§è¡Œåï¼Œå¯¹å®å‚çš„å¼•ç”¨ä¼šè‡ªåŠ¨é”€æ¯ï¼Œå¼•ç”¨è®¡æ•°å‡1ï¼Œå˜ä¸º3</span><br><span class="line"></span><br><span class="line">del L  # ä»å®¹å™¨ä¸­åˆ é™¤å¯¹è±¡ï¼Œæˆ–å¯¹è±¡æ‰€åœ¨çš„å®¹å™¨è¢«é”€æ¯ï¼Œå¼•ç”¨è®¡æ•°å‡1ï¼Œå˜ä¸º2</span><br><span class="line">del a  # å¯¹è±¡çš„å¼•ç”¨è¢«æ˜¾å¼é”€æ¯ï¼Œå¼•ç”¨è®¡æ•°å‡1ï¼Œå˜ä¸º1</span><br><span class="line">c = b  # å¼•ç”¨è®¡æ•°åŠ 1ï¼Œå˜ä¸º2</span><br><span class="line">b = 18  # å¼•ç”¨å¯¹è±¡çš„å˜é‡è¢«èµ‹äºˆæ–°çš„å¯¹è±¡ï¼Œå¼•ç”¨è®¡æ•°å‡1ï¼Œå˜ä¸º1</span><br><span class="line"></span><br><span class="line">print(sys.getrefcount(c))  # è¾“å‡º2ï¼Œè¿™é‡ŒåŒæ ·ï¼Œåœ¨å‡½æ•°çš„æ‰§è¡Œè¿‡ç¨‹ä¸­å¼•ç”¨è®¡æ•°åŠ 1ï¼Œå˜ä¸º2</span><br><span class="line"># å½“å‡½æ•°æ‰§è¡Œåï¼Œå¯¹å®å‚çš„å¼•ç”¨ä¼šè‡ªåŠ¨é”€æ¯ï¼Œå› æ­¤ï¼Œå¼•ç”¨è®¡æ•°å‡1ï¼Œå˜ä¸º1</span><br><span class="line">print(sys.getrefcount(c))  # è¾“å‡º2ï¼Œæ‰€ä»¥å³ä½¿å†è°ƒç”¨ä¸€æ¬¡å¼•ç”¨è®¡æ•°ä¹Ÿæ˜¯2</span><br></pre></td></tr></table></figure>

<h4 id="10-ç‰¹æ®Šå±æ€§å’Œé­”æœ¯æ–¹æ³•ï¼ˆç»­ï¼‰"><a href="#10-ç‰¹æ®Šå±æ€§å’Œé­”æœ¯æ–¹æ³•ï¼ˆç»­ï¼‰" class="headerlink" title="10. ç‰¹æ®Šå±æ€§å’Œé­”æœ¯æ–¹æ³•ï¼ˆç»­ï¼‰"></a>10. ç‰¹æ®Šå±æ€§å’Œé­”æœ¯æ–¹æ³•ï¼ˆç»­ï¼‰</h4><ul>
<li><strong>ç‰¹æ®Šæ–¹æ³•__del__()<strong>ï¼šå½“å†…å­˜ä¸­çš„å¯¹è±¡è¢«é”€æ¯ï¼ˆåƒåœ¾å›æ”¶ï¼‰ä¹‹å‰ï¼Œä¼šè‡ªåŠ¨è°ƒç”¨å…¶å¯¹åº”çš„ç‰¹æ®Šæ–¹æ³•__del__()ã€‚å½“å¯¹è±¡çš„å¼•ç”¨è®¡æ•°ä¸º0æ—¶ï¼Œå¯¹è±¡å¹¶ä¸ä¼šç«‹åˆ»è¢«é”€æ¯ï¼Œ</strong>ä½•æ—¶è¿›è¡Œåƒåœ¾å›æ”¶æ˜¯ä¸ç¡®å®šçš„</strong>ï¼Œå› æ­¤ï¼Œç‰¹æ®Šæ–¹æ³•__del__()ä½•æ—¶ä¼šè¢«è°ƒç”¨ä¹Ÿæ˜¯ä¸ç¡®å®šçš„</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">class MyClass(object):</span><br><span class="line">    def __del__(self):</span><br><span class="line">        print(&quot;ç‰¹æ®Šæ–¹æ³•__del__è¢«è°ƒç”¨&quot;)</span><br><span class="line"></span><br><span class="line">mc = MyClass()</span><br><span class="line">del mc  # ç‰¹æ®Šæ–¹æ³•__del__è¢«è°ƒç”¨</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>ç‰¹æ®Šæ–¹æ³•__getattr__()<strong>ï¼šå½“è®¿é—®å®ä¾‹å¯¹è±¡çš„å±æ€§æˆ–æ–¹æ³•æ—¶ï¼Œå¦‚æœæŒ‡å®šçš„å±æ€§æˆ–æ–¹æ³•ä¸å­˜åœ¨ï¼Œå°±ä¼šæŠ›å‡ºAttributeErrorï¼Œä¸ºäº†é¿å…æŠ›å‡ºå¼‚å¸¸ï¼Œå¯ä»¥åœ¨å®ä¾‹å¯¹è±¡å¯¹åº”çš„ç±»å¯¹è±¡ä¸­å®ç°ç‰¹æ®Šæ–¹æ³•__getattr__()ï¼Œ</strong>å½“æŒ‡å®šçš„å±æ€§æˆ–æ–¹æ³•ä¸å­˜åœ¨æ—¶ï¼Œä¼šè‡ªåŠ¨è°ƒç”¨ç‰¹æ®Šæ–¹æ³•__getattr__()</strong></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">class MyClass(object):</span><br><span class="line">    pass</span><br><span class="line"></span><br><span class="line">mc = MyClass()</span><br><span class="line"></span><br><span class="line"># print(mc.data)  # AttributeError: &#x27;MyClass&#x27; object has no attribute &#x27;data&#x27;</span><br><span class="line"># mc.do_sth()  # AttributeError: &#x27;MyClass&#x27; object has no attribute &#x27;do_sth&#x27;</span><br><span class="line"></span><br><span class="line">class SomeClass(object):</span><br><span class="line">    def __getattr__(self, name):</span><br><span class="line">        if name == &quot;data&quot;:</span><br><span class="line">            return 18</span><br><span class="line">        elif name == &quot;do_sth&quot;:</span><br><span class="line">            return print</span><br><span class="line">        raise AttributeError(&quot;&#x27;SomeClass&#x27; object has no attribute &#x27;%s&#x27;&quot; % name)</span><br><span class="line"></span><br><span class="line">sc = SomeClass()</span><br><span class="line">print(sc.data)  # 18</span><br><span class="line">sc.do_sth(1, 2, 3)  # 1 2 3</span><br><span class="line"># print(sc.score)  # AttributeError: &#x27;SomeClass&#x27; object has no attribute &#x27;score&#x27;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>**ç‰¹æ®Šæ–¹æ³•__getitem__()**ï¼šå¯¹äºè‡ªå®šä¹‰ç±»å¯¹è±¡çš„å®ä¾‹å¯¹è±¡ï¼Œé»˜è®¤æ˜¯ä¸èƒ½åƒåˆ—è¡¨å’Œå­—å…¸é‚£æ ·ä½¿ç”¨ä¸­æ‹¬å·è¯­æ³•æ¥æ“ä½œæ•°æ®çš„</p>
<ol>
<li><p>__getitem__(self, key)ï¼šå½“æ‰§è¡Œæ“ä½œobj[key]æ—¶ï¼Œä¼šè‡ªåŠ¨è°ƒç”¨è¯¥ç‰¹æ®Šæ–¹æ³•</p>
</li>
<li><p>__setitem__(self, key, value)ï¼šå½“æ‰§è¡Œæ“ä½œobj[key] &#x3D; valueæ—¶ï¼Œä¼šè‡ªåŠ¨è°ƒç”¨è¯¥ç‰¹æ®Šæ–¹æ³•</p>
</li>
<li><p>__delitem__(self, key)ï¼šå½“æ‰§è¡Œæ“ä½œdel obj[key]æ—¶ï¼Œä¼šè‡ªåŠ¨è°ƒç”¨è¯¥ç‰¹æ®Šæ–¹æ³•</p>
</li>
</ol>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">class MyDict(object):</span><br><span class="line">    def __init__(self):</span><br><span class="line">        self.data = &#123;&#125;</span><br><span class="line"></span><br><span class="line">    def __getitem__(self, key):</span><br><span class="line">        return self.data[key]</span><br><span class="line"></span><br><span class="line">    def __setitem__(self, key, value):</span><br><span class="line">        self.data[key] = value</span><br><span class="line"></span><br><span class="line">    def __delitem__(self, key):</span><br><span class="line">        del self.data[key]</span><br><span class="line"></span><br><span class="line">md = MyDict()</span><br><span class="line"></span><br><span class="line">md[&quot;one&quot;] = 18</span><br><span class="line">md[&quot;two&quot;] = 32</span><br><span class="line">print(md[&quot;two&quot;])  # 32</span><br><span class="line">print(md.data)  # &#123;&#x27;one&#x27;: 18, &#x27;two&#x27;: 32&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>ç‰¹æ®Šæ–¹æ³•__call__()<strong>ï¼šåƒè°ƒç”¨å‡½æ•°ä¸€æ ·ç›´æ¥è°ƒç”¨è¿™ä¸ªç±»å¯¹è±¡çš„å®ä¾‹å¯¹è±¡ï¼Œä»è€Œä¼šè‡ªåŠ¨è°ƒç”¨ç±»å¯¹è±¡ä¸­çš„ç‰¹æ®Šæ–¹æ³•__call__()ã€‚</strong>å†…ç½®å‡½æ•°callableç”¨äºåˆ¤æ–­æŒ‡å®šå¯¹è±¡æ˜¯å¦æ˜¯å¯è°ƒç”¨çš„</strong></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">class MyClass(object):</span><br><span class="line">    def __call__(self, *args, **kwargs):</span><br><span class="line">        print(args, kwargs)</span><br><span class="line"></span><br><span class="line">mc = MyClass()</span><br><span class="line">mc()  # () &#123;&#125;</span><br><span class="line">mc(1, 2, x=3, y=4)  # (1, 2) &#123;&#x27;x&#x27;: 3, &#x27;y&#x27;: 4&#125;</span><br><span class="line"></span><br><span class="line">def do_sth():</span><br><span class="line">    pass</span><br><span class="line"></span><br><span class="line">print(callable(MyClass()))  # True</span><br><span class="line">print(callable(do_sth))  # True</span><br><span class="line">print(callable(print))  # True</span><br></pre></td></tr></table></figure>

<ul>
<li>**ç‰¹æ®Šå±æ€§__doc__**ï¼šè°ƒç”¨å†…ç½®å‡½æ•°dir()å¾—åˆ°çš„æ‰€æœ‰å±æ€§ä¸­åŒ…å«ä¸€ä¸ªç‰¹æ®Šå±æ€§__doc__ï¼Œç”¨äºè¡¨ç¤ºç±»å¯¹è±¡çš„æ–‡æ¡£å­—ç¬¦ä¸²ï¼Œä¸å‡½æ•°çš„æ–‡æ¡£å­—ç¬¦ä¸²ç±»ä¼¼ï¼Œä½äºç±»çš„ç¬¬ä¸€è¡Œçš„å­—ç¬¦ä¸²è¢«ç§°ä¸ºç±»çš„æ–‡æ¡£å­—ç¬¦ä¸²ï¼Œé€šå¸¸ç”¨ä¸‰å¯¹å¼•å·è¡¨ç¤º</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">class MyClass:</span><br><span class="line">    &quot;&quot;&quot;è¿™æ˜¯ç±»å¯¹è±¡çš„æ–‡æ¡£å­—ç¬¦ä¸²&quot;&quot;&quot;</span><br><span class="line">    pass</span><br><span class="line"></span><br><span class="line">me = MyClass()</span><br><span class="line">print(list.__doc__)  # Built-in mutable sequence. ......</span><br><span class="line">print(MyClass.__doc__)  # è¿™æ˜¯ç±»å¯¹è±¡çš„æ–‡æ¡£å­—ç¬¦ä¸²</span><br><span class="line">print(me.__doc__)  # è¿™æ˜¯ç±»å¯¹è±¡çš„æ–‡æ¡£å­—ç¬¦ä¸²</span><br><span class="line"></span><br><span class="line"># é€šè¿‡å†…ç½®å‡½æ•°help()å¾—åˆ°çš„å¸®åŠ©ä¿¡æ¯ä¸­ä¹Ÿä¼šåŒ…å«ç±»å¯¹è±¡çš„æ–‡æ¡£å­—ç¬¦ä¸²</span><br><span class="line">print(help(list))</span><br><span class="line">print(help(MyClass))</span><br></pre></td></tr></table></figure>

<ul>
<li><p>**ç‰¹æ®Šå±æ€§__slots__**ï¼š</p>
</li>
<li><p>ç®€ä»‹ï¼šåœ¨ç±»å¯¹è±¡ä¸­å®šä¹‰ç‰¹æ®Šå±æ€§__slots__ç”¨äºé™åˆ¶ç±»çš„å®ä¾‹å¯ä»¥æ‹¥æœ‰çš„å±æ€§ï¼Œç»™__slots__èµ‹å€¼ä¸€ä¸ªæ‰€æœ‰å…ƒç´ éƒ½ä¸ºå­—ç¬¦ä¸²çš„åˆ—è¡¨æˆ–å…ƒç»„ï¼Œè¿™æ ·ï¼Œå¯¹å®ä¾‹å¯¹è±¡åŠ¨æ€ç»‘å®šçš„å±æ€§å’Œæ–¹æ³•çš„åç§°å°±åªèƒ½æ¥è‡ªäº__slots__ä¸­çš„å…ƒç´ </p>
<ul>
<li>ä¼˜ç‚¹ï¼š<strong>åœ¨ç±»å¯¹è±¡ä¸­å®šä¹‰ç‰¹æ®Šå±æ€§__slots__æ—¢å¯ä»¥é˜²æ­¢éšæ„æ·»åŠ æ–°å±æ€§ï¼Œåˆå¯ä»¥æé«˜å±æ€§çš„è®¿é—®é€Ÿåº¦å’Œå‡å°‘å†…å­˜</strong></li>
</ul>
</li>
<li><p><strong>æ³¨æ„ï¼šç‰¹æ®Šå±æ€§__slots__åªå¯¹å…¶æ‰€åœ¨ç±»å¯¹è±¡çš„å®ä¾‹å¯¹è±¡èµ·ä½œç”¨ï¼Œå¯¹å…¶æ‰€åœ¨ç±»å¯¹è±¡çš„å­ç±»çš„å®ä¾‹å¯¹è±¡æ˜¯ä¸èµ·ä½œç”¨çš„ã€‚å¦‚æœå­ç±»ä¹Ÿå®šä¹‰äº†ç‰¹æ®Šå±æ€§__slots__ï¼Œé‚£ä¹ˆå­ç±»çš„å®ä¾‹å¯¹è±¡å¯ä»¥åŠ¨æ€ç»‘å®šçš„å±æ€§å’Œæ–¹æ³•åçš„é™åˆ¶ä¸ºå­ç±»çš„__slots__åŠ ä¸Šçˆ¶ç±»çš„__slots__</strong></p>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">from types import MethodType</span><br><span class="line"></span><br><span class="line">class MyClass:</span><br><span class="line">    __slots__ = (&quot;name&quot;, &quot;do_sth&quot;)</span><br><span class="line"></span><br><span class="line">class MyChildClass(MyClass):</span><br><span class="line">    __slots__ = (&quot;age&quot;,)</span><br><span class="line"></span><br><span class="line">def do_sth(self):</span><br><span class="line">    print(&quot;do_sthè¢«è°ƒç”¨äº†&quot;)</span><br><span class="line"></span><br><span class="line">mc = MyClass()</span><br><span class="line">mcc = MyChildClass()</span><br><span class="line"></span><br><span class="line">mc.name = &#x27;xfblog&#x27;</span><br><span class="line">mc.do_sth = MethodType(do_sth, mc)</span><br><span class="line">mc.do_sth()  # do_sthè¢«è°ƒç”¨äº†</span><br><span class="line"># mc.age = 18  # æŠ›å‡ºå¼‚å¸¸ï¼šAttributeError: &#x27;MyClass&#x27; object has no attribute &#x27;age&#x27;</span><br><span class="line"></span><br><span class="line">mcc.age = 18</span><br><span class="line">mcc.name = &#x27;xf&#x27;  # å­ç±»å¯¹è±¡ç»‘å®šå±æ€§è¢«é™åˆ¶ä¸ºå­ç±»çš„__slots__åŠ ä¸Šçˆ¶ç±»çš„__slots__</span><br><span class="line">mcc.do_sth = MethodType(do_sth, mcc)</span><br><span class="line">mcc.do_sth()  # do_sthè¢«è°ƒç”¨äº†</span><br></pre></td></tr></table></figure>

<h2 id="å››ã€æ¨¡å—"><a href="#å››ã€æ¨¡å—" class="headerlink" title="å››ã€æ¨¡å—"></a>å››ã€æ¨¡å—</h2><blockquote>
<p><strong>ä»€ä¹ˆæ˜¯æ¨¡å—ï¼š</strong>æ¨¡å—å°±æ˜¯Pythonä¸­çš„ä¸€ä¸ª.pyæ–‡ä»¶ï¼Œå®šä¹‰åœ¨æ¨¡å—ä¸­çš„å˜é‡ã€å‡½æ•°å’Œç±»ç»Ÿç§°ä¸ºæ¨¡å—çš„å±æ€§</p>
<p><strong>æ¨¡å—çš„ä½œç”¨</strong>ï¼šè§£å†³ä»£ç é‡ç”¨ã€é¿å…å±æ€§åå†²çª</p>
<p><strong>æ¨¡å—çš„ç»„ç»‡å’Œç®¡ç†</strong>ï¼š</p>
<ol>
<li>ä¸ºäº†æ›´å¥½çš„ç»„ç»‡å’Œç®¡ç†æ¨¡å—ï¼ŒPythonå¼•å…¥äº†åŒ…ï¼Œåœ¨æŸä¸ªç›®å½•ä¸‹æ·»åŠ æ¨¡å—__init__.pyåï¼Œè¯¥ç›®å½•å°±å˜æˆäº†åŒ…</li>
<li>æ¨¡å—__init__.pyçš„ä½œç”¨æ˜¯åˆå§‹åŒ–å…¶æ‰€åœ¨çš„åŒ…ï¼Œå¦‚æœä¸éœ€è¦åˆå§‹åŒ–ï¼Œå…¶å†…å®¹å¯ä»¥ä¸ºç©º</li>
<li>ç”±äºç›®å½•æ”¯æŒåµŒå¥—ï¼Œæ‰€ä»¥åŒ…ä¹Ÿæ”¯æŒåµŒå¥—ï¼Œå³åŒ…ä¸­è¿˜å¯ä»¥æœ‰å­åŒ…</li>
</ol>
</blockquote>
<h4 id="1-ä½¿ç”¨æ ‡å‡†åº“ä¸­çš„æ¨¡å—"><a href="#1-ä½¿ç”¨æ ‡å‡†åº“ä¸­çš„æ¨¡å—" class="headerlink" title="1. ä½¿ç”¨æ ‡å‡†åº“ä¸­çš„æ¨¡å—"></a>1. ä½¿ç”¨æ ‡å‡†åº“ä¸­çš„æ¨¡å—</h4><ul>
<li><p>ç®€ä»‹ï¼šPythonå®˜æ–¹æä¾›äº†ä¸€ä¸ªæ ‡å‡†åº“ï¼Œå…¶ä¸­æœ‰éå¸¸å¤šçš„æ¨¡å—ï¼Œç”¨ä»¥å®Œæˆå„ç§ä¸åŒçš„ä»»åŠ¡</p>
</li>
<li><p>æ ‡å‡†åº“è·¯å¾„ï¼š</p>
<ol>
<li>Mac -&gt; &#x2F;Library&#x2F;Frameworks&#x2F;Python.framework&#x2F;Versions&#x2F;3.x&#x2F;lib&#x2F;python3.x</li>
<li>Win -&gt; &lt;Pythonçš„å®‰è£…è·¯å¾„&gt;\Lib</li>
</ol>
</li>
<li><p>å¯¼å…¥æ¨¡å—çš„è¯­æ³•æ ¼å¼ï¼š</p>
<ol>
<li><p>å¯¼å…¥æ•´ä¸ªæ¨¡å—ï¼š<strong>import [åŒ…å.]æ¨¡å—å [as æ¨¡å—çš„åˆ«å]</strong></p>
</li>
<li><p>å¯¼å…¥æ¨¡å—ä¸­çš„å±æ€§ï¼š<strong>from [åŒ…å.]æ¨¡å—å import å±æ€§å [as å±æ€§çš„åˆ«å]ï¼ˆå¯ä»¥åŒæ—¶å¯¼å…¥å¤šä¸ªå±æ€§ï¼Œç”¨é€—å·éš”å¼€ï¼‰</strong></p>
</li>
<li><p>å°†æ¨¡å—ä¸­çš„å±æ€§ä¸€æ¬¡æ€§å…¨éƒ¨å¯¼å…¥ï¼ˆ<strong>å¼ºçƒˆä¸æ¨è</strong>ï¼‰ï¼šfrom [åŒ…å.]æ¨¡å—å import *</p>
</li>
<li><p>å¯¼å…¥æ•´ä¸ªæ¨¡å—æ—¶ï¼Œå¦‚æœæ¨¡å—åœ¨åŒ…ç»“æ„ä¸­ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ç¬¬äºŒç§è¯­æ³•æ ¼å¼å¯¼å…¥ï¼šfrom åŒ…å import æ¨¡å—å</p>
</li>
</ol>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"># å¸¸ç”¨æ ‡å‡†åº“æ¨¡å—</span><br><span class="line">import sys</span><br><span class="line">import os</span><br><span class="line">import math</span><br><span class="line">import random</span><br><span class="line">from datetime import datetime, timedelta as td</span><br><span class="line">import time</span><br><span class="line"></span><br><span class="line">print(sys.version)  # Pythonç‰ˆæœ¬</span><br><span class="line">print(sys.path)  # æ¨¡å—æœç´¢è·¯å¾„ï¼ŒåŒ…å«äº†Pythonè§£æå™¨æŸ¥æ‰¾æ¨¡å—çš„æœç´¢è·¯å¾„</span><br><span class="line">print(sys.modules)  # æ˜¾ç¤ºå½“å‰ç¨‹åºä¸­å¼•å…¥çš„æ‰€æœ‰æ¨¡å—</span><br><span class="line">print(sys.getdefaultencoding())  # é»˜è®¤å­—ç¬¦é›†</span><br><span class="line"># sys.exit(&#x27;ç¨‹åºé€€å‡º&#x27;) # é€€å‡ºè§£æå™¨</span><br><span class="line"></span><br><span class="line">print(os.name)  # æ“ä½œç³»ç»Ÿçš„ç±»å‹</span><br><span class="line">print(os.environ)  # ç³»ç»Ÿçš„ç¯å¢ƒå˜é‡</span><br><span class="line">print(os.listdir(&#x27;/Users/xfblog/Downloads&#x27;))  # åˆ—å‡ºæŒ‡å®šç›®å½•ä¸­çš„å†…å®¹</span><br><span class="line"># os.system(&#x27;ping www.baidu.com&#x27;)  # æ‰§è¡Œç³»ç»Ÿå‘½ä»¤</span><br><span class="line">print(os.path.exists(&#x27;/Users/xfblog/Downloads&#x27;))  # åˆ¤æ–­è·¯å¾„æ˜¯å¦å­˜åœ¨</span><br><span class="line"></span><br><span class="line">print(math.pi)  # 3.141592653589793</span><br><span class="line">print(math.ceil(3.4))  # å‘ä¸Šå–æ•´</span><br><span class="line">print(math.floor(3.4))  # å‘ä¸‹å–æ•´</span><br><span class="line">print(math.pow(2, 3))  # å¹‚è¿ç®—</span><br><span class="line">print(math.trunc(2.6))  # æˆªå°¾å–æ•´</span><br><span class="line">print(round(2.6))  # å››èˆäº”å…¥</span><br><span class="line">print(round(math.pi, 3))  # å››èˆäº”å…¥ï¼Œä¿ç•™ä¸‰ä½å°æ•°</span><br><span class="line"></span><br><span class="line">print(random.random())  # è¿”å›[0,1)ä¹‹é—´çš„éšæœºæµ®ç‚¹æ•°</span><br><span class="line">print(random.randint(1, 101))  # è¿”å›[1,100]ä¹‹é—´çš„éšæœºæ•´æ•°</span><br><span class="line">print(random.sample([1, 21, 54, 23, 6, 2], 2))  # ä»åˆ—è¡¨ä¸­è¿”å›éšæœºä¸¤ä¸ªå…ƒç´ </span><br><span class="line"></span><br><span class="line">print(datetime.now())  # è¿”å›å½“å‰æ—¶é—´</span><br><span class="line">print(datetime.strftime(datetime.now(), &#x27;%Y&#123;0&#125;%m&#123;1&#125;%d&#123;2&#125; %H:%M:%S&#x27;).format(&#x27;å¹´&#x27;, &#x27;æœˆ&#x27;, &#x27;æ—¥&#x27;))  # # å°†datetimeè½¬æ¢ä¸ºæŒ‡å®šæ ¼å¼çš„str</span><br><span class="line">print(datetime.strptime(&#x27;2016-3-11&#x27;, &#x27;%Y-%m-%d&#x27;))  # å°†strè½¬æ¢ä¸ºdatetime</span><br><span class="line">print(&#x27;æ˜å¤©ï¼š&#x27;, datetime.now() + td(days=1))  # timedeltaè¡¨ç¤ºä¸¤ä¸ªæ—¶é—´ä¹‹é—´çš„æ—¶é—´å·®ï¼Œå¯ä»¥ç”¨æ¥è¿›è¡Œæ—¥é—´çš„åŠ å‡æ“ä½œ</span><br><span class="line">print(&#x27;å‰ä¸€ç§’ï¼š&#x27;, datetime.now() - td(seconds=1))</span><br><span class="line"></span><br><span class="line">print(time.time())  # è¿”å›å½“å‰æ—¶é—´çš„æ—¶é—´æˆ³</span><br><span class="line">print(int(time.time()))  # ç§’çº§æ—¶é—´æˆ³</span><br><span class="line">print(int(time.time() * 1000))  # æ¯«ç§’æ—¶é—´æˆ³</span><br><span class="line">time.sleep(2)  # ä¼‘çœ 2ç§’</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"># é‡è¦çš„æ–‡ä»¶æ“ä½œæ¨¡å—</span><br><span class="line">import os</span><br><span class="line">import shutil</span><br><span class="line"></span><br><span class="line"># æ“ä½œæ–‡ä»¶å’Œç›®å½•</span><br><span class="line">print(os.path.exists(&#x27;itany.txt&#x27;))  # åˆ¤æ–­æ–‡ä»¶æ˜¯å¦å­˜åœ¨</span><br><span class="line">print(os.path.abspath(&#x27;itany.txt&#x27;))  # è¾“å‡ºæ–‡ä»¶çš„ç»å¯¹è·¯å¾„</span><br><span class="line">print(os.path.isfile(&#x27;itany.txt&#x27;))  # åˆ¤æ–­æ˜¯å¦ä¸ºæ–‡ä»¶</span><br><span class="line">print(os.path.isdir(&#x27;itany.txt&#x27;))  # åˆ¤æ–­æ˜¯å¦ä¸ºç›®å½•</span><br><span class="line">print(os.listdir(&#x27;.&#x27;))  # åˆ—å‡ºæŒ‡å®šç›®å½•ä¸‹æ‰€æœ‰å†…å®¹</span><br><span class="line">print([f for f in os.listdir(&#x27;.&#x27;) if os.path.isdir(f)])  # æ‰¾å‡ºå½“å‰ç›®å½•ä¸‹æ‰€æœ‰çš„æ–‡ä»¶å¤¹</span><br><span class="line"></span><br><span class="line">os.mkdir(&#x27;world&#x27;)  # åˆ›å»ºç›®å½•</span><br><span class="line">if os.path.exists(&#x27;world&#x27;):</span><br><span class="line">    os.rmdir(&#x27;world&#x27;)  # åˆ é™¤ç›®å½•</span><br><span class="line"></span><br><span class="line">os.rename(&#x27;itany.txt&#x27;, &#x27;aaa.txt&#x27;)  # é‡å‘½åæ–‡ä»¶æˆ–ç›®å½•</span><br><span class="line">os.remove(&#x27;aaa.txt&#x27;)  # åˆ é™¤æ–‡ä»¶</span><br><span class="line">shutil.copy(&#x27;baidu.png&#x27;, &#x27;bbb.png&#x27;)  # æ‹·è´æ–‡ä»¶</span><br></pre></td></tr></table></figure>

<h4 id="2-ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“ä¸­çš„æ¨¡å—"><a href="#2-ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“ä¸­çš„æ¨¡å—" class="headerlink" title="2. ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“ä¸­çš„æ¨¡å—"></a>2. ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“ä¸­çš„æ¨¡å—</h4><ul>
<li><p>PyPIç®€ä»‹ï¼š<a class="link"   target="_blank" rel="noopener" href="https://pypi.org/" >PyPI<i class="fas fa-external-link-alt"></i></a>å…¨ç§°Python Package Indexï¼Œæ˜¯Pythonå®˜æ–¹åŸºäºwebçš„ã€é›†ä¸­ç®¡ç†çš„ç¬¬ä¸‰æ–¹è½¯ä»¶ä»“åº“ï¼Œæ‰€æœ‰äººéƒ½å¯ä»¥ä»PyPIä¸Šä¸‹è½½å®‰è£…ç¬¬ä¸‰æ–¹åº“ï¼Œæˆ–å°†è‡ªå·±å¼€å‘çš„åº“ä¸Šä¼ å‘å¸ƒåˆ°PyPI</p>
</li>
<li><p>pip3ç®€ä»‹ï¼špip3å…¨ç§°Package Installer for Pythonï¼Œé€šå¸¸ä½¿ç”¨å·¥å…·pip3ä»PyPIä¸‹è½½å®‰è£…ç¬¬ä¸‰æ–¹åº“</p>
<ul>
<li>éªŒè¯æ˜¯å¦å®‰è£…ï¼špip3 æˆ– python3 -m pip</li>
<li>æŸ¥çœ‹å®‰è£…ç›®å½•ï¼šmac -&gt; which pip3ï¼Œwin -&gt; where pip3</li>
</ul>
</li>
<li><p>ä½¿ç”¨pip3ä¸‹è½½å®‰è£…ç¬¬ä¸‰æ–¹åº“ï¼špip3 install xxx æˆ– python3 -m pip install xxx</p>
<ul>
<li>å®‰è£…è·¯å¾„ï¼šMac -&gt; &#x2F;Library&#x2F;Frameworks&#x2F;Python.framework&#x2F;Versions&#x2F;3.6&#x2F;lib&#x2F;python3.6&#x2F;site-packages</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&quot;&quot;&quot;</span><br><span class="line">a. æŸ¥çœ‹pip3çš„å¸®åŠ©ä¿¡æ¯ï¼špip3</span><br><span class="line">b. åˆ—å‡ºå·²å®‰è£…çš„æ‰€æœ‰ç¬¬ä¸‰æ–¹åº“ï¼špip3 list</span><br><span class="line">c. æ¨¡ç³Šæœç´¢æŸä¸ªç¬¬ä¸‰æ–¹åº“ï¼ˆåŠå…¶ç‰ˆæœ¬å·ï¼‰ï¼špip3 install xxx[==y.y]</span><br><span class="line">d. å‡çº§æŒ‡å®šçš„ç¬¬ä¸‰æ–¹åº“ï¼špip3 install --upgrade xxx</span><br><span class="line">e. å¸è½½æŒ‡å®šçš„ç¬¬ä¸‰æ–¹åº“ï¼ˆåŠå…¶ç‰ˆæœ¬å·ï¼‰ï¼špip3 uninstall xxx[==y.y]</span><br><span class="line">f. æŸ¥çœ‹pip3ä¹‹åæŸä¸ªå‘½ä»¤çš„å¸®åŠ©ä¿¡æ¯ï¼špip3 &lt;å‘½ä»¤&gt; --help</span><br><span class="line">&quot;&quot;&quot;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å°†è‡ªå·±å¼€å‘çš„åº“å‘å¸ƒåˆ°PyPIæˆ–å…±äº«ç»™åˆ«äºº</p>
<ol>
<li><p><strong>åˆ›å»ºé…ç½®æ–‡ä»¶setup.py</strong>ï¼šåœ¨é…ç½®æ–‡ä»¶setup.pyä¸­è°ƒç”¨setuptoolsä¸­çš„å‡½æ•°setupï¼Œé€šè¿‡é…ç½®å„ç§å…³é”®å­—å‚æ•°ï¼Œè¯¥ä½ç½®æ–‡ä»¶ä¼šå‘Šè¯‰ç³»ç»Ÿå¦‚ä½•æ‰“åŒ…è‡ªå·±å¼€å‘çš„åº“</p>
</li>
<li><p><strong>åˆ›å»ºå…¶ä»–æ–‡ä»¶</strong>ï¼šå‚è€ƒæ–‡æ¡£<a class="link"   target="_blank" rel="noopener" href="https://setuptools.readthedocs.io/en/latest/index.html" >setuptoolsçš„å®˜æ–¹æ–‡æ¡£<i class="fas fa-external-link-alt"></i></a>ã€<a class="link"   target="_blank" rel="noopener" href="https://packaging.python.org/tutorials/packaging-projects/" >Pythonçš„å®˜æ–¹æ–‡æ¡£<i class="fas fa-external-link-alt"></i></a>ã€<a class="link"   target="_blank" rel="noopener" href="https://github.com/pypa/sampleproject" >Githubä¸Šçš„sample-project<i class="fas fa-external-link-alt"></i></a></p>
</li>
<li><p><strong>æ‰“åŒ…è‡ªå·±å¼€å‘çš„åº“</strong>ï¼šå°†setup.pyã€å…¶ä»–æ–‡ä»¶å’Œè‡ªå·±å¼€å‘çš„åº“æ”¾åˆ°åŒä¸€ä¸ªç›®å½•ä¸­ï¼Œåœ¨å‘½ä»¤è¡Œä¸­åˆ‡æ¢åˆ°è¯¥ç›®å½•ï¼Œæ‰§è¡Œå‘½ä»¤python3 setup.py sdistã€‚æ­¤æ—¶ï¼Œåœ¨distç›®å½•ä¸­ä¼šç”Ÿæˆä¸€ä¸ªsource distributionï¼ˆsdistï¼‰å‹ç¼©æ–‡ä»¶ï¼Œè¯¥å‹ç¼©æ–‡ä»¶åŒ…å«äº†æ¨¡å—çš„æºä»£ç ï¼›è¿˜ä¼šç”Ÿæˆä¸€ä¸ªåä¸º<package name>.egg-infoçš„æ–‡ä»¶å¤¹</p>
</li>
<li><p><strong>å°†æ‰“åŒ…çš„åº“å‘å¸ƒåˆ°PyPIæˆ–å…±äº«ç»™åˆ«äºº</strong>ï¼šå‚è€ƒæ–‡æ¡£<a class="link"   target="_blank" rel="noopener" href="https://packaging.python.org/tutorials/packaging-projects/" >Pythonçš„å®˜æ–¹æ–‡æ¡£<i class="fas fa-external-link-alt"></i></a></p>
</li>
<li><p><strong>å®‰è£…åˆ«äººå…±äº«çš„åº“</strong>ï¼šåˆ‡æ¢åˆ°distç›®å½•ï¼Œæ‰§è¡Œå‘½ä»¤pip3 install &lt;distç›®å½•ä¸­ç”Ÿæˆçš„å‹ç¼©æ–‡ä»¶&gt;</p>
</li>
</ol>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">from setuptools import setup, find_packages</span><br><span class="line"></span><br><span class="line">setup(</span><br><span class="line">    # å‘å¸ƒåˆ°PyPIåçš„package name</span><br><span class="line">    name=&#x27;my_python_lib&#x27;,</span><br><span class="line">    # ç‰ˆæœ¬å·</span><br><span class="line">    version=&#x27;0.1&#x27;,</span><br><span class="line">    # æè¿°</span><br><span class="line">    description=&#x27;My Python Lib&#x27;,</span><br><span class="line">    # å¦‚æœè¦å‘å¸ƒçš„é¡¹ç›®åŒ…å«åŒ…ï¼Œæ—¢å¯ä»¥æ‰‹åŠ¨æŒ‡å®šè¦åŒ…å«çš„åŒ…ï¼Œä¹Ÿå¯ä»¥è°ƒç”¨å‡½æ•°find_packagesï¼Œä¾‹å¦‚ï¼š</span><br><span class="line">    # packages=find_packages()</span><br><span class="line">    # å¦‚æœè¦å‘å¸ƒçš„é¡¹ç›®åªåŒ…å«æ¨¡å—ï¼Œé‚£å°±æŒ‡å®špy_modulesè¿™ä¸ªå…³é”®å­—å‚æ•°</span><br><span class="line">    py_modules=[&#x27;my_module&#x27;]</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<ul>
<li>pyechartsæ˜¯ä¸€ä¸ªç”¨äºEchartså›¾è¡¨çš„ç±»åº“ï¼Œä¾¿äºåœ¨Pythonä¸­æ ¹æ®æ•°æ®ç”Ÿæˆå¯è§†åŒ–çš„å›¾è¡¨ï¼›Echartsæ˜¯ç™¾åº¦å¼€æºçš„ä¸€ä¸ªæ•°æ®å¯è§†åŒ–JSåº“ï¼Œä¸»è¦ç”¨æ¥è¿›è¡Œæ•°æ®å¯è§†åŒ–ï¼›å‚è€ƒ: <a class="link"   target="_blank" rel="noopener" href="http://pyecharts.org/" >pyechartså®˜ç½‘<i class="fas fa-external-link-alt"></i></a></li>
</ul>
<h4 id="3-å®‰è£…å’Œé…ç½®Anaconda"><a href="#3-å®‰è£…å’Œé…ç½®Anaconda" class="headerlink" title="3. å®‰è£…å’Œé…ç½®Anaconda"></a>3. å®‰è£…å’Œé…ç½®Anaconda</h4><ul>
<li><p>ç®€ä»‹ï¼š<a class="link"   target="_blank" rel="noopener" href="https://www.anaconda.com/download" >Anaconda<i class="fas fa-external-link-alt"></i></a>æ˜¯ä¸€ä¸ªåŸºäºPythonçš„æ•°æ®å¤„ç†å’Œç§‘å­¦è®¡ç®—çš„å¹³å°ï¼Œ<strong>Anacondaæ˜¯è·¨å¹³å°çš„</strong>ï¼Œå…¶å†…ç½®äº†å¤§é‡çš„å¸¸ç”¨ç¬¬ä¸‰æ–¹åº“ï¼Œå®‰è£…åå³å¯ç›´æ¥å¯¼å…¥éœ€è¦ä½¿ç”¨çš„ç¬¬ä¸‰æ–¹åº“çš„æ¨¡å—</p>
</li>
<li><p>æ³¨æ„ï¼šå®‰è£…ç¨‹åºä¼šæŠŠAnacondaå®‰è£…ç›®å½•ä¸‹çš„binç›®å½•æ·»åŠ åˆ°ç³»ç»Ÿç¯å¢ƒå˜é‡PATHä¸­ï¼Œå› æ­¤ï¼Œå®‰è£…åä¼šä½¿ç”¨å…¶è‡ªå¸¦çš„Pythonã€‚ä»è€Œï¼š</p>
<ol>
<li>åœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥çš„python3æ¥è‡ªäºï¼š&lt;Anacondaçš„å®‰è£…ç›®å½•&gt;&#x2F;bin</li>
<li>ä½¿ç”¨å·¥å…·pip3å®‰è£…çš„ç¬¬ä¸‰æ–¹åº“ä¼šè¢«å®‰è£…åˆ°ï¼š&lt;Anacondaçš„å®‰è£…ç›®å½•&gt;&#x2F;lib&#x2F;python3.x&#x2F;site-packages</li>
</ol>
</li>
<li><p>Anacondaçš„ç¬¬ä¸‰æ–¹ç®¡ç†å·¥å…·ä¸ºcondaï¼Œç±»ä¼¼äºå·¥å…·pip3</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&quot;&quot;&quot;</span><br><span class="line">a. æŸ¥çœ‹condaçš„å¸®åŠ©ä¿¡æ¯ï¼šconda</span><br><span class="line">b. åˆ—å‡ºå·²å®‰è£…çš„æ‰€æœ‰ç¬¬ä¸‰æ–¹åº“ï¼šconda list</span><br><span class="line">c. æ¨¡ç³Šæœç´¢æŸä¸ªç¬¬ä¸‰æ–¹åº“ï¼šconda search xxx</span><br><span class="line">d. å®‰è£…æŒ‡å®šçš„ç¬¬ä¸‰æ–¹åº“ï¼ˆåŠå…¶ç‰ˆæœ¬å·ï¼‰ï¼šconda install xxx[=y.y]</span><br><span class="line">e. å‡çº§æŒ‡å®šçš„ç¬¬ä¸‰æ–¹åº“ï¼šconda update xxx</span><br><span class="line">f. å¸è½½æŒ‡å®šçš„ç¬¬ä¸‰æ–¹åº“ï¼ˆåŠå…¶ç‰ˆæœ¬å·ï¼‰ï¼šconda remove xxx[=y.y]</span><br><span class="line">g. æŸ¥çœ‹condaä¹‹åæŸä¸ªå‘½ä»¤çš„å¸®åŠ©ä¿¡æ¯ï¼šconda &lt;å‘½ä»¤&gt; --help</span><br><span class="line">&quot;&quot;&quot;</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="4-æ¨¡å—çš„ä½¿ç”¨è§„èŒƒ"><a href="#4-æ¨¡å—çš„ä½¿ç”¨è§„èŒƒ" class="headerlink" title="4. æ¨¡å—çš„ä½¿ç”¨è§„èŒƒ"></a>4. æ¨¡å—çš„ä½¿ç”¨è§„èŒƒ</h4><ul>
<li>ä½¿ç”¨å½“å‰é¡¹ç›®ä¸­çš„æ¨¡å—<ol>
<li>ç›´æ¥å¯¼å…¥ï¼šç›´æ¥å¯¼å…¥å½“å‰ç›®å½•çš„æ¨¡å—å</li>
<li>ç»å¯¹å¯¼å…¥ï¼šå¯¼å…¥æ¨¡å—åçš„ç»å¯¹è·¯å¾„</li>
<li>ç›¸å¯¹å¯¼å…¥ï¼šå¯¼å…¥æ¨¡å—åçš„ç›¸å¯¹è·¯å¾„ã€‚å…¶ä¸­ä¸€ä¸ª.è¡¨ç¤ºå½“å‰ç›®å½•ï¼Œä¸¤ä¸ª.è¡¨ç¤ºå½“å‰ç›®å½•çš„çˆ¶ç›®å½•</li>
<li><strong>é‡ç‚¹ï¼šå½“ç›´æ¥è¿è¡ŒæŸä¸ªæ¨¡å—æ—¶ï¼Œè¯¥æ¨¡å—å°±å˜æˆäº†ä¸»æ¨¡å—ï¼Œä¸»æ¨¡å—ä½äºæœ€é¡¶å±‚ï¼Œä¸åŒç›®å½•ä¸‹çš„å…¶ä»–æ¨¡å—æ— æ³•æ„æˆç›¸å¯¹å…³ç³»ã€‚å› æ­¤ï¼Œå½“ç›´æ¥è¿è¡ŒæŸä¸ªæ¨¡å—æ—¶ï¼Œè¯¥æ¨¡å—ä¸èƒ½ä½¿ç”¨ç›¸å¯¹å¯¼å…¥</strong></li>
</ol>
</li>
<li>å¯¼å…¥çš„ä¸åŒæ¨¡å—ä¸­å­˜åœ¨ç›¸åŒçš„å±æ€§<ul>
<li>å½“å¯¼å…¥çš„æ¨¡å—ä¸­å­˜åœ¨ç›¸åŒçš„å±æ€§æ—¶ï¼Œå¦‚æœç›´æ¥å¯¼å…¥å±æ€§ï¼Œåˆ™åé¢çš„å±æ€§ä¼šæŠŠå‰é¢å¯¼å…¥çš„å±æ€§è¦†ç›–æ‰</li>
<li>æ­£ç¡®çš„å¯¼å…¥æ–¹å¼ï¼š1. ç»™å¯¼å…¥çš„å±æ€§èµ·ä¸€ä¸ªåˆ«åã€‚2. å¯¼å…¥æ•´ä¸ªæ¨¡å—ï¼Œä½¿ç”¨æ—¶å¸¦å‰ç¼€å¯ä»¥åŒºåˆ†</li>
</ul>
</li>
</ul>
<h4 id="5-importè¯­å¥çš„æ‰§è¡Œæµç¨‹"><a href="#5-importè¯­å¥çš„æ‰§è¡Œæµç¨‹" class="headerlink" title="5. importè¯­å¥çš„æ‰§è¡Œæµç¨‹"></a>5. importè¯­å¥çš„æ‰§è¡Œæµç¨‹</h4><blockquote>
<p>å½“ä½¿ç”¨importè¯­å¥å¯¼å…¥æ¨¡å—æ—¶ï¼Œè§£é‡Šå™¨ä¼šæ ¹æ®sysæ¨¡å—çš„moduleså±æ€§å€¼æ¥æŸ¥æ‰¾æ¨¡å—æ˜¯å¦å·²ç»è¢«å¯¼å…¥äº†</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">import pprint, sys</span><br><span class="line">pprint.pprint(sys.modules)</span><br></pre></td></tr></table></figure>

<p>å¦‚æœæ¨¡å—æ²¡æœ‰è¢«å¯¼å…¥ï¼Œåˆ™æ‰§è¡Œæµç¨‹ï¼š</p>
<ol>
<li>è§£é‡Šå™¨æŒ‰ç…§æ¨¡å—sysçš„å˜é‡pathä¸­çš„è·¯å¾„æœç´¢æ¨¡å—</li>
<li>å°†æœç´¢åˆ°çš„æ¨¡å—ç¼–è¯‘ä¸ºpycå­—èŠ‚ç æ–‡ä»¶ï¼ˆå¯é€‰ï¼‰</li>
<li>æ‰§è¡Œç¼–è¯‘ç”Ÿæˆçš„å­—èŠ‚ç æ–‡ä»¶ä»è€Œè¿è¡Œæ¨¡å—</li>
</ol>
</blockquote>
<ol>
<li><strong>è§£é‡Šå™¨æœç´¢æ¨¡å—çš„è·¯å¾„å­˜æ”¾åœ¨æ¨¡å—sysçš„å˜é‡pathä¸­</strong></li>
</ol>
<ul>
<li><p>æœç´¢è·¯å¾„ä¸»è¦ç”±<strong>å½“å‰ç›®å½•</strong>ã€<strong>æ ‡å‡†åº“çš„ç›®å½•</strong>ã€<strong>ç¬¬ä¸‰æ–¹åº“çš„å®‰è£…ç›®å½•</strong>ä¸‰éƒ¨åˆ†ç»„æˆ</p>
</li>
<li><p>ä¿®æ”¹è§£é‡Šå™¨æœç´¢æ¨¡å—è·¯å¾„çš„æ–¹å¼ï¼š1. ç›´æ¥ä¿®æ”¹sys.pathåˆ—è¡¨ï¼ˆ<strong>ä»£ç è¿è¡Œåå¤±æ•ˆ</strong>ï¼‰2. è®¾ç½®ç¯å¢ƒå˜é‡PYTHONPATHï¼Œç¯å¢ƒå˜é‡å¯¹åº”çš„è·¯å¾„ä¼šè¢«è‡ªåŠ¨æ·»åŠ åˆ°sys.pathä¸­ï¼ˆ<strong>ä»£ç è¿è¡Œåä»ç„¶æœ‰æ•ˆ</strong>ï¼‰</p>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">import sys, pprint</span><br><span class="line"></span><br><span class="line">pprint.pprint(sys.path)</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">[&#x27;/Users/xfblog/Documents/pythonProjectï¼ˆå½“å‰ç›®å½•ï¼‰&#x27;,</span><br><span class="line"> &#x27;/Library/Frameworks/Python.framework/Versions/3.10/lib/python310.zip&#x27;,</span><br><span class="line"> &#x27;/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10&#x27;,</span><br><span class="line"> &#x27;/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/lib-dynload&#x27;,</span><br><span class="line"> &#x27;/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/site-packages&#x27;]</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line"># ç›´æ¥ä¿®æ”¹sys.pathåˆ—è¡¨</span><br><span class="line">sys.path.insert(0, &#x27;/Users/xfblog/Downloads&#x27;)</span><br><span class="line"># mymodule.pyæ–‡ä»¶å­˜åœ¨äº&#x27;/Users/xfblog/Downloads&#x27;ä¸‹ï¼Œ</span><br><span class="line"># å¦‚æœä¸ä¿®æ”¹sys.pathæœç´¢è·¯å¾„ï¼Œé‚£ä¹ˆè¿è¡Œæ—¶å°±ä¼šå› ä¸ºæœç´¢ä¸åˆ°æ­¤æ¨¡å—è€ŒæŠ›å‡ºå¼‚å¸¸ï¼Œ</span><br><span class="line"># åŠ ä¸Šå…¶æœç´¢è·¯å¾„åï¼Œpycharmæ£€æŸ¥ä»£ç ä¹Ÿä¼šæœ‰çº¢çº¿ï¼Œä½†èƒ½æœç´¢åˆ°æ¨¡å—å¹¶æ­£å¸¸è¿è¡Œ</span><br><span class="line">import mymodule</span><br><span class="line"></span><br><span class="line">mymodule.do_sth()  # do_sthè¢«è°ƒç”¨äº†</span><br></pre></td></tr></table></figure>

<ol start="2">
<li><p><strong>æœç´¢åˆ°çš„æ¨¡å—è¢«ç¼–è¯‘ä¸ºpycå­—èŠ‚ç æ–‡ä»¶</strong></p>
<ul>
<li>è§£é‡Šï¼šå½“æœç´¢åˆ°çš„æ¨¡å—è¢«ç¬¬ä¸€æ¬¡å¯¼å…¥æ—¶ï¼Œä¼šè¢«ç¼–è¯‘ä¸ºpycå­—èŠ‚ç æ–‡ä»¶ï¼Œå³è¡¨ç¤ºè¢«ç¼“å­˜èµ·æ¥äº†ï¼›å½“å†æ¬¡åŠ è½½è¯¥æ¨¡å—æ—¶ï¼Œå¦‚æœè¯¥æ¨¡å—æ²¡æœ‰å‘ç”Ÿå˜åŒ–ï¼Œå°±ä¸ä¼šå†æ¬¡ç¼–è¯‘ï¼Œè€Œæ˜¯ç›´æ¥è¯»å–ç¼“å­˜ä¸­çš„pycå­—èŠ‚ç æ–‡ä»¶ï¼Œä»è€Œæé«˜åŠ è½½é€Ÿåº¦</li>
</ul>
</li>
<li><p><strong>æ‰§è¡Œç¼–è¯‘ç”Ÿæˆçš„å­—èŠ‚ç æ–‡ä»¶ä»è€Œè¿è¡Œæ¨¡å—</strong></p>
<ul>
<li><strong>å¯¼å…¥åŒ…ä¸­çš„æ¨¡å—æ—¶ï¼Œä¼šå…ˆå¯¼å…¥åŒ…ä¸­çš„__init__.py</strong>ã€‚å› æ­¤ï¼Œåœ¨è¿è¡Œè¢«å¯¼å…¥çš„æ¨¡å—ä¹‹å‰ï¼Œä¼šä»æœ€é¡¶å±‚çš„çˆ¶åŒ…å¼€å§‹ï¼Œä¾æ¬¡è¿è¡Œæ‰€æœ‰çˆ¶åŒ…ä¸­çš„__init__.py</li>
<li>ä½¿ç”¨importè¯­å¥å¯¼å…¥æŸä¸ªæ¨¡å—åï¼Œå¦‚æœå¯¹æ¨¡å—åšäº†ä¿®æ”¹ï¼Œç„¶åå†æ¬¡ä½¿ç”¨importè¯­å¥å¯¼å…¥è¯¥æ¨¡å—ï¼Œé‚£ä¹ˆå¯¹æ¨¡å—çš„ä¿®æ”¹å°†ä¸ä¼šèµ·ä»»ä½•ä½œç”¨ã€‚<strong>å¯ä»¥è°ƒç”¨æ ‡å‡†åº“importlibä¸­æ ‡å‡†å‡½æ•°reloadé‡æ–°åŠ è½½å·²ç»è¢«å¯¼å…¥çš„æ¨¡å—</strong></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">import importlib</span><br><span class="line">importlib.reload(mod)</span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="6-diræŸ¥çœ‹æ¨¡å—çš„æ‰€æœ‰å±æ€§"><a href="#6-diræŸ¥çœ‹æ¨¡å—çš„æ‰€æœ‰å±æ€§" class="headerlink" title="6. diræŸ¥çœ‹æ¨¡å—çš„æ‰€æœ‰å±æ€§"></a>6. diræŸ¥çœ‹æ¨¡å—çš„æ‰€æœ‰å±æ€§</h4><ol>
<li><p><strong>è°ƒç”¨å†…ç½®å‡½æ•°dirå°†æ¨¡å—ä½œä¸ºå®å‚</strong>ï¼šæ¨¡å—ä½œä¸ºå‚æ•°ä¼šè¿”å›æŒ‡å®šæ¨¡å—çš„æ‰€æœ‰å±æ€§ï¼Œå…¶ä¸­å¸¦åŒä¸‹åˆ’çº¿__çš„ä¸ºæ¨¡å—çš„ç‰¹æ®Šå±æ€§</p>
</li>
<li><p><strong>è°ƒç”¨å†…ç½®å‡½æ•°diræ—¶ä¸å¸¦ä»»ä½•å‚æ•°</strong>ï¼šä¸å¸¦ä»»ä½•å‚æ•°æ—¶ï¼Œä¼šè¿”å›å½“å‰æ¨¡å—çš„<strong>å±€éƒ¨ä½œç”¨åŸŸ</strong>ä¸­çš„æ‰€æœ‰å±æ€§</p>
</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">import requests</span><br><span class="line"></span><br><span class="line">print(dir(requests))</span><br><span class="line"># [&#x27;ConnectTimeout&#x27;, &#x27;ConnectionError&#x27;, ......, &#x27;warnings&#x27;]</span><br><span class="line"></span><br><span class="line">print(dir())</span><br><span class="line"># [&#x27;__annotations__&#x27;, ......, &#x27;__spec__&#x27;]</span><br><span class="line">age = 18</span><br><span class="line"></span><br><span class="line">def fun():</span><br><span class="line">    print(&#x27;funè¢«è°ƒç”¨&#x27;)</span><br><span class="line"></span><br><span class="line">class SomeClass(object):</span><br><span class="line">    pass</span><br><span class="line"></span><br><span class="line">print(dir())</span><br><span class="line"># [&#x27;SomeClass&#x27;, &#x27;__annotations__&#x27;, ......, &#x27;__spec__&#x27;, &#x27;fun&#x27;, &#x27;age&#x27;]</span><br><span class="line">del age</span><br><span class="line">print(dir())</span><br><span class="line"># [&#x27;SomeClass&#x27;, &#x27;__annotations__&#x27;, ....., &#x27;__spec__&#x27;, &#x27;fun&#x27;]</span><br></pre></td></tr></table></figure>

<h4 id="7-æ¨¡å—çš„ç‰¹æ®Šå±æ€§"><a href="#7-æ¨¡å—çš„ç‰¹æ®Šå±æ€§" class="headerlink" title="7. æ¨¡å—çš„ç‰¹æ®Šå±æ€§"></a>7. æ¨¡å—çš„ç‰¹æ®Šå±æ€§</h4><ul>
<li><strong>ç‰¹æ®Šå±æ€§__doc__<strong>ï¼šæ¨¡å—çš„ç‰¹æ®Šå±æ€§__doc__ï¼Œç”¨äºè¡¨ç¤ºæ¨¡å—çš„æ–‡æ¡£å­—ç¬¦ä¸²ï¼Œä¸å‡½æ•°çš„æ–‡æ¡£å­—ç¬¦ä¸²ç±»ä¼¼ï¼Œä½äºæ¨¡å—çš„ç¬¬ä¸€è¡Œçš„å­—ç¬¦ä¸²è¢«ç§°ä¸º</strong>æ¨¡å—çš„æ–‡æ¡£å­—ç¬¦ä¸²</strong>ï¼Œé€šå¸¸ç”¨ä¸‰å¯¹å¼•å·è¡¨ç¤º</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&quot;&quot;&quot;æœ¬æ¨¡å—çš„æ–‡æ¡£å­—ç¬¦ä¸²ï¼ŒåŠŸèƒ½å¯¹æ¨¡å—åŠŸèƒ½çš„ç®€è¦æè¿°&quot;&quot;&quot;</span><br><span class="line">import base64</span><br><span class="line"></span><br><span class="line">print(__doc__)  # æœ¬æ¨¡å—çš„æ–‡æ¡£å­—ç¬¦ä¸²ï¼ŒåŠŸèƒ½å¯¹æ¨¡å—åŠŸèƒ½çš„ç®€è¦æè¿°</span><br><span class="line">print(base64.__doc__)  # Base16, Base32, Base64 (RFC 3548), Base85 and Ascii85 data encodings</span><br><span class="line"># é€šè¿‡å†…ç½®å‡½æ•°help()å¾—åˆ°çš„å¸®åŠ©ä¿¡æ¯ä¸­ä¹ŸåŒ…å«æ¨¡å—çš„æ–‡æ¡£å­—ç¬¦ä¸²</span><br><span class="line">print(help(base64))</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>ç‰¹æ®Šå±æ€§__name__<strong>ï¼šæ¨¡å—çš„ç‰¹æ®Šå±æ€§__name__ï¼Œ</strong>å¸¸ç”¨å…¶å€¼åˆ¤æ–­æ˜¯å¦æ‰§è¡Œæ¨¡å—ä¸­çš„æµ‹è¯•ä»£ç </strong></li>
</ul>
<ol>
<li><p><strong>å¯¹äºè¢«å¯¼å…¥çš„æ¨¡å—ï¼Œå…¶ç‰¹æ®Šå±æ€§__name__çš„å€¼ä¸ºæ¨¡å—å</strong></p>
</li>
<li><p><strong>å¯¹äºç›´æ¥è¿è¡Œçš„æ¨¡å—ï¼Œå…¶ç‰¹æ®Šå±æ€§__name__çš„å€¼ä¸º__main__</strong></p>
</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">print(&#x27;æœ¬æ¨¡å—çš„ç‰¹æ®Šå±æ€§__name__çš„å€¼ä¸ºï¼š&#x27;, __name__)  # æœ¬æ¨¡å—çš„ç‰¹æ®Šå±æ€§__name__çš„å€¼ä¸ºï¼š__main__</span><br><span class="line"></span><br><span class="line">def add_num(num1, num2):</span><br><span class="line">    return num1 + num2</span><br><span class="line"></span><br><span class="line"># æ ¹æ®__name__çš„å€¼åˆ¤æ–­æ˜¯å¦æ‰§è¡Œæ¨¡å—ä¸­çš„æµ‹è¯•ä»£ç </span><br><span class="line">if __name__ == &#x27;__main__&#x27;:</span><br><span class="line">    print(&#x27;1 + 2 =&#x27;, add_num(1, 2))  # 1 + 2 = 3</span><br><span class="line">    print(&#x27;3 + 5 =&#x27;, add_num(3, 5))  # 3 + 5 = 8</span><br></pre></td></tr></table></figure>

<h4 id="8-æ¨¡å—çš„æ•°æ®è®¿é—®æ§åˆ¶"><a href="#8-æ¨¡å—çš„æ•°æ®è®¿é—®æ§åˆ¶" class="headerlink" title="8. æ¨¡å—çš„æ•°æ®è®¿é—®æ§åˆ¶"></a>8. æ¨¡å—çš„æ•°æ®è®¿é—®æ§åˆ¶</h4><ul>
<li><strong>åœ¨æ¨¡å—å†…çš„æŸäº›å±æ€§å‰æ·»åŠ å•ä¸‹åˆ’çº¿_</strong><ul>
<li>ç®€ä»‹ï¼šå±æ€§å‰æ·»åŠ å•ä¸‹åˆ’çº¿åï¼Œå°±æ— æ³•ä½¿ç”¨è¯­å¥**â€from æ¨¡å—å import *â€œ<strong>å¯¼å…¥ç›¸åº”çš„å±æ€§äº†ï¼Œä½†æ˜¯ä½¿ç”¨</strong>â€œimport æ¨¡å—åâ€æˆ–â€form æ¨¡å—å import xxxâ€**ä»ç„¶å¯ä»¥</li>
</ul>
</li>
<li><strong>æ¨¡å—å†…çš„æ•°æ®è®¿é—®æ§åˆ¶ä¹‹ç‰¹æ®Šå±æ€§__all__</strong><ul>
<li>ç®€ä»‹ï¼šä½¿ç”¨å±æ€§__all__é™åˆ¶è®¿é—®ï¼Œä½¿ç”¨è¯­å¥**â€from æ¨¡å—å import *â€œ<strong>å°±åªèƒ½å¯¼å…¥ç‰¹æ®Šå±æ€§__all__ä¸­å®šä¹‰çš„å±æ€§ï¼Œä½†æ˜¯ä½¿ç”¨</strong>â€œimport æ¨¡å—åâ€æˆ–â€form æ¨¡å—å import xxxâ€**ä»ç„¶å¯ä»¥</li>
<li>æ³¨æ„ï¼š<strong>è‹¥å¯¹æŸä¸ªå±æ€§æ—¢ä½¿ç”¨äº†å•ä¸‹åˆ’çº¿_ï¼Œåˆå®šä¹‰åœ¨äº†ç‰¹æ®Šå±æ€§__all__ä¸­ï¼Œé‚£ä¹ˆ__all__æ¯”å•ä¸‹åˆ’çº¿_ä¼˜å…ˆçº§æ›´é«˜</strong></li>
</ul>
</li>
</ul>
<h4 id="9-åŠ¨æ€åŠ è½½æ¨¡å—"><a href="#9-åŠ¨æ€åŠ è½½æ¨¡å—" class="headerlink" title="9. åŠ¨æ€åŠ è½½æ¨¡å—"></a>9. åŠ¨æ€åŠ è½½æ¨¡å—</h4><ul>
<li>ç®€ä»‹ï¼šé€šè¿‡å­—ç¬¦ä¸²å½¢å¼æŒ‡å®šæ¨¡å—åï¼Œä»è€Œå®ç°åŠ¨æ€åŠ è½½æ¨¡å—ï¼Œåˆç§°ä¸º<strong>çƒ­åŠ è½½</strong></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">import importlib</span><br><span class="line"></span><br><span class="line"># __import__(&quot;property&quot;)  # è§£é‡Šå™¨ç”¨çš„</span><br><span class="line"></span><br><span class="line">importlib.import_module(&quot;property&quot;)  # import_moduleå‡½æ•°å…è®¸é€šè¿‡å­—ç¬¦ä¸²å½¢å¼æŒ‡å®šæ¨¡å—å</span><br><span class="line">importlib.import_module(&quot;dao.fib&quot;)  # åŠ è½½ä½äºåŒ…daoä¸‹çš„fibæ¨¡å—</span><br></pre></td></tr></table></figure>

<h2 id="äº”ã€ç”Ÿæˆå™¨ä¸è¿­ä»£å™¨"><a href="#äº”ã€ç”Ÿæˆå™¨ä¸è¿­ä»£å™¨" class="headerlink" title="äº”ã€ç”Ÿæˆå™¨ä¸è¿­ä»£å™¨"></a>äº”ã€ç”Ÿæˆå™¨ä¸è¿­ä»£å™¨</h2><blockquote>
<p>å…³äº<strong>å…ƒç»„ç”Ÿæˆå¼</strong>ï¼š</p>
<p>åœ¨å‰é¢ã€Š01_Python_åŸºç¡€è¯­æ³•ã€‹çš„ <a class="link"   target="_blank" rel="noopener" href="https://xfblog.cn/2022/06/06/python_%e5%9f%ba%e7%a1%80%e8%af%ad%e6%b3%95/#i-11" >åäºŒã€ç”Ÿæˆå¼<i class="fas fa-external-link-alt"></i></a> ä¸­ä¸ºå…ƒç»„ç”Ÿæˆå¼ç•™ä¸‹ä¸è¶³ï¼Œæ˜¯ä¸ºäº†åœ¨æ­¤æ›´å¥½çš„å¼•å‡º<strong>ç”Ÿæˆå™¨</strong></p>
<ol>
<li>æ ¹æœ¬å°±<strong>ä¸å­˜åœ¨å…ƒç»„ç”Ÿæˆå¼</strong>ï¼Œå…ƒç»„æ˜¯ä¸å¯å˜ç±»å‹çš„å¯¹è±¡ï¼Œæ‰€ä»¥æ— æ³•åœ¨ä»£ç ä¸­<strong>åŠ¨æ€åœ°åˆ›å»ºå…ƒç»„å¯¹è±¡</strong></li>
<li>å°†åˆ—è¡¨ç”Ÿæˆå¼çš„ä¸­æ‹¬å·â€œ[]â€æ”¹æˆå°æ‹¬å·â€œ()â€ï¼Œç¨‹åºå¹¶ä¸ä¼šæŠ¥é”™ï¼Œå› ä¸ºå¾—åˆ°çš„æ˜¯<strong>ç”Ÿæˆå™¨å¯¹è±¡ï¼ï¼ï¼</strong></li>
</ol>
</blockquote>
<h4 id="1-ç”Ÿæˆå™¨"><a href="#1-ç”Ÿæˆå™¨" class="headerlink" title="1. ç”Ÿæˆå™¨"></a>1. ç”Ÿæˆå™¨</h4><ul>
<li><strong>ç”Ÿæˆå™¨ï¼ˆgeneratorï¼‰å¯¹è±¡ï¼šç”Ÿæˆå™¨ä¸­ä¿å­˜çš„å¹¶ä¸æ˜¯å…¶å¯¹åº”çš„æ‰€æœ‰å…ƒç´ ï¼Œè€Œæ˜¯å¦‚ä½•æ¨ç®—å‡ºæ‰€æœ‰å…ƒç´ çš„ç®—æ³•</strong></li>
<li><strong>åŸç†ï¼šæƒ°æ€§æ¨ç®—</strong>ï¼Œå®ƒå¯ä»¥åœ¨éœ€è¦æ—¶é€ä¸ªç”Ÿæˆå€¼ï¼Œè€Œä¸å¿…ä¸€æ¬¡æ€§åŠ è½½æ•´ä¸ªæ•°æ®é›†åˆ°å†…å­˜ä¸­ï¼Œè¿™å¯¹äºå¤„ç†å¤§å‹æ•°æ®é›†æˆ–æ— é™åºåˆ—ç­‰æƒ…å†µéå¸¸æœ‰ç”¨ï¼Œå› ä¸ºå®ƒèƒ½å¤Ÿæœ‰æ•ˆåœ°åˆ©ç”¨å†…å­˜ï¼Œå¹¶ä¸”å¯ä»¥æä¾›é«˜æ•ˆçš„è¿­ä»£æ“ä½œ</li>
<li><strong>è·å–ç”Ÿæˆå™¨å†…çš„å…ƒç´ </strong>ï¼š<ol>
<li>**è°ƒç”¨å†…ç½®å‡½æ•°next()**ï¼šæ¯æ¬¡è°ƒç”¨éƒ½è¿”å›ç”Ÿæˆå™¨çš„ä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œç›´åˆ°æŠ›å‡ºå¼‚å¸¸StopIterationæ—¶è¡¨ç¤ºæ²¡æœ‰æ›´å¤šå…ƒç´ äº†</li>
<li><strong>ä½¿ç”¨for-inè¯­å¥å¯¹ç”Ÿæˆå™¨è¿›è¡Œè¿­ä»£</strong>ï¼šä¸éœ€è¦å…³å¿ƒStopIterationå¼‚å¸¸ï¼Œå› ä¸º<strong>for-inè¯­å¥ä¼šè‡ªåŠ¨å¤„ç†StopIterationå¼‚å¸¸</strong></li>
</ol>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">ge = (i for i in range(1, 7))</span><br><span class="line">print(ge)  # `&lt;generator object &lt;genexpr&gt; at 0x10127c120&gt;`</span><br><span class="line"></span><br><span class="line">print(next(ge))  # 1</span><br><span class="line">print(next(ge))  # 2</span><br><span class="line">print(next(ge))  # 3</span><br><span class="line">print(next(ge))  # 4</span><br><span class="line">print(next(ge))  # 5</span><br><span class="line">print(next(ge))  # 6</span><br><span class="line"># print(next(ge))  # StopIteration</span><br><span class="line"></span><br><span class="line">ge = (i * i for i in range(1, 7))</span><br><span class="line">for item in ge:</span><br><span class="line">    print(item)  # 1 4 9 16 25 36</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>ç”Ÿæˆå™¨å‡½æ•°</strong>ï¼š<strong>å½“æ¨ç®—çš„ç®—æ³•æ¯”è¾ƒå¤æ‚æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ç”Ÿæˆå™¨å‡½æ•°å¾—åˆ°ç”Ÿæˆå™¨</strong>ã€‚ç”Ÿæˆå™¨å‡½æ•°ä¸­é€šè¿‡<strong>å…³é”®å­—yield</strong>è¿”å›æ¨ç®—å‡ºçš„å…ƒç´ ï¼Œå½“è¿›è¡Œè¿­ä»£æ—¶ï¼Œ<strong>æ¯æ‰§è¡Œå®Œyieldè¯­å¥åä¼šå°†å‡½æ•°æŒ‚èµ·</strong>ï¼Œä¸‹æ¬¡ä¼šä»æŒ‚èµ·çš„åœ°æ–¹ç»§ç»­æ‰§è¡Œ</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"># æ–æ³¢é‚£å¥‘æ•°åˆ—</span><br><span class="line">def fib(n):</span><br><span class="line">    a, b = 0, 1</span><br><span class="line">    for _ in range(n):</span><br><span class="line">        a, b = b, a + b</span><br><span class="line">        yield a</span><br><span class="line"></span><br><span class="line">gf = fib(6)</span><br><span class="line">print(gf)  # `&lt;generator object fib at 0x100d3dd90&gt;`</span><br><span class="line"></span><br><span class="line">for item in gf:</span><br><span class="line">    print(item)  # 1 1 2 3 5 8</span><br></pre></td></tr></table></figure>

<h4 id="2-è¿­ä»£å™¨"><a href="#2-è¿­ä»£å™¨" class="headerlink" title="2. è¿­ä»£å™¨"></a>2. è¿­ä»£å™¨</h4><ul>
<li><strong>å¯è¿­ä»£å¯¹è±¡</strong>ï¼šå¯ä»¥ç”¨äºfor-inè¯­å¥çš„å¯¹è±¡è¢«ç§°ä¸º<strong>å¯è¿­ä»£å¯¹è±¡</strong>ï¼Œä¾‹å¦‚ï¼šrangeã€listã€strã€dictã€setã€<strong>ç”Ÿæˆå™¨</strong>éƒ½æ˜¯å¯è¿­ä»£å¯¹è±¡</li>
<li><strong>è¿­ä»£å™¨å¯¹è±¡</strong>ï¼šå¦‚æœä¸€ä¸ª<strong>å¯è¿­ä»£å¯¹è±¡</strong>å¯ä»¥ä½œä¸ºå†…ç½®å‡½æ•°next()çš„å®å‚ä»è€Œ<strong>æ”¯æŒæƒ°æ€§è¿ç®—</strong>ï¼Œé‚£ä¹ˆè¯¥å¯¹è±¡è¢«ç§°ä¸º<strong>è¿­ä»£å™¨å¯¹è±¡</strong></li>
</ul>
<blockquote>
<p><strong>è°ƒç”¨å†…ç½®å‡½æ•°isinstance()å¯ä»¥åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯å¯è¿­ä»£å¯¹è±¡æˆ–è€…è¿­ä»£å™¨å¯¹è±¡ï¼Œ</strong></p>
<p>å…¶ä¸­æ ‡å‡†åº“æ¨¡å—collectionsä¸­çš„<strong>ç±»Iterableç”¨äºè¡¨ç¤ºå¯è¿­ä»£å¯¹è±¡ï¼Œç±»Iteratorç”¨äºè¡¨ç¤ºè¿­ä»£å™¨å¯¹è±¡</strong></p>
</blockquote>
<ul>
<li><strong>ç”Ÿæˆå™¨çš„ç‰¹æ®Šæ€§</strong>ï¼š<strong>ç”Ÿæˆå™¨æ˜¯ä¸€ç§ç‰¹æ®Šçš„è¿­ä»£å™¨å¯¹è±¡</strong>ï¼Œå› ä¸ºç”Ÿæˆå™¨æœ¬èº«å°±æ”¯æŒ<strong>æƒ°æ€§è¿ç®—</strong>ï¼Œè€Œå¯¹äºrangeã€listã€strã€dictã€setç­‰å¯è¿­ä»£å¯¹è±¡éƒ½ä¸æ”¯æŒï¼Œ<strong>å¯¹äºå¯è¿­ä»£å¯¹è±¡ï¼Œå¯ä»¥è°ƒç”¨å†…ç½®å‡½æ•°iter()æŠŠä¸æ”¯æŒæƒ°æ€§è¿ç®—çš„å¯è¿­ä»£å¯¹è±¡è½¬æ¢ä¸ºè¿­ä»£å™¨å¯¹è±¡</strong></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">from collections.abc import Iterable, Iterator</span><br><span class="line"></span><br><span class="line"># åˆ¤æ–­å¯è¿­ä»£å¯¹è±¡</span><br><span class="line">print(isinstance([1, 2, 3], Iterable))  # True</span><br><span class="line">print(isinstance(&#x27;abc&#x27;, Iterable))  # True</span><br><span class="line">print(isinstance((i * i for i in range(1, 7)), Iterable))  # True</span><br><span class="line"># åˆ¤æ–­è¿­ä»£å™¨å¯¹è±¡</span><br><span class="line">print(isinstance([1, 2, 3], Iterator))  # False</span><br><span class="line">print(isinstance(&#x27;abc&#x27;, Iterator))  # False</span><br><span class="line">print(isinstance((i * i for i in range(1, 7)), Iterator))  # True</span><br><span class="line"># è°ƒç”¨å†…ç½®å‡½æ•°iter()æŠŠä¸æ”¯æŒæƒ°æ€§æ¨ç®—çš„å¯è¿­ä»£å¯¹è±¡è½¬æ¢ä¸ºè¿­ä»£å™¨å¯¹è±¡</span><br><span class="line">iter_L = iter([1, 2, 3])</span><br><span class="line">iter_s = iter(&#x27;abc&#x27;)</span><br><span class="line">print(isinstance(iter_L, Iterator))  # True</span><br><span class="line">print(isinstance(iter_s, Iterator))  # True</span><br><span class="line">print(next(iter_L))  # 1</span><br><span class="line">print(next(iter_s))  # a</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>è‡ªå®šä¹‰è¿­ä»£å™¨å¯¹è±¡</strong>ï¼šå¦‚æœä¸€ä¸ªç±»å¯¹è±¡åŒæ—¶å®ç°äº†ç‰¹æ®Šæ–¹æ³•<strong>__iter__()<strong>å’Œ</strong>__next__()<strong>ï¼Œé‚£ä¹ˆè¯¥å¯¹è±¡å°±è¢«ç§°ä¸º</strong>è¿­ä»£å™¨å¯¹è±¡</strong><ul>
<li><strong>æ‰§è¡Œè¿‡ç¨‹</strong>ï¼šå¦‚æœå°†è¯¥å¯¹è±¡ç”¨äºfor- inè¯­å¥ï¼Œfor-inè¯­å¥é¦–å…ˆä¼šè°ƒç”¨ç‰¹æ®Šæ–¹æ³•__iter__()è¿”å›ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡ï¼Œç„¶åä¸æ–­è°ƒç”¨è¯¥å¯è¿­ä»£å¯¹è±¡çš„ç‰¹æ®Šæ–¹æ³•__next__()è¿”å›ä¸‹ä¸€æ¬¡è¿­ä»£çš„å€¼ï¼Œç›´åˆ°é‡åˆ°StopIterationæ—¶é€€å‡ºå¾ªç¯</li>
</ul>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"># æ–æ³¢é‚£å¥‘æ•°åˆ—</span><br><span class="line">class Fib(object):</span><br><span class="line">    def __init__(self):</span><br><span class="line">        self.a, self.b = 0, 1</span><br><span class="line"></span><br><span class="line">    def __iter__(self):</span><br><span class="line">        return self</span><br><span class="line"></span><br><span class="line">    def __next__(self):</span><br><span class="line">        self.a, self.b = self.b, self.a + self.b</span><br><span class="line">        if self.a &gt; 50:</span><br><span class="line">            raise StopIteration()</span><br><span class="line">        return self.a</span><br><span class="line"></span><br><span class="line">for item in Fib():</span><br><span class="line">    print(item)  # 1 1 2 3 5 8 13 21 34</span><br></pre></td></tr></table></figure>

<h2 id="å…­ã€å¼‚å¸¸å¤„ç†"><a href="#å…­ã€å¼‚å¸¸å¤„ç†" class="headerlink" title="å…­ã€å¼‚å¸¸å¤„ç†"></a>å…­ã€å¼‚å¸¸å¤„ç†</h2><blockquote>
<p><strong>ä»€ä¹ˆæ˜¯å¼‚å¸¸ï¼Ÿ</strong></p>
<p>å¼‚å¸¸æŒ‡çš„æ˜¯ç¨‹åºåœ¨æ²¡æœ‰è¯­æ³•é”™è¯¯çš„å‰æä¸‹ï¼Œåœ¨è¿è¡ŒæœŸé—´äº§ç”Ÿçš„ç‰¹å®šé”™è¯¯ï¼Œæ¯ä¸ªç‰¹å®šé”™è¯¯éƒ½å¯¹åº”ä¸€ä¸ªå¼‚å¸¸ç±»å¯¹è±¡ã€‚å½“äº§ç”ŸæŸä¸ªç‰¹å®šé”™è¯¯æ—¶ï¼Œå…¶å¯¹åº”çš„å¼‚å¸¸ç±»å¯¹è±¡çš„å®ä¾‹å¯¹è±¡å°±ä¼šè¢«æŠ›å‡ºã€‚</p>
<ul>
<li>å¯¹äºåœ¨ç¨‹åºä¸­æŠ›å‡ºçš„å¼‚å¸¸å®ä¾‹å¯¹è±¡ï¼Œå¦‚æœä¸è¿›è¡Œæ•è·å’Œå¤„ç†ï¼Œç¨‹åºå°±ä¼šåœæ­¢è¿è¡Œï¼Œæ‰€ä»¥è¦è¿›è¡Œæ•è·å’Œå¤„ç†</li>
<li>å¯¹äºå¼‚å¸¸ä¸­çš„Tracebackï¼ŒæŒ‡çš„æ˜¯å¼‚å¸¸è°ƒç”¨å †æ ˆçš„è·Ÿè¸ªä¿¡æ¯ï¼Œå…¶ä¸­åˆ—å‡ºäº†ç¨‹åºä¸­çš„ç›¸å…³è¡Œæ•°</li>
<li>å¯¹äºæ¯ä¸ªå¼‚å¸¸ç±»å¯¹è±¡æ‰€è¡¨ç¤ºçš„ç‰¹å®šé”™è¯¯ï¼Œå‚è€ƒ<a class="link"   target="_blank" rel="noopener" href="https://docs.python.org/3/library/exceptions.html" >Pythonå®˜æ–¹æ–‡æ¡£<i class="fas fa-external-link-alt"></i></a></li>
<li><strong>é‡ç‚¹ï¼šæ‰€æœ‰å¼‚å¸¸ç±»å¯¹è±¡ï¼ˆå†…ç½®å¼‚å¸¸ç±»å¯¹è±¡å’Œè‡ªå®šä¹‰å¼‚å¸¸ç±»å¯¹è±¡ï¼‰çš„åŸºç±»éƒ½æ˜¯Exceptionï¼</strong></li>
</ul>
</blockquote>
<h4 id="1-æ•è·å’Œå¤„ç†å¼‚å¸¸"><a href="#1-æ•è·å’Œå¤„ç†å¼‚å¸¸" class="headerlink" title="1. æ•è·å’Œå¤„ç†å¼‚å¸¸"></a>1. æ•è·å’Œå¤„ç†å¼‚å¸¸</h4><ul>
<li><strong>æ³¨æ„4ç‚¹</strong>ï¼š<ol>
<li>å¦‚æœæŠ›å‡ºçš„å¼‚å¸¸å®ä¾‹å¯¹è±¡æ‰€å¯¹åº”çš„ç±»å¯¹è±¡æ˜¯exceptå­—å¥ä¸­å¼‚å¸¸ç±»å¯¹è±¡çš„<strong>å­ç±»</strong>ï¼Œé‚£ä¹ˆè¯¥exceptå­å¥ä¹Ÿä¼šè¢«åŒ¹é…</li>
<li>å½“tryè¯­å¥å—ä¸­äº§ç”Ÿå¼‚å¸¸æ—¶ï¼Œä¼š<strong>ä»ä¸Šåˆ°ä¸‹ä¾æ¬¡æŸ¥æ‰¾</strong>æ˜¯å¦æœ‰åŒ¹é…çš„exceptå­å¥ï¼Œåªè¦æœ‰ä¸€ä¸ªåŒ¹é…ä¸Šï¼Œåˆ™ä¸ä¼šå†å¾€ä¸‹åŒ¹é…</li>
<li>å½“å¤šä¸ªå¼‚å¸¸ç±»å¯¹è±¡å¯¹åº”çš„å¼‚å¸¸å¤„ç†ä»£ç å®Œå…¨ç›¸åŒæ—¶ï¼Œå¯ä»¥æŠŠè¿™äº›å¼‚å¸¸ç±»å¯¹è±¡ä»¥<strong>å…ƒç»„</strong>çš„å½¢å¼æ”¾åœ¨ä¸€ä¸ªexceptå­å¥ä¸­</li>
<li>å¦‚æœæƒ³åœ¨åŒ¹é…åˆ°çš„exceptå­å¥ä¸­è®¿é—®å¼‚å¸¸å®ä¾‹å¯¹è±¡ï¼Œå¯ä»¥åœ¨exceptå­å¥ç»“æŸä½ç½®<strong>æ·»åŠ å…³é”®å­—aså’Œä¸€ä¸ªå˜é‡</strong></li>
</ol>
</li>
<li><strong>é‡ç‚¹ï¼šä¸ºäº†åœ¨exceptè¯­å¥å—ä¸­èƒ½å°†æ‰€æœ‰çš„å¼‚å¸¸ç±»å¯¹è±¡å°½å¯èƒ½åœ°è¦†ç›–åˆ°ï¼Œå¯ä»¥å°†æœ€åä¸€ä¸ªexceptå­å¥ä¸­çš„å¼‚å¸¸ç±»å¯¹è±¡æŒ‡å®šä¸ºExceptionï¼ˆæˆ–ä¸æŒ‡å®šå¼‚å¸¸ç±»å¯¹è±¡ä¹Ÿé»˜è®¤ä¸ºExceptionï¼‰</strong></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">&quot;&quot;&quot;</span><br><span class="line">try:</span><br><span class="line">    å¯èƒ½ä¼šäº§ç”Ÿå¼‚å¸¸çš„ä»£ç </span><br><span class="line">except å¼‚å¸¸ç±»å¯¹è±¡1:</span><br><span class="line">    å½“å‰exceptå­—å¥å¤„ç†å¼‚å¸¸çš„ä»£ç </span><br><span class="line">except å¼‚å¸¸ç±»å¯¹è±¡2:</span><br><span class="line">    å½“å‰exceptå­—å¥å¤„ç†å¼‚å¸¸çš„ä»£ç </span><br><span class="line">    ......</span><br><span class="line">except å¼‚å¸¸ç±»å¯¹è±¡n:</span><br><span class="line">    å½“å‰exceptå­—å¥å¤„ç†å¼‚å¸¸çš„ä»£ç </span><br><span class="line">else:</span><br><span class="line">    tryè¯­å¥å—ä¸­æ²¡æœ‰äº§ç”Ÿå¼‚å¸¸æ—¶æ‰§è¡Œçš„ä»£ç ï¼ˆæœ‰æ—¶éœ€è¦å¯¹tryè¯­å¥ä¸­éƒ¨åˆ†ä»£ç éœ€è¦è¿›è¡Œå•ç‹¬å¼‚å¸¸æ•è·ï¼Œå…¶ä½™ä»£ç åˆ™éœ€å†™elseï¼‰</span><br><span class="line">    # ç±»ä¼¼whileè¯­å¥æˆ–for-inè¯­å¥åé¢æ·»åŠ çš„elseä»å¥ï¼Œæ²¡æœ‰æ‰§è¡Œå¾ªç¯ä½“ä¸­çš„breakè¯­å¥ï¼Œåˆ™ä¼šæ‰§è¡Œelseä»å¥</span><br><span class="line">finally:</span><br><span class="line">    æ€»ä¼šæ‰§è¡Œçš„ä»£ç </span><br><span class="line">    # é€šå¸¸åœ¨finallyä»å¥ä¸­é‡Šæ”¾èµ„æºï¼Œä¾‹å¦‚ï¼šå…³é—­æ–‡ä»¶ã€å…³é—­ç½‘ç»œè¿æ¥ç­‰</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">try:</span><br><span class="line">    result = 1 / 0  # å¯¹åº”å‰ä¸¤ä¸ªexceptå­å¥</span><br><span class="line">    # result = int(&#x27;abc&#x27;)  # å¯¹åº”ç¬¬ä¸‰ä¸ªexceptå­å¥</span><br><span class="line">    # result = 1 / 2  # æ— å¼‚å¸¸ï¼Œæ‰§è¡Œelseä»å¥</span><br><span class="line">except ZeroDivisionError:</span><br><span class="line">    print(&quot;0ä¸èƒ½ä½œä¸ºé™¤æ•°&quot;)</span><br><span class="line">except ArithmeticError:</span><br><span class="line">    print(&quot;æ•°å­¦é”™è¯¯&quot;)</span><br><span class="line">except (TypeError, ValueError) as err:</span><br><span class="line">    print(type(err))  # `&lt;class &#x27;ValueError&#x27;&gt;`</span><br><span class="line">    # ç±»å¯¹è±¡ValueErrorå®ç°äº†ç‰¹æ®Šæ–¹æ³•__str__()</span><br><span class="line">    print(err)  # invalid literal for int() with base 10: &#x27;abc&#x27;</span><br><span class="line">except Exception:</span><br><span class="line">    print(&quot;å…¶ä»–é”™è¯¯&quot;)</span><br><span class="line">else:</span><br><span class="line">    print(&quot;æ— å¼‚å¸¸æ‰“å°ç»“æœï¼š&quot;, result)</span><br><span class="line">finally:</span><br><span class="line">    print(&quot;é‡Šæ”¾èµ„æº&quot;)</span><br><span class="line"></span><br><span class="line"># å®ç°è¾“å…¥ä¸€ä¸ªæ­£ç¡®çš„æ•´æ•°ï¼Œä¸æ­£ç¡®åˆ™é‡æ–°è¾“å…¥</span><br><span class="line">while True:</span><br><span class="line">    try:</span><br><span class="line">        x = int(input(&#x27;è¯·è¾“å…¥ä¸€ä¸ªæ•´æ•°ï¼š&#x27;))</span><br><span class="line">    except ValueError:</span><br><span class="line">        print(&#x27;æ— æ•ˆçš„è¾“å…¥ï¼Œè¯·å†æ¬¡è¾“å…¥&#x27;)</span><br><span class="line">    else:</span><br><span class="line">        print(&#x27;è¾“å…¥çš„æ•´æ•°ä¸ºï¼š&#x27;, x)</span><br><span class="line">        break</span><br></pre></td></tr></table></figure>

<h4 id="2-ä½¿ç”¨raiseè¯­å¥æ‰‹åŠ¨æŠ›å‡ºå¼‚å¸¸"><a href="#2-ä½¿ç”¨raiseè¯­å¥æ‰‹åŠ¨æŠ›å‡ºå¼‚å¸¸" class="headerlink" title="2. ä½¿ç”¨raiseè¯­å¥æ‰‹åŠ¨æŠ›å‡ºå¼‚å¸¸"></a>2. ä½¿ç”¨raiseè¯­å¥æ‰‹åŠ¨æŠ›å‡ºå¼‚å¸¸</h4><ul>
<li>è¯­æ³•ï¼š**raise å¼‚å¸¸ç±»å¯¹è±¡([å‚æ•°])**ï¼Œä¸ä¼ å…¥å‚æ•°æ—¶å°æ‹¬å·å¯ä»¥çœç•¥</li>
<li>æ³¨æ„ï¼šå¦‚æœåœ¨exceptè¯­å¥å—ä¸­ä¸æƒ³å¯¹å¼‚å¸¸å®ä¾‹å¯¹è±¡è¿›è¡Œå¤„ç†ï¼Œå¯ä»¥ä½¿ç”¨å…³é”®å­—raiseå°†å…¶åŸæ ·æŠ›å‡ºï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨raiseè¯­å¥æ‰‹åŠ¨æŠ›å‡ºå¦å¤–ä¸€ä¸ªå¼‚å¸¸ç±»å¯¹è±¡çš„å®ä¾‹å¯¹è±¡</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">try:</span><br><span class="line">    raise ZeroDivisionError(&#x27;0ä¸èƒ½ä½œä¸ºé™¤æ•°å“¦&#x27;)  # æ¨¡æ‹Ÿå¼‚å¸¸è¯­å¥ç›´æ¥æŠ›å‡ºå¼‚å¸¸</span><br><span class="line">except ZeroDivisionError as err:</span><br><span class="line">    print(err)  # 0ä¸èƒ½ä½œä¸ºé™¤æ•°å“¦</span><br><span class="line"></span><br><span class="line">try:</span><br><span class="line">    result = 1 / 0</span><br><span class="line">except ZeroDivisionError:</span><br><span class="line">    try:</span><br><span class="line">        raise  # ä½¿ç”¨å…³é”®å­—raiseå°†å¼‚å¸¸å®ä¾‹å¯¹è±¡åŸæ ·æŠ›å‡º</span><br><span class="line">    except ZeroDivisionError as ee:</span><br><span class="line">        # raise ValueError(&#x27;è¾“å…¥é”™è¯¯&#x27;)  # ä½¿ç”¨raiseè¯­å¥æ‰‹åŠ¨æŠ›å‡ºå¦å¤–ä¸€ä¸ªå¼‚å¸¸ç±»å¯¹è±¡çš„å®ä¾‹å¯¹è±¡</span><br><span class="line">        print(ee)  # division by zero</span><br></pre></td></tr></table></figure>

<h4 id="3-è‡ªå®šä¹‰å¼‚å¸¸"><a href="#3-è‡ªå®šä¹‰å¼‚å¸¸" class="headerlink" title="3. è‡ªå®šä¹‰å¼‚å¸¸"></a>3. è‡ªå®šä¹‰å¼‚å¸¸</h4><ul>
<li>ç®€ä»‹ï¼šè‡ªå®šä¹‰å¼‚å¸¸ç±»å¯¹è±¡åªéœ€è¦å¦‚åŒæ‰€æœ‰å†…ç½®å¼‚å¸¸ç±»å¯¹è±¡ä¸€æ ·ï¼Œç»§æ‰¿Exceptionæˆ–å…¶å­ç±»å³å¯</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">class MyException(BaseException):  # BaseExceptionæ˜¯æ‰€æœ‰å¼‚å¸¸çš„åŸºç±»</span><br><span class="line">    def __init__(self, msg):</span><br><span class="line">        self.msg = msg</span><br><span class="line"></span><br><span class="line">    # def __str__(self):  # __str__æ–¹æ³•å®šä¹‰ä¸å®šä¹‰éƒ½å¯ä»¥</span><br><span class="line">    #     return self.msg</span><br><span class="line"></span><br><span class="line">try:</span><br><span class="line">    raise MyException(&#x27;æˆ‘çš„é”™è¯¯&#x27;)</span><br><span class="line"># except Exception as err:  # ç»§æ‰¿è‡ªBaseExceptionç±»çš„è‡ªå®šä¹‰å¼‚å¸¸ç±»ï¼ŒExceptionæ•æ‰ä¸åˆ°</span><br><span class="line">#     print(err)</span><br><span class="line">except MyException as e:</span><br><span class="line">    print(e)  # æˆ‘çš„é”™è¯¯</span><br></pre></td></tr></table></figure>

<h4 id="4-å¼‚å¸¸å®ä¾‹err"><a href="#4-å¼‚å¸¸å®ä¾‹err" class="headerlink" title="4. å¼‚å¸¸å®ä¾‹err"></a>4. å¼‚å¸¸å®ä¾‹err</h4><ul>
<li>ç®€ä»‹ï¼šerrå¯¹è±¡æ˜¯exceptè¯­å¥ä¸­æ•æ‰å¼‚å¸¸çš„å®ä¾‹ï¼Œç±»å‹æ˜¯<strong>å…ƒç»„</strong></li>
<li><strong>åº”ç”¨ï¼šargsæ˜¯Pythonå†…ç½®å¼‚å¸¸ç±»çš„ä¸€ä¸ªå±æ€§ï¼Œç”¨äºä¿å­˜å¼‚å¸¸å¯¹è±¡çš„å‚æ•°ï¼Œæ˜¯ä¸€ä¸ªå…ƒç»„</strong><ol>
<li>å½“ä¸€ä¸ªå¼‚å¸¸è¢«æŠ›å‡ºæ—¶ï¼Œå¯ä»¥å‘å¼‚å¸¸å¯¹è±¡ä¼ é€’ä¸€äº›å‚æ•°ï¼Œè¿™äº›å‚æ•°å°†ä½œä¸ºå¼‚å¸¸å¯¹è±¡çš„å±æ€§æ¥ä½¿ç”¨</li>
<li>å¯ä»¥é€šè¿‡ä½¿ç”¨exceptè¯­å¥æ•è·å¼‚å¸¸ï¼Œå¹¶ä½¿ç”¨å¼‚å¸¸å¯¹è±¡çš„argså±æ€§æ¥æå–å¼‚å¸¸å‚æ•°</li>
</ol>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">class MyException(Exception):</span><br><span class="line">    def __init__(self, a, b):</span><br><span class="line">        self.a = a</span><br><span class="line">        self.b = b</span><br><span class="line"></span><br><span class="line">    # def __str__(self):</span><br><span class="line">    #     return &quot;éƒ½æ˜¯%så’Œ%sçš„é”™&quot; % (self.a, self.b)</span><br><span class="line"></span><br><span class="line">try:</span><br><span class="line">    raise MyException(&#x27;jack&#x27;, &#x27;alice&#x27;)</span><br><span class="line">except MyException as err:</span><br><span class="line">    print(err)  # (&#x27;jack&#x27;, &#x27;alice&#x27;)</span><br><span class="line">    print(err.args)  # (&#x27;jack&#x27;, &#x27;alice&#x27;)</span><br><span class="line">    # 1ã€Pythonä¼šå°è¯•å°†æ•´ä¸ªerrå…ƒç»„ä½œä¸ºä¸€ä¸ªå‚æ•°è¿›è¡Œæ ¼å¼åŒ–ï¼Œè€Œä¸æ˜¯æŒ‰ç…§å…ƒç»„çš„å…ƒç´ è¿›è¡Œæ ¼å¼åŒ–ï¼Œä»è€ŒæŠ›å‡ºå¼‚å¸¸</span><br><span class="line">    # print(&quot;éƒ½æ˜¯%så’Œ%sçš„é”™&quot; % err)  # æŠ›å‡ºå¼‚å¸¸</span><br><span class="line">    # 2ã€ç±» &#x27;MyException&#x27; æœªå®šä¹‰ &#x27;__getitem__&#x27;ï¼Œæ‰€ä»¥ä¸èƒ½å¯¹å…¶å®ä¾‹ä½¿ç”¨ &#x27;[]&#x27; è¿ç®—ç¬¦</span><br><span class="line">    # print(&quot;éƒ½æ˜¯%så’Œ%sçš„é”™&quot; % (err[0], err[1]))  # æŠ›å‡ºå¼‚å¸¸</span><br><span class="line">    print(&quot;éƒ½æ˜¯%så’Œ%sçš„é”™&quot; % (err.args[0], err.args[1]))  # éƒ½æ˜¯jackå’Œaliceçš„é”™</span><br></pre></td></tr></table></figure>

<h4 id="5-å¼‚å¸¸å’Œå‡½æ•°"><a href="#5-å¼‚å¸¸å’Œå‡½æ•°" class="headerlink" title="5. å¼‚å¸¸å’Œå‡½æ•°"></a>5. å¼‚å¸¸å’Œå‡½æ•°</h4><ul>
<li>ç®€ä»‹ï¼šå½“å‡½æ•°å†…å‘ç”Ÿå¼‚å¸¸æ—¶ï¼Œå¼‚å¸¸å®ä¾‹å¯¹è±¡ä¼šè¢«æŠ›ç»™è¯¥å‡½æ•°çš„è°ƒç”¨è€…ï¼Œå¦‚æœè¯¥å‡½æ•°çš„è°ƒç”¨è€…æ²¡æœ‰è¿›è¡Œæ•è·å’Œå¤„ç†ï¼Œåˆ™ç»§ç»­æŠ›ç»™ä¸Šä¸€å±‚çš„è°ƒç”¨è€…ï¼Œè¿™æ ·ä¸€ç›´å‘ä¸ŠæŠ›ï¼Œæœ€åä¼šè¢«Pythonè§£é‡Šå™¨æ•è·ã€‚<strong>åœ¨å¼‚å¸¸å®ä¾‹å¯¹è±¡è¢«å‘ä¸ŠæŠ›çš„è¿‡ç¨‹ä¸­ï¼Œä¸éœ€è¦åœ¨æ¯ä¸€å±‚éƒ½è¿›è¡Œæ•è·å’Œå¤„ç†ï¼Œé€‰æ‹©åˆé€‚çš„å±‚å¯¹è¿›è¡Œæ•è·å’Œå¤„ç†å³å¯</strong></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">def f1():</span><br><span class="line">    print(1 / 0)</span><br><span class="line"></span><br><span class="line">def f2():</span><br><span class="line">    f1()</span><br><span class="line"></span><br><span class="line">def f3():</span><br><span class="line">    try:</span><br><span class="line">        f2()</span><br><span class="line">    except ZeroDivisionError as err:</span><br><span class="line">        print(err)</span><br><span class="line"></span><br><span class="line">f3()  # division by zero</span><br><span class="line">&quot;&quot;&quot;æŠ›å‡ºå¼‚å¸¸æƒ…å†µ</span><br><span class="line">def f1():             # Traceback (most recent call last):</span><br><span class="line">    print(1 / 0)      #    File &quot;/Users/xfblog/Desktop&quot;, line 11, in &lt;module&gt;</span><br><span class="line">                      #        f3()</span><br><span class="line">def f2():             #    File &quot;/Users/xfblog/Desktop&quot;, line 9, in f3</span><br><span class="line">    f1()              #        f2()</span><br><span class="line">                      #    File &quot;/Users/xfblog/Desktop&quot;, line 6, in f2</span><br><span class="line">def f3():             #        f1()</span><br><span class="line">    f2()              #    File &quot;/Users/xfblog/Desktop&quot;, line 3, in f1</span><br><span class="line">                      #        print(1 / 0)</span><br><span class="line">f3()                  # ZeroDivisionError: division by zero</span><br><span class="line">&quot;&quot;&quot;</span><br></pre></td></tr></table></figure>

<h4 id="6-è·å–å¼‚å¸¸ä¿¡æ¯"><a href="#6-è·å–å¼‚å¸¸ä¿¡æ¯" class="headerlink" title="6. è·å–å¼‚å¸¸ä¿¡æ¯"></a>6. è·å–å¼‚å¸¸ä¿¡æ¯</h4><ul>
<li><p>ç®€ä»‹ï¼šåœ¨æ•è·å¼‚å¸¸å®ä¾‹å¯¹è±¡åï¼Œå¯ä»¥<strong>è°ƒç”¨æ ‡å‡†åº“æ¨¡å—sysä¸­çš„å‡½æ•°exc_infoä»¥è·å–å¼‚å¸¸çš„ç›¸å…³ä¿¡æ¯</strong>ï¼Œå…¶è¿”å›å€¼ä¸ºä¸€ä¸ª<strong>å…ƒç»„</strong>ï¼Œå…¶ä¸­åŒ…å«ä¸‰ä¸ªå…ƒç´ åˆ†åˆ«ä¸º<strong>å¼‚å¸¸çš„ç±»å‹ã€å¼‚å¸¸çš„é”™è¯¯ä¿¡æ¯ã€Tracebackå¯¹è±¡ï¼ˆåŒ…å«å¼‚å¸¸è°ƒç”¨å †æ ˆçš„è·Ÿè¸ªä¿¡æ¯ï¼‰</strong></p>
</li>
<li><p>æ‰©å±•ï¼š<strong>è¿›ä¸€æ­¥ä»Tracebackå¯¹è±¡ä¸­æå–å‡ºå †æ ˆå¸§ä¿¡æ¯ï¼Œ å¯ä»¥è°ƒç”¨æ ‡å‡†åº“æ¨¡å—tracebackä¸­çš„å‡½æ•°extract_tb()</strong></p>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">import sys</span><br><span class="line">import traceback</span><br><span class="line"></span><br><span class="line">def f1():</span><br><span class="line">    print(1 / 0)</span><br><span class="line"></span><br><span class="line">def f2():</span><br><span class="line">    try:</span><br><span class="line">        f1()</span><br><span class="line">    except ZeroDivisionError:</span><br><span class="line">        ex_type, ex_value, ex_traceback = sys.exc_info()</span><br><span class="line"></span><br><span class="line">        print(ex_type)  # å¼‚å¸¸çš„ç±»å‹ï¼š`&lt;class &#x27;ZeroDivisionError&#x27;&gt;`</span><br><span class="line">        print(ex_value)  # å¼‚å¸¸çš„é”™è¯¯ä¿¡æ¯ï¼šdivision by zero</span><br><span class="line">        print(ex_traceback)  # å¼‚å¸¸è°ƒç”¨å †æ ˆçš„è·Ÿè¸ªä¿¡æ¯ï¼š`&lt;traceback object at 0x1026dca00&gt;`</span><br><span class="line"></span><br><span class="line">        tb = traceback.extract_tb(ex_traceback)  # è¿›ä¸€æ­¥ä»Tracebackå¯¹è±¡ä¸­æå–å‡ºå †æ ˆå¸§ä¿¡æ¯</span><br><span class="line">        print(tb)  # å †æ ˆå¸§ä¿¡æ¯è¡¨ç¤ºä»£ç çš„æ‰§è¡Œè·¯å¾„ï¼Œå³å‡½æ•°è°ƒç”¨çš„å±‚æ¬¡å…³ç³»å’Œå¯¹åº”çš„ä»£ç ä½ç½®</span><br><span class="line"></span><br><span class="line">        # tbæ˜¯ä¸€ä¸ªåˆ—è¡¨ï¼Œå…¶ä¸­æ¯ä¸ªå…ƒç´ æ˜¯ä¸€ä¸ªFrameSummaryå¯¹è±¡ï¼Œä»£è¡¨ä¸€ä¸ªå †æ ˆå¸§çš„ä¿¡æ¯ï¼Œå¹¶åŒ…å«ä»¥ä¸‹4ç§ä¿¡æ¯</span><br><span class="line">        for file, line, funcname, source in tb:</span><br><span class="line">            print(&#x27;å¼‚å¸¸ä»£ç çš„æ–‡ä»¶è·¯å¾„ï¼š%s&#x27; % file)</span><br><span class="line">            print(&#x27;è°ƒç”¨å †æ ˆçš„è¡Œå·ï¼š%s&#x27; % line)</span><br><span class="line">            print(&#x27;å‡½æ•°æˆ–æ–¹æ³•çš„åç§°ï¼š%s&#x27; % funcname)</span><br><span class="line">            print(&#x27;æºç ï¼š%s&#x27; % source)</span><br><span class="line">        &quot;&quot;&quot;å¾ªç¯æ‰“å°å‡ºä¸¤ä¸ªFrameSummaryå¯¹è±¡ä¸­åŒ…å«çš„ä¿¡æ¯</span><br><span class="line">        å®é™…ä¸Šï¼Œè¾“å‡ºä¸­çš„å †æ ˆå¸§ä¿¡æ¯æ˜¯ä»å¼‚å¸¸å‘ç”Ÿçš„åœ°æ–¹å¼€å§‹ï¼Œé€çº§è¿½æº¯è°ƒç”¨é“¾ï¼Œç›´åˆ°æœ€é¡¶å±‚</span><br><span class="line">        æ‰€ä»¥ï¼Œç¬¬ä¸€ä¸ªå †æ ˆå¸§å¯¹åº”çš„æ˜¯f2å‡½æ•°ï¼Œç¬¬äºŒä¸ªå †æ ˆå¸§å¯¹åº”çš„æ˜¯f1å‡½æ•°</span><br><span class="line">        ç”±äºå †æ ˆå¸§ä¿¡æ¯æ˜¯ä»ä¸‹å¾€ä¸Šè¿½æº¯çš„ï¼Œæ‰€ä»¥ç¬¬ä¸€ä¸ªå †æ ˆå¸§çš„è¡Œå·9è¡¨ç¤ºçš„æ˜¯f2å‡½æ•°å†…éƒ¨è°ƒç”¨f1å‡½æ•°çš„ä½ç½®</span><br><span class="line">        &quot;&quot;&quot;</span><br><span class="line"></span><br><span class="line">f2()</span><br></pre></td></tr></table></figure>

<h4 id="7-assertæ–­è¨€"><a href="#7-assertæ–­è¨€" class="headerlink" title="7. assertæ–­è¨€"></a>7. assertæ–­è¨€</h4><ul>
<li>ç®€ä»‹ï¼š<strong>assertæ–­è¨€ç”¨äºåˆ¤æ–­ä»£ç æ˜¯å¦ç¬¦åˆæ‰§è¡Œé¢„æœŸ</strong>ã€‚åœ¨ä¸€ä¸ªè¿˜æ²¡å®Œå–„çš„ç¨‹åºä¸­ï¼Œä¸çŸ¥é“å“ªé‡Œä¼šå‡ºé”™çš„æƒ…å†µä¸‹ï¼Œä¸å…¶è®©ç¨‹åºåœ¨è¿è¡Œæ—¶å´©æºƒï¼Œä¸å¦‚åœ¨å‡ºç°é”™è¯¯æ¡ä»¶æ—¶å°±ç«‹å³å´©æºƒï¼Œæ­¤æ—¶åˆ™éœ€è¦ä½¿ç”¨åˆ°assertæ–­è¨€</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"># è‹¥ä»£ç ç¬¦åˆæ‰§è¡Œé¢„æœŸåˆ™æ— è¿”å›å€¼ï¼Œå¦åˆ™ç›´æ¥æŠ›å‡ºå¼‚å¸¸AssertionError</span><br><span class="line">assert type(1) is int</span><br><span class="line">assert len([&#x27;my boy&#x27;, 12]) &lt; 3</span><br><span class="line">assert list(range(4)) == [0, 1, 2, 3]</span><br><span class="line"># assert 1 + 1 == 3  # æŠ›å‡ºå¼‚å¸¸AssertionError</span><br><span class="line"></span><br><span class="line"># åº”ç”¨åœºæ™¯ä¸¾ä¾‹ï¼Œåˆ«äººè°ƒç”¨ä½ çš„æ¥å£ï¼Œæ¥å£è¦æ±‚è°ƒç”¨æ—¶å¿…é¡»ä¼ é€’æŒ‡å®šçš„å…³é”®å‚æ•°ï¼Œ</span><br><span class="line"># å½“æ¥å—æ—¶ï¼Œå°±å¯ä»¥ä½¿ç”¨assertè¯­å¥åˆ¤æ–­ä¼ å…¥çš„å‚æ•°æ˜¯å¦ç¬¦åˆä½ çš„é¢„æœŸ</span><br><span class="line">def my_interfance(name, age, score):</span><br><span class="line">    assert type(name) is str</span><br><span class="line">    assert type(age) is int</span><br><span class="line">    assert type(score) is float</span><br><span class="line"></span><br><span class="line">my_interfance(&quot;jack&quot;, 22, 99.5)</span><br><span class="line">my_interfance(&quot;jack&quot;, 22, 99)  # AssertionError</span><br></pre></td></tr></table></figure>

<ul>
<li>çŸ¥è¯†ç‚¹ï¼š<strong>å¯ä»¥ä¸ºassertæ–­è¨€è¯­å¥æ·»åŠ å¼‚å¸¸å‚æ•°ï¼Œ</strong>å³åœ¨æ–­è¨€è¡¨è¾¾å¼åæ·»åŠ å­—ç¬¦ä¸²ä¿¡æ¯ï¼Œç”¨æ¥è§£é‡Šæ–­è¨€å¼‚å¸¸çš„åŸå› </li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"># ç®€å•æ¡ˆä¾‹ï¼š</span><br><span class="line">s = input(&#x27;è¯·è¾“å…¥ --&gt; &#x27;)</span><br><span class="line">assert len(s) &gt;= 3, &quot;è¾“å…¥çš„é•¿åº¦ä¸èƒ½å°äº3&quot;  # AssertionError: è¾“å…¥çš„é•¿åº¦ä¸èƒ½å°äº3</span><br><span class="line"></span><br><span class="line"># å¤æ‚æ¡ˆä¾‹ï¼š</span><br><span class="line">class ShortInputException(Exception):</span><br><span class="line">    def __init__(self, length, atleast):</span><br><span class="line">        self.length = length</span><br><span class="line">        self.atleast = atleast</span><br><span class="line"></span><br><span class="line">def main():</span><br><span class="line">    try:</span><br><span class="line">        s = input(&#x27;è¯·è¾“å…¥ --&gt; &#x27;)</span><br><span class="line">        assert len(s) &gt;= 3, ShortInputException(len(s), 3)</span><br><span class="line">    except AssertionError as err:</span><br><span class="line">        # è¿™é‡Œä¸æ˜¯ç›´æ¥æ•æ‰ShortInputExceptionï¼Œè€Œæ˜¯å°†å…¶ä½œä¸ºassertçš„å¼‚å¸¸å‚æ•°ï¼Œ</span><br><span class="line">        # æ‰€ä»¥æ•æ‰åˆ°çš„å¼‚å¸¸å¯¹è±¡çš„å±æ€§åº”è¯¥æ˜¯ä¸€ä¸ªæ•´ä½“ï¼Œä½œä¸ºerr.argsè¿™ä¸ªå…ƒç»„çš„ä¸€ä¸ªå‚æ•°</span><br><span class="line">        detail = err.args[0]</span><br><span class="line">        print(&#x27;ShortInputException: è¾“å…¥çš„é•¿åº¦æ˜¯ %d,é•¿åº¦è‡³å°‘åº”æ˜¯ %d&#x27; % (detail.length, detail.atleast))</span><br><span class="line">    else:</span><br><span class="line">        print(&#x27;æ²¡æœ‰å¼‚å¸¸å‘ç”Ÿ.&#x27;)</span><br><span class="line"></span><br><span class="line">main()</span><br></pre></td></tr></table></figure>

<h4 id="8-withè¯­å¥"><a href="#8-withè¯­å¥" class="headerlink" title="8. withè¯­å¥"></a>8. withè¯­å¥</h4><ul>
<li><p><strong>ä¸Šä¸‹æ–‡ç®¡ç†å™¨</strong>ï¼šå¦‚æœä¸€ä¸ªç±»å®ç°äº†ç‰¹æ®Šæ–¹æ³•<strong>__enter__()å’Œ__exit__()<strong>ï¼Œå°±ç§°è¿™ä¸ªç±»å¯¹è±¡éµå®ˆäº†</strong>ä¸Šä¸‹æ–‡ç®¡ç†åè®®</strong>ï¼Œå¹¶ç§°è¿™ä¸ªç±»å¯¹è±¡çš„å®ä¾‹å¯¹è±¡ä¸º<strong>ä¸Šä¸‹æ–‡ç®¡ç†å™¨</strong></p>
</li>
<li><p>withè¯­å¥ç®€ä»‹ï¼š</p>
<ol>
<li>withè¯­å¥ä¼šè®©ä¸Šä¸‹æ–‡ç®¡ç†å™¨åˆ›å»ºä¸€ä¸ª<strong>è¿è¡Œæ—¶ä¸Šä¸‹æ–‡</strong></li>
<li>å½“è¿›å…¥<strong>è¿è¡Œæ—¶ä¸Šä¸‹æ–‡</strong>æ—¶è‡ªåŠ¨è°ƒç”¨ç‰¹æ®Šæ–¹æ³•__enter__()</li>
<li>å½“ç¦»å¼€<strong>è¿è¡Œæ—¶ä¸Šä¸‹æ–‡</strong>æ—¶è‡ªåŠ¨è°ƒç”¨ç‰¹æ®Šæ–¹æ³•__exit__()</li>
</ol>
</li>
<li><p>withè¯­å¥çŸ¥è¯†ç‚¹ï¼š</p>
<ol>
<li><strong>ç‰¹æ®Šæ–¹æ³•__exit__()æ€»ä¼šè¢«è°ƒç”¨</strong>ï¼Œä¸finallyç›¸ä¼¼ï¼Œæ‰€ä»¥é€šå¸¸åœ¨ç‰¹æ®Šæ–¹æ³•__exit__()ä¸­é‡Šæ”¾èµ„æº</li>
<li>å½“withè¯­å¥ä½“ä¸­äº§ç”Ÿäº†å¼‚å¸¸ï¼Œé‚£ä¹ˆ<strong>sys.exc_info()çš„è¿”å›å€¼ä¸­ä¸‰ä¸ªå…ƒç´ ä¼šè¢«è‡ªåŠ¨ä¼ é€’ç»™ç‰¹æ®Šæ–¹æ³•__exit__()çš„å½¢å‚exc_typeã€exc_valå’Œexc_tb</strong></li>
</ol>
</li>
<li><p>withè¯­å¥<strong>æ‰§è¡Œæµç¨‹</strong>ï¼ˆä¸­æ‹¬å·[]å†…å®¹è¡¨ç¤ºå¯é€‰ï¼‰ï¼š</p>
<ol>
<li><p>è®¡ç®—ä¸Šä¸‹æ–‡è¡¨è¾¾å¼ï¼Œè¿”å›ä¸€ä¸ªä¸Šä¸‹æ–‡ç®¡ç†å™¨ï¼Œå¹¶åˆ›å»ºä¸€ä¸ªè¿è¡Œæ—¶ä¸Šä¸‹æ–‡</p>
</li>
<li><p>è¿›å…¥è¿è¡Œæ—¶ä¸Šä¸‹æ–‡ï¼Œè‡ªåŠ¨è°ƒç”¨ä¸Šä¸‹æ–‡ç®¡ç†å™¨çš„ç‰¹æ®Šæ–¹æ³•__enter__()</p>
</li>
<li><p>[å°†ç‰¹æ®Šæ–¹æ³•__enter__()çš„è¿”å›å€¼èµ‹å€¼ç»™å˜é‡ï¼Œå¦‚æœæä¾›çš„è¯]</p>
</li>
<li><p>æ‰§è¡Œwithè¯­å¥ä½“[ï¼Œå¯¹å˜é‡è¿›è¡Œæ“ä½œ]</p>
</li>
<li><p>åˆ¤æ–­withè¯­å¥ä½“æ˜¯å¦äº§ç”Ÿå¼‚å¸¸ï¼ŒæŠ›å‡ºå¼‚å¸¸åˆ™ç»ˆæ­¢æ‰§è¡Œwithè¯­å¥ä½“ï¼ŒæœªæŠ›å‡ºå¼‚å¸¸åˆ™ç»§ç»­æ‰§è¡Œ</p>
</li>
<li><p>æ— è®ºæ˜¯å¦æŠ›å‡ºå¼‚å¸¸ï¼Œéƒ½ç¦»å¼€è¿è¡Œæ—¶ä¸Šä¸‹æ–‡ï¼Œè‡ªåŠ¨è°ƒç”¨ä¸Šä¸‹æ–‡ç®¡ç†å™¨çš„ç‰¹æ®Šæ–¹æ³•__exit__()</p>
</li>
<li><p><strong>åœ¨__exit__()æ–¹æ³•ä¸­ï¼Œå†æ¬¡åˆ¤æ–­æ˜¯å¦æŠ›å‡ºå¼‚å¸¸ï¼Œå¦‚æœå¼‚å¸¸å¯¹è±¡ä¸ºNoneï¼Œåˆ™è®¤ä¸ºæ²¡æœ‰å¼‚å¸¸ï¼Œè¿”å›å€¼ä¸ºTrueï¼›å¦‚æœæœ‰å¼‚å¸¸ï¼Œåˆ™å¯ä»¥å¤„ç†å¼‚å¸¸å¹¶è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦éœ€è¦ç»§ç»­ä¼ æ’­å¼‚å¸¸</strong></p>
</li>
</ol>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">class FileManager:</span><br><span class="line">    def __init__(self, filename, mode):</span><br><span class="line">        self.filename = filename</span><br><span class="line">        self.mode = mode</span><br><span class="line">        self.file = None</span><br><span class="line"></span><br><span class="line">    def __enter__(self):</span><br><span class="line">        print(&#x27;ç‰¹æ®Šæ–¹æ³•__enter__()è¢«è°ƒç”¨&#x27;)</span><br><span class="line">        self.file = open(self.filename, self.mode)</span><br><span class="line">        return self.file</span><br><span class="line"></span><br><span class="line">    def __exit__(self, exc_type, exc_value, traceback):</span><br><span class="line">        print(&#x27;ç‰¹æ®Šæ–¹æ³•__exit__()è¢«è°ƒç”¨&#x27;)</span><br><span class="line">        if exc_type is not None:  # åˆ¤æ–­å¼‚å¸¸å¯¹è±¡æ˜¯å¦ä¸ºNone</span><br><span class="line">            # å‘ç”Ÿå¼‚å¸¸æ—¶çš„å¤„ç†</span><br><span class="line">            print(f&quot;å¼‚å¸¸çš„é”™è¯¯ä¿¡æ¯: &#123;exc_value&#125;&quot;)</span><br><span class="line">            print(f&quot;å¼‚å¸¸è°ƒç”¨å †æ ˆçš„è·Ÿè¸ªä¿¡æ¯: &#123;traceback&#125;&quot;)</span><br><span class="line">        self.file.close()</span><br><span class="line">        return True</span><br><span class="line">        # __exit__()æ–¹æ³•çš„è¿”å›å€¼ä¸ºTrueæ—¶ï¼Œå°†æŠ‘åˆ¶å¼‚å¸¸çš„ä¼ æ’­ï¼Œè€Œè¿”å›Falseæˆ–Noneæ—¶ï¼Œå°†ç»§ç»­ä¼ æ’­å¼‚å¸¸</span><br><span class="line"></span><br><span class="line">    @staticmethod</span><br><span class="line">    def do_sth():</span><br><span class="line">        print(&#x27;æ–¹æ³•do_sth()è¢«è°ƒç”¨&#x27;)</span><br><span class="line">        print(1 / 0)</span><br><span class="line"></span><br><span class="line"># æ­¤æ—¶withè¯­å¥ä½“ä¸­äº§ç”Ÿå¼‚å¸¸ï¼Œè‹¥__exit__()æ–¹æ³•è¿”å›Trueåˆ™æ­£å¸¸æ‰§è¡Œï¼Œå¦åˆ™ç›´æ¥æŠ›å‡ºå¼‚å¸¸</span><br><span class="line">with FileManager(&#x27;myfile.txt&#x27;, &#x27;w+&#x27;) as fm:</span><br><span class="line">    &quot;&quot;&quot;fm.do_sth()</span><br><span class="line">    æ³¨æ„ï¼šæ­¤å¤„fmå¹¶ä¸æ˜¯ç±»FileManagerçš„å®ä¾‹ï¼Œè€Œæ˜¯ä¸€ä¸ªæ–‡ä»¶å¯¹è±¡ï¼Œ</span><br><span class="line">    ç”±äºæ–‡ä»¶å¯¹è±¡å¹¶æ²¡æœ‰do_sthè¿™ä¸ªæ–¹æ³•ï¼Œå› æ­¤è°ƒç”¨do_sthæ–¹æ³•ä¼šå¯¼è‡´é”™è¯¯</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    FileManager.do_sth()</span><br><span class="line">&quot;&quot;&quot;è¾“å‡ºé¡ºåºä¸æ‰§è¡Œæµç¨‹ä¸€è‡´ï¼š</span><br><span class="line">ç‰¹æ®Šæ–¹æ³•__enter__()è¢«è°ƒç”¨</span><br><span class="line">æ–¹æ³•do_sth()è¢«è°ƒç”¨</span><br><span class="line">ç‰¹æ®Šæ–¹æ³•__exit__()è¢«è°ƒç”¨</span><br><span class="line">å¼‚å¸¸çš„é”™è¯¯ä¿¡æ¯: division by zero</span><br><span class="line">å¼‚å¸¸è°ƒç”¨å †æ ˆçš„è·Ÿè¸ªä¿¡æ¯: &lt;traceback object at 0x102dd8580&gt;</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line"></span><br><span class="line"># å½“withè¯­å¥ä½“ä¸­äº§ç”Ÿå¼‚å¸¸ï¼Œå¹¶ä¸”ç‰¹æ®Šæ–¹æ³•__exit__()æ²¡æœ‰è¿”å›Trueæ—¶ï¼Œ</span><br><span class="line"># ä¸ºäº†è®©ç¨‹åºèƒ½å¤Ÿç»§ç»­æ‰§è¡Œï¼Œå¯ä»¥ä½¿ç”¨try-exceptè¯­å¥å¯¹æŠ›å‡ºçš„å¼‚å¸¸å®ä¾‹å¯¹è±¡è¿›è¡Œæ•è·å’Œå¤„ç†</span><br><span class="line"># try:</span><br><span class="line">#     with FileManager(&#x27;myfile.txt&#x27;, &#x27;w+&#x27;) as fm:</span><br><span class="line">#         FileManager.do_sth()</span><br><span class="line"># except ZeroDivisionError as err:</span><br><span class="line">#     print(err)</span><br><span class="line"># æ­¤æ—¶è¾“å‡ºå†…å®¹æ¯”ä¸Šé¢å¤šä¸€è¡Œprint(err)çš„å†…å®¹ï¼šdivision by zero</span><br></pre></td></tr></table></figure>

<h2 id="ä¸ƒã€æ–‡ä»¶è¯»å†™"><a href="#ä¸ƒã€æ–‡ä»¶è¯»å†™" class="headerlink" title="ä¸ƒã€æ–‡ä»¶è¯»å†™"></a>ä¸ƒã€æ–‡ä»¶è¯»å†™</h2><blockquote>
<p><strong>æ–‡ä»¶è¯»å†™ï¼šæ–‡ä»¶è¯»å†™æ˜¯ä¸€ç§å¸¸è§çš„IOæ“ä½œï¼ŒæŠŠæ•°æ®å­˜å‚¨åˆ°æ–‡ä»¶ä¸­æ˜¯æ•°æ®å­˜å‚¨çš„æ–¹å¼ä¹‹ä¸€ã€‚</strong>ç”±äºæ“ä½œI&#x2F;Oçš„èƒ½åŠ›æ˜¯ç”±æ“ä½œç³»ç»Ÿæä¾›çš„ï¼Œä¸”ç°ä»£æ“ä½œç³»ç»Ÿä¸å…è®¸æ™®é€šç¨‹åºç›´æ¥æ“ä½œç£ç›˜ï¼Œæ‰€ä»¥è¯»å†™æ–‡ä»¶æ—¶éœ€è¦è¯·æ±‚æ“ä½œç³»ç»Ÿæ‰“å¼€ä¸€ä¸ªå¯¹è±¡ï¼ˆé€šå¸¸è¢«ç§°ä¸ºæ–‡ä»¶æè¿°ç¬¦ï¼Œ ç®€ç§°fdï¼‰ï¼Œå³ä¸º<strong>æ–‡ä»¶å¯¹è±¡</strong></p>
<p><strong>æ–‡ä»¶å¯¹è±¡</strong>ï¼šæ–‡ä»¶å¯¹è±¡æ˜¯è¿­ä»£å™¨å¯¹è±¡ï¼Œå¯ä»¥è°ƒç”¨next()æ–¹æ³•é€è¡Œè¯»å–æ–‡ä»¶å†…å®¹ã€‚å½“è¾¾åˆ°æ–‡ä»¶çš„æœ«å°¾æ—¶ï¼Œå°†å¼•å‘StopIterationå¼‚å¸¸ï¼Œæ‰€ä»¥é€šå¸¸ä¼šä½¿ç”¨forå¾ªç¯æ¥è¿­ä»£æ–‡ä»¶å¯¹è±¡ï¼Œå®ƒä¼šè‡ªåŠ¨å¤„ç†StopIterationå¼‚å¸¸</p>
<p><strong>æ–‡ä»¶æ‰“å¼€æ¨¡å¼ï¼š</strong></p>
<ul>
<li>â€˜râ€™ï¼šä»¥åªè¯»æ–¹å¼æ‰“å¼€ï¼Œåªèƒ½è¯»æ–‡ä»¶ã€‚ä¸å­˜åœ¨åˆ™æŠ›å‡ºå¼‚å¸¸ï¼ˆ<strong>é»˜è®¤æ‰“å¼€æ¨¡å¼</strong>ï¼‰</li>
<li>â€˜wâ€™ï¼šä»¥åªå†™æ–¹å¼æ‰“å¼€ï¼Œåªèƒ½å†™æ–‡ä»¶ã€‚å­˜åœ¨åˆ™æ¸…ç©ºæ–‡ä»¶ï¼Œä¸å­˜åœ¨åˆ™åˆ›å»ºæ–‡ä»¶</li>
<li>â€˜aâ€™ï¼šä»¥è¿½åŠ æ–¹å¼æ‰“å¼€ï¼Œåªèƒ½å†™æ–‡ä»¶ã€‚å­˜åœ¨åˆ™ä»æ–‡ä»¶æœ«å°¾å¼€å§‹å†™ï¼Œä¸å­˜åœ¨åˆ™åˆ›å»ºæ–‡ä»¶</li>
<li>â€˜xâ€™ï¼šä»¥åªå†™æ–¹å¼æ‰“å¼€ï¼Œåªèƒ½å†™æ–‡ä»¶ã€‚å­˜åœ¨åˆ™æŠ›å‡ºå¼‚å¸¸ï¼Œä¸å­˜åœ¨åˆ™åˆ›å»ºæ–‡ä»¶ï¼ˆç‹¬å åˆ›å»ºï¼‰</li>
<li>â€˜+â€™ï¼šä»¥è¯»å†™æ–¹å¼æ‰“å¼€ï¼Œå¯ä»¥è¯»å†™æ–‡ä»¶ã€‚ä¸èƒ½å•ç‹¬ä½¿ç”¨ï¼Œåªèƒ½æ·»åŠ åˆ°å…¶ä»–æ–¹å¼çš„åé¢ï¼šâ€™r+â€™ã€â€™w+â€™ã€â€™a+â€™ã€â€™x+â€™</li>
<li>â€˜tâ€™ï¼šä»¥æ–‡æœ¬æ–¹å¼æ‰“å¼€ï¼ˆ<strong>é»˜è®¤æ–‡æœ¬æ ¼å¼</strong>ï¼‰é€šå¸¸çœç•¥ï¼Œâ€™rtâ€™ç­‰ä»·äºâ€™râ€™ã€‚ä¸èƒ½å•ç‹¬ä½¿ç”¨ï¼Œåªèƒ½æ·»åŠ åˆ°å…¶ä»–æ–¹å¼çš„åé¢</li>
<li>â€˜bâ€™ï¼šä»¥äºŒè¿›åˆ¶æ–¹å¼æ‰“å¼€ã€‚ä¾‹å¦‚ï¼šæ‰“å¼€å›¾ç‰‡ã€è§†é¢‘ç­‰ï¼Œä¸èƒ½å•ç‹¬ä½¿ç”¨ï¼Œåªèƒ½æ·»åŠ åˆ°å…¶ä»–æ–¹å¼çš„åé¢</li>
</ul>
</blockquote>
<h4 id="1-æ‰“å¼€æ–‡ä»¶"><a href="#1-æ‰“å¼€æ–‡ä»¶" class="headerlink" title="1. æ‰“å¼€æ–‡ä»¶"></a>1. æ‰“å¼€æ–‡ä»¶</h4><ul>
<li>ç®€ä»‹ï¼š<strong>å†…ç½®å‡½æ•°open()ç”¨äºæ‰“å¼€æ–‡ä»¶ï¼Œå…¶è¿”å›å€¼æ˜¯ä¸€ä¸ªæ–‡ä»¶å¯¹è±¡ï¼Œé€šè¿‡è¯¥å¯¹è±¡å³å¯æ“ä½œæ–‡ä»¶</strong><ul>
<li><strong>å‚æ•°1æ˜¯æ–‡ä»¶çš„è·¯å¾„</strong>ï¼Œå¿…é¡»æŒ‡å®šï¼Œæ—¢å¯ä»¥æŒ‡å®šç»å¯¹è·¯å¾„ï¼Œä¹Ÿå¯ä»¥æŒ‡å®šç›¸å¯¹è·¯å¾„</li>
<li><strong>å‚æ•°2æ˜¯æ–‡ä»¶çš„æ‰“å¼€æ–¹å¼</strong>ï¼Œé»˜è®¤å€¼æ˜¯â€™râ€™ï¼Œè¡¨ç¤ºä»¥åªè¯»æ–¹å¼æ‰“å¼€</li>
<li>å…¶ä½™å‚æ•°éƒ½æ˜¯å¸¦é»˜è®¤å€¼çš„ï¼Œå¯å‚è€ƒå®˜æ–¹æ–‡æ¡£ï¼Œæˆ–ç›´æ¥è½¬åˆ°open()å‡½æ•°å£°æ˜å¤„æŸ¥çœ‹</li>
</ul>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&quot;&quot;&quot;myfile.textæ–‡ä»¶åœ¨ä¸æ‰§è¡Œæ–‡ä»¶åŒçº§çš„ç›®å½•ä¸­ï¼Œå…¶å†…å®¹ä¸ºï¼š</span><br><span class="line">1234567890</span><br><span class="line">abcdefghijklmn</span><br><span class="line">opqrstuvwxyz</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line"></span><br><span class="line"># æ‰“å¼€æ–¹å¼ä¸º&#x27;r&#x27;æ—¶ï¼Œå¯ä»¥çœç•¥ï¼Œå³ï¼šfile = open(&#x27;myfile.txt&#x27;)</span><br><span class="line">file = open(&#x27;myfile.txt&#x27;, &#x27;r&#x27;)</span><br><span class="line">print(file)  # `&lt;_io.TextIOWrapper name=&#x27;myfile.txt&#x27; mode=&#x27;r&#x27; encoding=&#x27;UTF-8&#x27;&gt;`</span><br></pre></td></tr></table></figure>

<h4 id="2-è¯»æ–‡ä»¶"><a href="#2-è¯»æ–‡ä»¶" class="headerlink" title="2. è¯»æ–‡ä»¶"></a>2. è¯»æ–‡ä»¶</h4><ul>
<li>ç®€ä»‹ï¼š<strong>è¯»å†™æ–‡ä»¶ä¹‹å‰ï¼Œå¿…é¡»å…ˆæ‰“å¼€æ–‡ä»¶</strong>ã€‚å¯ä»¥è°ƒç”¨å†…ç½®å‡½æ•°open()å¹¶ä»¥åªè¯»æˆ–è¯»å†™æ–¹å¼æ‰“å¼€æ–‡ä»¶ï¼Œè¿”å›çš„æ–‡ä»¶å¯¹è±¡æœ‰ä¸‰ä¸ªç”¨äºè¯»æ–‡ä»¶çš„æ–¹æ³•ï¼Œåˆ†åˆ«ä¸ºread()ã€readline()ã€readlines()</li>
<li><strong>read()ï¼šä¸ä¼ å…¥å‚æ•°æ—¶è¯»åˆ°æ–‡ä»¶å°¾ï¼Œä¼ å…¥å‚æ•°æ—¶sizeç”¨äºæŒ‡å®šå­—èŠ‚æ•°</strong><ul>
<li>ç”¨æ³•ï¼šå½“æŒ‡å®šçš„å­—èŠ‚æ•°å°äºè¯»åˆ°æ–‡ä»¶å°¾çš„å­—èŠ‚æ•°æ—¶ï¼Œè¯»åˆ°æŒ‡å®šçš„å­—èŠ‚æ•°ï¼›å½“æŒ‡å®šçš„å­—èŠ‚æ•°å¤§äºè¯»åˆ°æ–‡ä»¶å°¾çš„å­—èŠ‚æ•°æ—¶ï¼Œæˆ–å½“æŒ‡å®šçš„å­—èŠ‚æ•°å°äº0æ—¶ï¼Œè¯»åˆ°æ–‡ä»¶å°¾</li>
<li><strong>æ³¨æ„ï¼šæŒ‡å®šçš„sizeä¸è¦è¶…è¿‡é»˜è®¤ç¼“å†²åŒºçš„å¤§å°ã€‚</strong>å¦‚æœæ–‡ä»¶å¾ˆå¤§ï¼Œè°ƒç”¨read()ä¸€æ¬¡æ€§è¯»å–æ•´ä¸ªæ–‡ä»¶ä¼šå¯¼è‡´å†…å­˜å ç”¨è¾ƒå¤§ï¼Œå› æ­¤æœ€å¥½å¯ä»¥å¤šæ¬¡è°ƒç”¨ï¼Œå¦åˆ™å¯èƒ½å¹¶å–ä¸åˆ°æŒ‡å®šçš„å­—èŠ‚æ•°ï¼Œ<strong>é€šè¿‡æ ‡å‡†åº“ä¸­æ¨¡å—ioçš„å±æ€§DEFAULT_BUFFER_SIZEå¯ä»¥æŸ¥çœ‹é»˜è®¤ç¼“å†²åŒºçš„å¤§å°</strong></li>
</ul>
</li>
<li><strong>readline()ï¼šä¸ä¼ å…¥å‚æ•°æ—¶è¯»åˆ°è¡Œå°¾ï¼Œä¼ å…¥å‚æ•°æ—¶sizeç”¨äºæŒ‡å®šå­—èŠ‚æ•°</strong><ul>
<li>ç”¨æ³•ï¼šå½“æŒ‡å®šçš„å­—èŠ‚æ•°å°äºè¯»åˆ°è¡Œå°¾çš„å­—èŠ‚æ•°æ—¶ï¼Œè¯»åˆ°æŒ‡å®šçš„å­—èŠ‚æ•°ï¼›å½“æŒ‡å®šçš„å­—èŠ‚æ•°å¤§äºè¯»åˆ°è¡Œå°¾çš„å­—èŠ‚æ•°æ—¶ï¼Œæˆ–å½“æŒ‡å®šçš„å­—èŠ‚æ•°å°äº0æ—¶ï¼Œè¯»åˆ°è¡Œå°¾</li>
</ul>
</li>
<li><strong>readlines()ï¼šä¸ä¼ å…¥å‚æ•°æ—¶è¯»åˆ°æ–‡ä»¶å°¾ï¼Œå¹¶è¿”å›æ¯ä¸€è¡Œç»„æˆçš„åˆ—è¡¨ï¼›ä¼ å…¥å‚æ•°æ—¶sizeç”¨äºæŒ‡å®šå­—èŠ‚æ•°</strong><ul>
<li>ç”¨æ³•ï¼šå½“æŒ‡å®šçš„å­—èŠ‚æ•°å°äºè¯»åˆ°æ–‡ä»¶å°¾çš„å­—èŠ‚æ•°æ—¶ï¼Œä¸€ç›´è¯»å–åˆ°æœ€åä¸€ä¸ªå­—ç¬¦æ‰€åœ¨è¡Œçš„è¡Œå°¾ï¼›å½“æŒ‡å®šçš„å­—èŠ‚æ•°å¤§äºè¯»åˆ°æ–‡ä»¶å°¾çš„å­—èŠ‚æ•°æ—¶ï¼Œæˆ–å½“æŒ‡å®šçš„å­—èŠ‚æ•°å°äº0æ—¶ï¼Œè¯»åˆ°æ–‡ä»¶å°¾</li>
<li><strong>æ³¨æ„ï¼šåŒæ ·æŒ‡å®šçš„sizeä¸è¦è¶…è¿‡é»˜è®¤ç¼“å†²åŒºçš„å¤§å°</strong>ã€‚ä¸€æ¬¡æ€§è¯»å–æ•´ä¸ªæ–‡ä»¶ä¼šå¯¼è‡´å†…å­˜å ç”¨è¾ƒå¤§ï¼Œè€Œå–ä¸åˆ°æŒ‡å®šçš„å­—èŠ‚æ•°</li>
</ul>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">&quot;&quot;&quot;myfile.textæ–‡ä»¶åœ¨ä¸æ‰§è¡Œæ–‡ä»¶åŒçº§çš„ç›®å½•ä¸­ï¼Œå…¶å†…å®¹ä¸ºï¼š</span><br><span class="line">1234567890</span><br><span class="line">abcdefghijklmn</span><br><span class="line">opqrstuvwxyz</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">import io</span><br><span class="line"></span><br><span class="line">print(io.DEFAULT_BUFFER_SIZE)  # 8192</span><br><span class="line"></span><br><span class="line">file = open(&#x27;myfile.txt&#x27;, &#x27;r&#x27;)</span><br><span class="line">print(file.read())  # 1234567890 abcdefghijklmn opqrstuvwxyz</span><br><span class="line">file.close()  # æ–‡ä»¶åœ¨ä½¿ç”¨å®Œæ¯•åå¿…é¡»è¦å…³é—­</span><br><span class="line"></span><br><span class="line">file = open(&#x27;myfile.txt&#x27;)</span><br><span class="line">print(file.read(12))  # 1234567890 a</span><br><span class="line">print(file.read(3))  # æ²¡æœ‰å…³é—­æ–‡ä»¶ï¼Œæ‰€ä»¥å¯ä»¥ç»§ç»­æå– bcd</span><br><span class="line">print(file.read(-5))  # å‚æ•°ä¸ºè´Ÿæ•°æ—¶è¯»åˆ°æ–‡ä»¶å°¾ efghijklmn opqrstuvwxyz</span><br><span class="line">file.close()</span><br><span class="line"></span><br><span class="line">print(&#x27;-&#x27; * 18)</span><br><span class="line"></span><br><span class="line">file = open(&#x27;myfile.txt&#x27;, &#x27;r&#x27;)</span><br><span class="line">print(file.readline())  # 1234567890\n</span><br><span class="line">print(file.readline(7))  # abcdefg</span><br><span class="line">print(file.readline(10))  # hijklmn\n</span><br><span class="line">print(file.readline(-5))  # opqrstuvwxyz</span><br><span class="line">file.close()</span><br><span class="line"></span><br><span class="line">print(&#x27;-&#x27; * 18)</span><br><span class="line"></span><br><span class="line">file = open(&#x27;myfile.txt&#x27;, &#x27;r&#x27;)</span><br><span class="line">print(file.readlines())  # [&#x27;1234567890\n&#x27;, &#x27;abcdefghijklmn\n&#x27;, &#x27;opqrstuvwxyz&#x27;]</span><br><span class="line">file.close()</span><br><span class="line"></span><br><span class="line">file = open(&#x27;myfile.txt&#x27;)</span><br><span class="line">print(file.readlines(8))  # [&#x27;1234567890\n&#x27;]</span><br><span class="line">print(file.readlines(50))  # [&#x27;abcdefghijklmn\n&#x27;, &#x27;opqrstuvwxyz&#x27;]</span><br><span class="line">file.close()</span><br><span class="line"></span><br><span class="line">file = open(&#x27;myfile.txt&#x27;)</span><br><span class="line">print(file.readlines(13))  # [&#x27;1234567890\n&#x27;, &#x27;abcdefghijklmn\n&#x27;]</span><br><span class="line">print(file.readlines(-5))  # [&#x27;opqrstuvwxyz&#x27;]</span><br><span class="line">print(file.readlines())  # []</span><br><span class="line">file.close()</span><br></pre></td></tr></table></figure>

<h4 id="3-å†™æ–‡ä»¶"><a href="#3-å†™æ–‡ä»¶" class="headerlink" title="3. å†™æ–‡ä»¶"></a>3. å†™æ–‡ä»¶</h4><ul>
<li>ç®€ä»‹ï¼š<strong>å†™æ–‡ä»¶ä¹‹å‰ï¼Œå¿…é¡»å…ˆæ‰“å¼€æ–‡ä»¶</strong>ã€‚å¯ä»¥è°ƒç”¨å†…ç½®å‡½æ•°open()å¹¶ä»¥åªå†™ã€è¿½åŠ æˆ–è¯»å†™æ–¹å¼æ‰“å¼€æ–‡ä»¶ï¼Œè¿”å›çš„æ–‡ä»¶å¯¹è±¡æœ‰ä¸¤ä¸ªç”¨äºå†™æ–‡ä»¶çš„æ–¹æ³•ï¼Œåˆ†åˆ«ä¸º<strong>write()ã€writelines()</strong></li>
<li>write(str)ï¼š<strong>ç”¨äºå°†æŒ‡å®šçš„å­—ç¬¦ä¸²å†™å…¥åˆ°æ–‡ä»¶ä¸­ï¼Œè¿”å›å†™å…¥çš„å­—ç¬¦æ•°ï¼Œå³æŒ‡å®šçš„å­—ç¬¦ä¸²çš„é•¿åº¦</strong></li>
<li>writelines(seq)ï¼š<strong>ç”¨äºå°†æŒ‡å®šçš„å­—ç¬¦ä¸²åºåˆ—ä¾æ¬¡å†™å…¥åˆ°æ–‡ä»¶ä¸­ï¼Œæ— è¿”å›å€¼</strong><ul>
<li>åŸç†ï¼šè°ƒç”¨åï¼Œä¼šå…ˆå°†æŒ‡å®šçš„å­ç¬¦ä¸²å†™å…¥åˆ°ç¼“å­˜ä¸­ï¼Œæ‰‹åŠ¨è°ƒç”¨æ–¹æ³•flush()æˆ–close()ä¹‹åï¼Œæˆ–è€…å½“å†™å…¥çš„æ•°æ®é‡å¤§äºç­‰äºç¼“å­˜çš„å®¹é‡æ—¶ï¼Œç¼“å­˜ä¸­çš„å­—ç¬¦ä¸²æ‰ä¼šè¢«å†™å…¥åˆ°æ–‡ä»¶ä¸­</li>
<li><strong>flush()æ–¹æ³•ï¼šç”¨äºåˆ·æ–°å†…éƒ¨ç¼“å†²åŒºï¼Œå³å°†ç¼“å†²åŒºä¸­çš„æ•°æ®ç«‹åˆ»å†™å…¥æ–‡ä»¶ï¼ˆä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæ–‡ä»¶å…³é—­åä¼šè‡ªåŠ¨åˆ·æ–°ç¼“å†²åŒºï¼‰</strong></li>
</ul>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">file = open(&#x27;myfile.txt&#x27;, &#x27;w&#x27;)</span><br><span class="line">print(file.write(&#x27;hello&#x27;))  # 5</span><br><span class="line">file.write(&#x27;python&#x27;)</span><br><span class="line">file.flush()</span><br><span class="line">file.close()</span><br><span class="line"></span><br><span class="line">file = open(&#x27;myfile.txt&#x27;, &#x27;a&#x27;)</span><br><span class="line">file.write(&#x27;hello&#x27;)</span><br><span class="line">file.write(&#x27;python&#x27;)</span><br><span class="line">file.close()</span><br><span class="line"># è¿½åŠ åï¼Œmyfile.txtä¸­å†…å®¹æ›´æ”¹ä¸ºï¼šhellopythonhellopython</span><br><span class="line"></span><br><span class="line">file = open(&#x27;myfile.txt&#x27;, &#x27;w&#x27;)</span><br><span class="line">file.writelines([&#x27;123\t&#x27;, &#x27;456\n&#x27;, &#x27;789&#x27;])</span><br><span class="line">file.close()</span><br><span class="line">&quot;&quot;&quot;myfile.txtä¸­å†…å®¹æ›´æ”¹ä¸ºï¼š</span><br><span class="line">123 456</span><br><span class="line">789</span><br><span class="line">&quot;&quot;&quot;</span><br></pre></td></tr></table></figure>

<h4 id="4-å…³é—­æ–‡ä»¶"><a href="#4-å…³é—­æ–‡ä»¶" class="headerlink" title="4. å…³é—­æ–‡ä»¶"></a>4. å…³é—­æ–‡ä»¶</h4><ul>
<li><p>ç®€ä»‹ï¼š<strong>æ–‡ä»¶åœ¨ä½¿ç”¨å®Œæ¯•åå¿…é¡»è¦å…³é—­</strong>ï¼Œè¿™æ˜¯å› ä¸ºæ–‡ä»¶å¯¹è±¡ä¼šå ç”¨æ“ä½œç³»ç»Ÿçš„èµ„æºï¼Œå¹¶ä¸”æ“ä½œç³»ç»Ÿåœ¨æŸä¸€æ—¶åˆ»æ‰€èƒ½æ‰“å¼€çš„æ–‡ä»¶æ•°é‡ä¹Ÿæ˜¯æœ‰é™çš„</p>
</li>
<li><p>æ³¨æ„ï¼š<strong>è¯»æ–‡ä»¶æˆ–å†™æ–‡ä»¶æ—¶éƒ½æœ‰å¯èƒ½å‘ç”Ÿå¼‚å¸¸ï¼Œä»è€Œå¯¼è‡´æ–¹æ³•close()ä¸ä¼šè¢«è°ƒç”¨ï¼Œæ–‡ä»¶æ²¡æœ‰å…³é—­</strong>ã€‚ä¸ºäº†ä¿è¯æ–¹æ³•close()æ€»èƒ½è¢«è°ƒç”¨ï¼Œå¯ä»¥æŠŠè¯»æ–‡ä»¶æˆ–å†™æ–‡ä»¶çš„æ“ä½œæ”¾åœ¨tryè¯­å¥å—ä¸­ï¼ŒæŠŠæ–¹æ³•close()çš„è°ƒç”¨æ”¾åœ¨finallyä»å¥ä¸­</p>
</li>
<li><p><strong>é‡ç‚¹ï¼šç”±äºæ–‡ä»¶å¯¹è±¡å®ç°äº†ç‰¹æ®Šæ–¹æ³•__enter__()å’Œ__exit__()ï¼Œæ‰€ä»¥æ–‡ä»¶å¯¹è±¡å¯ä»¥ä½œä¸ºä¸Šä¸‹æ–‡ç®¡ç†å™¨ã€‚å…¶ä¸­ç‰¹æ®Šæ–¹æ³•__enter__()ç”¨äºè¿”å›æ‰“å¼€çš„æ–‡ä»¶å¯¹è±¡ï¼Œç‰¹æ®Šæ–¹æ³•__exit__()ç”¨äºå…³é—­æ‰“å¼€çš„æ–‡ä»¶ï¼Œå› æ­¤æ“ä½œæ–‡ä»¶å¯¹è±¡å¸¸ç”¨withè¯­å¥æ¥å®ç°ï¼Œå› ä¸ºå…¶ä¸try-finallyè¯­å¥ç›¸æ¯”æ›´åŠ ç®€æ´</strong></p>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">file = open(&#x27;myfile.txt&#x27;, &#x27;w&#x27;)</span><br><span class="line">try:</span><br><span class="line">    file.write(&#x27;hello&#x27;)</span><br><span class="line">finally:</span><br><span class="line">    file.close()</span><br><span class="line"># myfile.txtæ–‡ä»¶å†…å®¹æ›´æ”¹ä¸ºï¼šhello</span><br><span class="line"></span><br><span class="line">with open(&#x27;myfile.txt&#x27;, &#x27;a&#x27;) as file:</span><br><span class="line">    file.write(&#x27;python&#x27;)</span><br><span class="line"># myfile.txtæ–‡ä»¶å†…å®¹æ›´æ”¹ä¸ºï¼šhellopython</span><br></pre></td></tr></table></figure>

<h4 id="5-æ–‡ä»¶æŒ‡é’ˆ"><a href="#5-æ–‡ä»¶æŒ‡é’ˆ" class="headerlink" title="5. æ–‡ä»¶æŒ‡é’ˆ"></a>5. æ–‡ä»¶æŒ‡é’ˆ</h4><ul>
<li><p>ç®€ä»‹ï¼š<strong>ä»»ä½•æ–‡ä»¶å¯¹è±¡éƒ½æœ‰ä¸€ä¸ªæ–‡ä»¶æŒ‡é’ˆï¼ŒæŒ‡å‘æ–‡ä»¶ä¸­çš„æŸä¸ªä½ç½®</strong>ã€‚è¯»å†™æ–‡ä»¶æ—¶ï¼Œæ˜¯ä»æ–‡ä»¶æŒ‡é’ˆçš„å½“å‰ä½ç½®å¼€å§‹è¯»å†™çš„ï¼Œåœ¨è¯»å†™çš„è¿‡ç¨‹ä¸­ï¼Œæ–‡ä»¶æŒ‡é’ˆä¼šéšä¹‹å¾€åç§»åŠ¨</p>
</li>
<li><p>æ‰“å¼€æ–‡ä»¶åæ–‡ä»¶æŒ‡é’ˆçš„ä½ç½®ï¼š</p>
<ul>
<li>ä»¥è¿½åŠ æ–¹å¼æ‰“å¼€æ–‡ä»¶åï¼Œæ–‡ä»¶æŒ‡é’ˆæŒ‡å‘æ–‡ä»¶çš„ç»“å°¾ä½ç½®</li>
<li>ä»¥å…¶ä»–æ–¹å¼æ‰“å¼€æ–‡ä»¶åï¼Œæ–‡ä»¶æŒ‡é’ˆæŒ‡å‘æ–‡ä»¶çš„èµ·å§‹ä½ç½®</li>
<li><strong>å¯ä»¥è°ƒç”¨æ–‡ä»¶å¯¹è±¡çš„æ–¹æ³•tell()ï¼Œè¿”å›æ–‡ä»¶æŒ‡é’ˆçš„å½“å‰ä½ç½®</strong></li>
</ul>
</li>
<li><p>è‡ªç”±ç§»åŠ¨æ–‡ä»¶æŒ‡é’ˆï¼š<strong>å¯ä»¥è°ƒç”¨æ–‡ä»¶å¯¹è±¡çš„æ–¹æ³•seek(offset[, whence])<strong>ï¼Œå°†æ–‡ä»¶æŒ‡é’ˆè‡ªç”±ç§»åŠ¨åˆ°å‚æ•°æŒ‡å®šçš„ä½ç½®ï¼Œå…¶ä¸­å‚æ•°offsetè¡¨ç¤ºåç§»é‡ï¼Œå¯ä»¥ä¸ºè´Ÿæ•°ã€‚</strong>å‚æ•°whenceæ˜¯å¯é€‰çš„</strong>ï¼Œè¡¨ç¤ºç›¸å¯¹åç§»é‡ï¼Œæœ‰ä¸‰ç§å–å€¼ï¼š</p>
<ul>
<li>os.SEEK_SETï¼šç›¸å¯¹æ–‡ä»¶çš„èµ·å§‹ä½ç½®ï¼Œå€¼ä¸º0ï¼Œé»˜è®¤å€¼</li>
<li>os.SEEK_CURï¼šç›¸å¯¹æ–‡ä»¶çš„å½“å‰ä½ç½®ï¼Œå€¼ä¸º1</li>
<li>os.SEEK_ENDï¼šç›¸å¯¹æ–‡ä»¶çš„ç»“å°¾ä½ç½®ï¼Œå€¼ä¸º2</li>
<li><strong>æ³¨æ„ï¼šä»¥æ–‡æœ¬æ–¹å¼æ‰“å¼€çš„æ–‡ä»¶ï¼Œä¸æ”¯æŒä½¿ç”¨å‚æ•°whenceï¼Œåªæ”¯æŒç›¸å¯¹æ–‡ä»¶çš„èµ·å§‹ä½ç½®</strong></li>
</ul>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">import os</span><br><span class="line"></span><br><span class="line">def reset(data):</span><br><span class="line">    with open(&#x27;myfile.txt&#x27;, &#x27;w&#x27;) as file:</span><br><span class="line">        file.write(data)</span><br><span class="line"></span><br><span class="line">reset(&#x27;0123456789&#x27;)  # åˆ›å»ºæˆ–è¦†ç›–æ•°æ®ä¸º 0123456789 çš„æ–‡æœ¬æ–‡ä»¶&#x27;myfile.txt&#x27;</span><br><span class="line"></span><br><span class="line">with open(&#x27;myfile.txt&#x27;, &#x27;a&#x27;) as file:</span><br><span class="line">    print(file.tell())  # 10</span><br><span class="line"></span><br><span class="line">with open(&#x27;myfile.txt&#x27;, &#x27;r&#x27;) as file:</span><br><span class="line">    print(file.tell())  # 0</span><br><span class="line">    file.read(3)</span><br><span class="line">    print(file.tell())  # 3</span><br><span class="line">    file.read()</span><br><span class="line">    print(file.tell())  # 10</span><br><span class="line"></span><br><span class="line">with open(&#x27;myfile.txt&#x27;, &#x27;a&#x27;) as file:</span><br><span class="line">    print(file.tell())  # 10</span><br><span class="line">    file.write(&#x27;hello&#x27;)</span><br><span class="line">    print(file.tell())  # 15</span><br><span class="line"></span><br><span class="line">reset(&#x27;0123456789&#x27;)  # å°†æ–‡ä»¶å†…æ•°æ®å¤åŸåˆ°0123456789</span><br><span class="line"></span><br><span class="line">with open(&#x27;myfile.txt&#x27;, &#x27;rb+&#x27;) as file:</span><br><span class="line">    print(file.tell())  # 0</span><br><span class="line"></span><br><span class="line">    # file.seek(3, os.SEEK_SET)</span><br><span class="line">    # file.seek(3, 0)</span><br><span class="line">    file.seek(3)</span><br><span class="line">    print(file.tell())  # 3</span><br><span class="line"></span><br><span class="line">    # os.SEEK_CURè¡¨ç¤ºç›¸å¯¹äºå½“å‰ä½ç½®çš„å¯»å€ï¼Œ</span><br><span class="line">    # æ–‡æœ¬æ–‡ä»¶å¯¹è±¡å¹¶ä¸æ”¯æŒè¿™ç§æ“ä½œï¼Œæ‰€ä»¥ä¸€å®šè¦ç¡®ä¿ä»¥äºŒè¿›åˆ¶è¯»å†™æ¨¡å¼æ‰“å¼€æ–‡ä»¶</span><br><span class="line">    file.seek(4, os.SEEK_CUR)</span><br><span class="line">    print(file.tell())  # 7</span><br><span class="line"></span><br><span class="line">    file.seek(-2, os.SEEK_END)</span><br><span class="line">    print(file.tell())  # 8ï¼Œå³æ­¤æ—¶æŒ‡é’ˆç§»åŠ¨åˆ°äº†æ•°å­—7åé¢</span><br><span class="line"></span><br><span class="line">    file.write(b&#x27;Python&#x27;)  # åœ¨äºŒè¿›åˆ¶æ¨¡å¼ä¸‹æ‰“å¼€çš„æ–‡ä»¶ï¼Œå†™å…¥æ•°æ®ä¹Ÿä¸€å®šè¦æ˜¯äºŒè¿›åˆ¶æ•°æ®</span><br><span class="line">    print(file.tell())  # 14ï¼Œå†™å…¥æ•°æ®æ—¶å°†ä»æ•°å­—7åé¢å¼€å§‹è¦†ç›–</span><br><span class="line"></span><br><span class="line"># æœ€ç»ˆmyfile.txtä¸­çš„å†…å®¹ä¸ºï¼š01234567Python</span><br><span class="line">with open(&#x27;myfile.txt&#x27;, &#x27;r&#x27;) as file:</span><br><span class="line">    print(file.read())  # 01234567Python</span><br></pre></td></tr></table></figure>

<h2 id="å…«ã€å‡½æ•°è¿›é˜¶"><a href="#å…«ã€å‡½æ•°è¿›é˜¶" class="headerlink" title="å…«ã€å‡½æ•°è¿›é˜¶"></a>å…«ã€å‡½æ•°è¿›é˜¶</h2><h4 id="1-å‡½æ•°çš„é‡è¦ç‰¹æ€§"><a href="#1-å‡½æ•°çš„é‡è¦ç‰¹æ€§" class="headerlink" title="1. å‡½æ•°çš„é‡è¦ç‰¹æ€§"></a>1. å‡½æ•°çš„é‡è¦ç‰¹æ€§</h4><ul>
<li><strong>åœ¨Pythonä¸­ï¼Œä¸€åˆ‡çš†ä¸ºå¯¹è±¡</strong>ã€‚æ‰€ä»¥ï¼Œ<strong>å‡½æ•°ä¹Ÿæ˜¯å¯¹è±¡</strong>ï¼Œä»¥ä¸‹æ˜¯å‡½æ•°çš„é‡è¦ç‰¹æ€§ï¼š<ol>
<li><strong>ä¸€ä¸ªå‡½æ•°å¯ä»¥è¢«èµ‹å€¼ç»™ä¸€ä¸ªå˜é‡</strong></li>
<li><strong>ä¸€ä¸ªå‡½æ•°å¯ä»¥ä½œä¸ºå¦ä¸€ä¸ªå‡½æ•°çš„å®å‚</strong></li>
<li><strong>ä¸€ä¸ªå‡½æ•°å¯ä»¥ä½œä¸ºå¦ä¸€ä¸ªå‡½æ•°çš„è¿”å›å€¼</strong></li>
<li><strong>ä¸€ä¸ªå‡½æ•°å¯ä»¥åµŒå¥—å®šä¹‰åœ¨å¦ä¸€ä¸ªå‡½æ•°ä¸­</strong></li>
</ol>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"># 1. å‡½æ•°ä¹Ÿæ˜¯å¯¹è±¡ï¼Œå¯ä»¥è¢«èµ‹å€¼ç»™å˜é‡</span><br><span class="line">def add(num1, num2):</span><br><span class="line">    return num1 + num2</span><br><span class="line"></span><br><span class="line">print(add)  # `&lt;function add at 0x100ccb2e0&gt;`</span><br><span class="line">f = add</span><br><span class="line">print(f(1, 2))  # 3</span><br><span class="line"></span><br><span class="line"># 2. ä¸€ä¸ªå‡½æ•°å¯ä»¥ä½œä¸ºå¦ä¸€ä¸ªå‡½æ•°çš„å®å‚</span><br><span class="line">def eval_square(x):</span><br><span class="line">    return x * x</span><br><span class="line"></span><br><span class="line">result = map(eval_square, [1, 2, 3, 4])</span><br><span class="line">print(list(result))  # [1, 4, 9, 16]</span><br><span class="line"></span><br><span class="line"># 3. ä¸€ä¸ªå‡½æ•°å¯ä»¥ä½œä¸ºå¦ä¸€ä¸ªå‡½æ•°çš„è¿”å›å€¼</span><br><span class="line">def do_sth():</span><br><span class="line">    return add</span><br><span class="line"></span><br><span class="line">print(do_sth()(1, 2))  # 3</span><br><span class="line"></span><br><span class="line"># 4. ä¸€ä¸ªå‡½æ•°å¯ä»¥åµŒå¥—å®šä¹‰åœ¨å¦ä¸€ä¸ªå‡½æ•°ä¸­</span><br><span class="line">def outer():</span><br><span class="line">    def inner():</span><br><span class="line">        print(&quot;This is inner.&quot;)</span><br><span class="line"></span><br><span class="line">    return inner</span><br><span class="line"></span><br><span class="line">outer()()  # This is inner.</span><br></pre></td></tr></table></figure>

<h4 id="2-LambdaåŒ¿åå‡½æ•°"><a href="#2-LambdaåŒ¿åå‡½æ•°" class="headerlink" title="2. LambdaåŒ¿åå‡½æ•°"></a>2. LambdaåŒ¿åå‡½æ•°</h4><ul>
<li><p>ç®€ä»‹ï¼šå½“å‡½æ•°ä¸­åªæœ‰ä¸€è¡Œreturnè¯­å¥æ—¶ï¼Œå‡½æ•°çš„å®šä¹‰å¯ä»¥ç”¨ä¸€ä¸ªlambdaè¡¨è¾¾å¼æ¥ä»£æ›¿</p>
</li>
<li><p><strong>è¯­æ³•ï¼š<code>lambda arguments: expression</code>ï¼ˆargumentsæ˜¯å‚æ•°ï¼Œexpressionæ˜¯å‡½æ•°çš„è¿”å›å€¼ï¼‰</strong></p>
</li>
<li><p><strong>é—­åŒ…ï¼š</strong> Lambdaå‡½æ•°ä¹Ÿæ¶‰åŠåˆ°é—­åŒ…çš„æ¦‚å¿µï¼Œå› ä¸º<strong>å…¶å¯ä»¥æ•è·å’Œå¼•ç”¨å®šä¹‰åœ¨å…¶å‘¨å›´ä½œç”¨åŸŸä¸­çš„å˜é‡</strong>ï¼Œå½¢æˆé—­åŒ…</p>
</li>
<li><p><strong>é‡ç‚¹ç”¨æ³•ï¼šå°†æŸä¸ªæ“ä½œç›´æ¥åŒ…è£…æˆä¸€ä¸ªå¯è°ƒç”¨å¯¹è±¡ï¼Œå³ç›´æ¥returnæŸä¸ªå‡½æ•°å¹¶å¸¦æœ‰å®å‚ï¼Œè¿™ä¹Ÿæ˜¯å› ä¸ºå…¶å¯ä»¥æ•è·å’Œå¼•ç”¨å®šä¹‰åœ¨å…¶å‘¨å›´ä½œç”¨åŸŸä¸­çš„å˜é‡ï¼Œä¾‹ï¼š<code>lambda: requests.get(url, headers=headers)</code></strong></p>
</li>
<li><p><strong>lambdaè¡¨è¾¾å¼çš„ç‰¹ç‚¹ï¼š</strong></p>
<ol>
<li><strong>æ²¡æœ‰å‡½æ•°å</strong></li>
<li><strong>æ²¡æœ‰å…³é”®å­—def</strong></li>
<li><strong>æ²¡æœ‰å°æ‹¬å·</strong></li>
<li><strong>å…³äºå½¢å¼å‚æ•°çš„è¡¨è¾¾å¼ç›¸å½“äºå‡½æ•°çš„è¿”å›å€¼</strong></li>
</ol>
</li>
<li><p>åœ¨Pythonä¸­ï¼Œä¸€åˆ‡çš†ä¸ºå¯¹è±¡ï¼Œlambdaè¡¨è¾¾å¼ä¹Ÿæ˜¯å¯¹è±¡ï¼Œåˆå±äºå‡½æ•°ï¼Œæ‰€ä»¥ä¹Ÿæ‹¥æœ‰å‡½æ•°çš„éƒ¨åˆ†é‡è¦ç‰¹æ€§</p>
<ol>
<li><strong>lambdaè¡¨è¾¾å¼å¯ä»¥è¢«èµ‹å€¼ç»™å˜é‡</strong></li>
<li><strong>lambdaè¡¨è¾¾å¼å¯ä»¥ä½œä¸ºå‡½æ•°çš„å®å‚</strong></li>
<li><strong>lambdaè¡¨è¾¾å¼å¯ä»¥ä½œä¸ºå‡½æ•°çš„è¿”å›å€¼</strong></li>
</ol>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"># &gt; å‡½æ•°ä¸lambdaè¡¨è¾¾å¼çš„åŒºåˆ«</span><br><span class="line">def add(num1, num2):</span><br><span class="line">    return num1 + num2</span><br><span class="line"></span><br><span class="line">print(add(1, 2))  # 3</span><br><span class="line">print((lambda num1, num2: num1 + num2)(1, 2))  # 3</span><br><span class="line"></span><br><span class="line"># 1ã€lambdaè¡¨è¾¾å¼å¯ä»¥è¢«èµ‹å€¼ç»™å˜é‡</span><br><span class="line">le = lambda num1, num2: num1 + num2</span><br><span class="line">print(le(1, 2))  # 3</span><br><span class="line"></span><br><span class="line"># 2ã€lambdaè¡¨è¾¾å¼å¯ä»¥ä½œä¸ºå‡½æ•°çš„å®å‚</span><br><span class="line">result = map(lambda x: x * x, [1, 2, 3, 4])</span><br><span class="line">print(list(result))  # [1, 4, 9, 16]</span><br><span class="line"></span><br><span class="line"># 3ã€lambdaè¡¨è¾¾å¼å¯ä»¥ä½œä¸ºå‡½æ•°çš„è¿”å›å€¼</span><br><span class="line">def do_sth():</span><br><span class="line">    return lambda num1, num2: num1 + num2</span><br><span class="line"></span><br><span class="line">print(do_sth()(1, 2))  # 3</span><br></pre></td></tr></table></figure>

<h4 id="3-partialåå‡½æ•°"><a href="#3-partialåå‡½æ•°" class="headerlink" title="3. partialåå‡½æ•°"></a>3. partialåå‡½æ•°</h4><ul>
<li><p>ç®€ä»‹ï¼šåå‡½æ•°å¯ä»¥å°†æŸä¸ªå·²æœ‰çš„å‡½æ•°è½¬æ¢ä¸ºä¸€ä¸ªæ–°å‡½æ•°ï¼Œåœ¨<strong>è½¬æ¢çš„è¿‡ç¨‹ä¸­æŒ‡å®šæœ€å‰é¢çš„è‹¥å¹²ä¸ªä½ç½®å®å‚ä»¥åŠå…³é”®å­—å®å‚</strong>ï¼Œè¿™æ ·ï¼Œå½“è°ƒç”¨æ–°å‡½æ•°çš„æ—¶å€™ï¼Œåœ¨å…¶å†…éƒ¨è°ƒç”¨çš„ä»ç„¶æ˜¯è½¬æ¢å‰çš„å‡½æ•°ï¼Œåœ¨<strong>ä¼ é€’å®å‚æ—¶åªéœ€è¦ä¼ é€’å‰©ä½™çš„ä½ç½®å®å‚å’Œå…³é”®å­—å®å‚</strong>å³å¯ï¼Œä»è€Œ<strong>ç®€åŒ–å‡½æ•°çš„è°ƒç”¨</strong>ã€‚è½¬æ¢åçš„æ–°å‡½æ•°è¢«ç§°ä¸ºè½¬æ¢å‰çš„å‡½æ•°çš„<strong>åå‡½æ•°</strong>ã€‚</p>
</li>
<li><p>åº”ç”¨ï¼š**å¯ä»¥è°ƒç”¨æ ‡å‡†åº“æ¨¡å—functoolsä¸­çš„å‡½æ•°partial(func, *args, **kwargs)**ï¼Œå°†æŸä¸ªå·²æœ‰çš„å‡½æ•°è½¬æ¢ä¸ºå…¶åå‡½æ•°</p>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">from functools import partial</span><br><span class="line"></span><br><span class="line"># æ¡ˆä¾‹1</span><br><span class="line">def f1(a, b=5, *args, **kwargs):</span><br><span class="line">    print(&#x27;a =&#x27;, a, &#x27;b =&#x27;, b, &#x27;args =&#x27;, args, &#x27;kwargs =&#x27;, kwargs)</span><br><span class="line"></span><br><span class="line">f1_new = partial(f1, 1, 3, 6, m=8)</span><br><span class="line">f1_new(2, 4, n=9)  # a = 1 b = 3 args = (6, 2, 4) kwargs = &#123;&#x27;m&#x27;: 8, &#x27;n&#x27;: 9&#125;</span><br><span class="line"></span><br><span class="line"># æ¡ˆä¾‹2</span><br><span class="line">def f2(a, b=5, *, c, **kwargs):</span><br><span class="line">    print(&#x27;a =&#x27;, a, &#x27;b =&#x27;, b, &#x27;c =&#x27;, c, &#x27;kwargs =&#x27;, kwargs)</span><br><span class="line"></span><br><span class="line">f2_new = partial(f2, 1, m=8)</span><br><span class="line">f2_new(3, c=9)  # a = 1 b = 3 c = 9 kwargs = &#123;&#x27;m&#x27;: 8&#125;</span><br><span class="line"></span><br><span class="line"># æ¡ˆä¾‹3</span><br><span class="line">def eval_sum(*args):</span><br><span class="line">    s = 0</span><br><span class="line">    for n in args:</span><br><span class="line">        s += n</span><br><span class="line">    return s</span><br><span class="line"></span><br><span class="line">eval_sum_new = partial(eval_sum, 20, 30)</span><br><span class="line">print(eval_sum_new(1, 2, 3, 4, 5))  # 65</span><br></pre></td></tr></table></figure>

<h4 id="4-é—­åŒ…"><a href="#4-é—­åŒ…" class="headerlink" title="4. é—­åŒ…"></a>4. é—­åŒ…</h4><ul>
<li><p>ç®€ä»‹ï¼šå¦‚æœåœ¨ä¸€ä¸ªå‡½æ•°çš„å†…éƒ¨åµŒå¥—å®šä¹‰äº†å¦å¤–ä¸€ä¸ªå‡½æ•°ï¼ˆæš‚ä¸”å°†å¤–éƒ¨çš„å‡½æ•°å’Œå†…éƒ¨çš„å‡½æ•°åˆ†åˆ«ç§°ä¸ºå¤–å‡½æ•°å’Œå†…å‡½æ•°ï¼‰ï¼ŒåŒæ—¶æ»¡è¶³<strong>å†…å‡½æ•°å¼•ç”¨äº†å¤–å‡½æ•°ä¸­çš„å˜é‡</strong>ã€<strong>å¤–å‡½æ•°çš„è¿”å›å€¼æ˜¯å†…å‡½æ•°</strong>è¿™ä¸¤ç‚¹ï¼Œé‚£ä¹ˆå°±æ„æˆäº†ä¸€ä¸ª<strong>é—­åŒ…</strong></p>
</li>
<li><p>åº”ç”¨ï¼šé€šå¸¸æƒ…å†µä¸‹ï¼Œåœ¨å‡½æ•°è°ƒç”¨ç»“æŸåï¼Œå‡½æ•°å†…å®šä¹‰çš„å˜é‡å°†ä¸å†å¯ç”¨ã€‚ä½†æ˜¯ï¼Œ<strong>å¯¹äºé—­åŒ…è€Œè¨€ï¼Œåœ¨å¤–å‡½æ•°è°ƒç”¨ç»“æŸåï¼Œå¤–å‡½æ•°ä¸­è¢«å†…å‡½æ•°å¼•ç”¨çš„å˜é‡ä»ç„¶æ˜¯å¯ç”¨çš„ï¼Œå› ä¸ºæ­¤å˜é‡å¹¶æ²¡æœ‰è¢«é‡Šæ”¾ï¼Œè€Œæ˜¯è¢«ç»‘å®šåˆ°äº†å†…å‡½æ•°çš„ç‰¹æ®Šå±æ€§__closure__ä¸­ï¼Œå¯ä»¥é€šè¿‡__closure__[i].cell_contentsæ‰“å°å…¶å€¼</strong></p>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"># ä¸€ä¸ªç®€å•å…¸å‹çš„é—­åŒ…ç»“æ„</span><br><span class="line">def outer():</span><br><span class="line">    a = 10</span><br><span class="line">    def inner():  # ä¸€ä¸ªå‡½æ•°çš„å†…éƒ¨åµŒå¥—å®šä¹‰äº†å¦å¤–ä¸€ä¸ªå‡½æ•°</span><br><span class="line">        print(a)  # å†…å‡½æ•°å¼•ç”¨äº†å¤–å‡½æ•°ä¸­çš„å˜é‡</span><br><span class="line">    return inner  # å¤–å‡½æ•°çš„è¿”å›å€¼æ˜¯å†…å‡½æ•°</span><br><span class="line"></span><br><span class="line">outer()()  # 10</span><br><span class="line"></span><br><span class="line"># æ­¤æ—¶æ‰“å°å†…å‡½æ•°çš„ç‰¹æ®Šå±æ€§__closure__ï¼Œè¿”å›äº†ä¸€ä¸ªåªåŒ…å«ä¸€ä¸ªå…ƒç´ çš„å…ƒç»„</span><br><span class="line">print(outer().__closure__)  # (`&lt;cell at 0x10107f430: int object at 0x100f20210&gt;`,)</span><br><span class="line">print(outer().__closure__[0].cell_contents)  # 10ï¼Œå³outerå‡½æ•°ä¸­çš„å˜é‡a</span><br></pre></td></tr></table></figure>

<ul>
<li><p><strong>é‡ç‚¹ï¼šé»˜è®¤æƒ…å†µä¸‹ï¼Œåœ¨å†…å‡½æ•°ä¸­ä¸èƒ½ä¿®æ”¹å¤–å‡½æ•°ä¸­å˜é‡çš„å¼•ç”¨ï¼ˆå¦‚æœå¼•ç”¨çš„å¯¹è±¡æ˜¯å¯å˜ç±»å‹çš„ï¼Œå¯ä»¥ä¿®æ”¹å¯¹è±¡çš„å€¼ï¼‰</strong>ã€‚å¦‚æœæƒ³åœ¨å†…å‡½æ•°ä¸­ä¿®æ”¹å¤–å‡½æ•°ä¸­å˜é‡çš„å¼•ç”¨ï¼Œ<strong>å¯ä»¥åœ¨å†…å‡½æ•°ä¸­ä½¿ç”¨å…³é”®å­—nonlocalå¯¹å˜é‡è¿›è¡Œå£°æ˜</strong>ï¼›å£°æ˜å³æ„å‘³ç€åœ¨å†…å‡½æ•°ä¸­ä¸ä¼šå†é‡æ–°å®šä¹‰ä¸€ä¸ªæ–°çš„åŒåå˜é‡ï¼Œè€Œæ˜¯ä½¿ç”¨äº†å¤–å‡½æ•°ä¸­è¯¥åç§°çš„å˜é‡</p>
</li>
<li><p><strong>æ³¨æ„ï¼šå¯¹äºå†…å‡½æ•°ä¸­å¼•ç”¨çš„å¤–å‡½æ•°ä¸­çš„å˜é‡ï¼Œ åœ¨è°ƒç”¨å†…å‡½æ•°åå¯¹è¯¥å˜é‡çš„ä¿®æ”¹ï¼Œåœ¨ä¸‹ä¸€æ¬¡è°ƒç”¨å†…å‡½æ•°æ—¶ä»ç„¶æ˜¯æœ‰æ•ˆçš„ï¼Œå› ä¸ºè¯¥å˜é‡ä¼šè¢«ç»‘å®šåˆ°å†…å‡½æ•°çš„ç‰¹æ®Šå±æ€§__closure__ä¸­</strong></p>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">def outer():</span><br><span class="line">    a, b, c = 1, [2], [3]</span><br><span class="line">    print(f&quot;a=&#123;a&#125;, b=&#123;b&#125;, c=&#123;c&#125;, è°ƒç”¨å†…å‡½æ•°å‰id(c)=&#123;id(c)&#125;&quot;)</span><br><span class="line"></span><br><span class="line">    def inner():</span><br><span class="line">        # åœ¨å†…å‡½æ•°ä¸­ä¸èƒ½ä¿®æ”¹å¤–å‡½æ•°ä¸­å˜é‡çš„å¼•ç”¨ï¼Œå¦‚æœåœ¨å†…å‡½æ•°ç›´æ¥ç»™å˜é‡aé‡æ–°èµ‹å€¼ï¼Œç›¸å½“äºé‡æ–°å®šä¹‰</span><br><span class="line">        # a += 1  # æŠ›å‡ºå¼‚å¸¸ï¼Œç›´æ¥ä½¿ç”¨ += ä¼šå¯¼è‡´ç­‰å·å³è¾¹çš„å˜é‡aè¿˜æ²¡èµ‹å€¼</span><br><span class="line">        # b = [8]  # åŒç†ï¼Œè¿™é‡Œæ˜¯é‡æ–°å®šä¹‰äº†ä¸€ä¸ªå˜é‡bï¼ŒæŠŠå¤–å‡½æ•°ä¸­çš„å˜é‡bç»™å±è”½äº†</span><br><span class="line">        b[0] = 8  # å¤–å‡½æ•°ä¸­å˜é‡bçš„å¼•ç”¨æ˜¯åˆ—è¡¨ä¸ºå¯å˜ç±»å‹çš„ï¼Œæ‰€ä»¥è¿™é‡Œæ˜¯å†…å‡½æ•°å¼•ç”¨äº†å¤–å‡½æ•°ä¸­çš„å˜é‡</span><br><span class="line"></span><br><span class="line">        nonlocal a, c</span><br><span class="line">        a += 1  # å£°æ˜åå³æ“ä½œçš„æ˜¯å¤–å‡½æ•°ä¸­å˜é‡</span><br><span class="line">        c = [9]  # ä¸b[0]=8ä¸åŒï¼Œcæ˜¯æ”¹å˜äº†å¤–å‡½æ•°ä¸­å˜é‡cçš„å¼•ç”¨ï¼Œè€Œbä»…ä»…æ˜¯æ”¹å˜äº†å…¶å€¼</span><br><span class="line">        print(f&quot;a=&#123;a&#125;, b=&#123;b&#125;, c=&#123;c&#125;, è°ƒç”¨å†…å‡½æ•°å‰id(c)=&#123;id(c)&#125;&quot;)</span><br><span class="line"></span><br><span class="line">    return inner</span><br><span class="line"></span><br><span class="line"># åœ¨è°ƒç”¨å†…å‡½æ•°åå¯¹è¯¥å˜é‡çš„ä¿®æ”¹ï¼Œåœ¨ä¸‹ä¸€æ¬¡è°ƒç”¨å†…å‡½æ•°æ—¶ä»ç„¶æ˜¯æœ‰æ•ˆçš„</span><br><span class="line">inner = outer()  # a=1, b=[2], c=[3], è°ƒç”¨å†…å‡½æ•°å‰id(c)=4333769536</span><br><span class="line">inner()  # a=2, b=[8], c=[9], è°ƒç”¨å†…å‡½æ•°å‰id(c)=4333774272</span><br><span class="line">inner()  # a=3, b=[8], c=[9], è°ƒç”¨å†…å‡½æ•°å‰id(c)=4333769536</span><br><span class="line"></span><br><span class="line">print(inner.__closure__)  # æ­¤æ—¶ç‰¹æ®Šå±æ€§__closure__ä¸­å­˜æ”¾äº†ä¸‰ä¸ªcellå¯¹è±¡æ‰€ç»„æˆçš„å…ƒç»„</span><br><span class="line">for i in range(3):</span><br><span class="line">    print(inner.__closure__[i].cell_contents)  # 3 [8] [9]</span><br></pre></td></tr></table></figure>

<h4 id="5-å˜é‡çš„ä½œç”¨åŸŸ"><a href="#5-å˜é‡çš„ä½œç”¨åŸŸ" class="headerlink" title="5. å˜é‡çš„ä½œç”¨åŸŸ"></a>5. å˜é‡çš„ä½œç”¨åŸŸ</h4><blockquote>
<p><strong>å˜é‡çš„ä½œç”¨åŸŸæŒ‡çš„æ˜¯å˜é‡èµ·ä½œç”¨çš„èŒƒå›´ï¼Œæ˜¯ç”±å®šä¹‰å˜é‡çš„ä½ç½®å†³å®šçš„ã€‚</strong></p>
<p>å˜é‡çš„ä½œç”¨åŸŸæœ‰4ç§ï¼š</p>
<ol>
<li>å±€éƒ¨ä½œç”¨åŸŸï¼ˆLocalï¼‰<ul>
<li>æ¯æ¬¡è°ƒç”¨å‡½æ•°æ—¶éƒ½ä¼šåˆ›å»ºä¸€ä¸ª<strong>å±€éƒ¨ä½œç”¨åŸŸ</strong>ï¼Œå±€éƒ¨ä½œç”¨åŸŸï¼ˆå‡½æ•°ï¼‰ä¸­å®šä¹‰çš„å˜é‡ç§°ä¸º<strong>å±€éƒ¨å˜é‡</strong></li>
<li>å±€éƒ¨å˜é‡çš„ä½œç”¨åŸŸä¸ºï¼š<strong>ä»å®šä¹‰å˜é‡å¤„å¼€å§‹åˆ°å‡½æ•°ç»“æŸ</strong></li>
<li>å‡½æ•°è°ƒç”¨ç»“æŸåï¼Œå…¶å¯¹åº”çš„<strong>å±€éƒ¨ä½œç”¨åŸŸä¸­çš„æ‰€æœ‰å˜é‡éƒ½ä¼šè¢«é”€æ¯</strong></li>
</ul>
</li>
<li>åµŒå¥—ä½œç”¨åŸŸï¼ˆEnclosingï¼‰<ul>
<li>æ¯æ¬¡è°ƒç”¨åµŒå¥—å‡½æ•°ä¸­çš„å¤–å‡½æ•°æ—¶éƒ½ä¼šåˆ›å»ºä¸€ä¸ª<strong>åµŒå¥—ä½œç”¨åŸŸ</strong></li>
<li>å½“åœ¨å¤–å‡½æ•°å†…å®šä¹‰å˜é‡æ—¶ï¼Œè¯¥å˜é‡çš„ä½œç”¨åŸŸä¸ºï¼š<strong>ä»å®šä¹‰å˜é‡å¤„å¼€å§‹åˆ°å‡½æ•°ç»“æŸ</strong></li>
<li>å¤–å‡½æ•°è°ƒç”¨ç»“æŸåï¼Œå…¶å¯¹åº”çš„<strong>åµŒå¥—ä½œç”¨åŸŸä¸­çš„æ‰€æœ‰å˜é‡éƒ½ä¼šè¢«é”€æ¯ï¼ˆé—­åŒ…é™¤å¤–ï¼‰</strong></li>
</ul>
</li>
<li>å…¨å±€ä½œç”¨åŸŸï¼ˆGlobalï¼‰<ul>
<li>æ¯æ¬¡è¿è¡Œæ¨¡å—æ—¶éƒ½ä¼šåˆ›å»ºä¸€ä¸ª<strong>å…¨å±€ä½œç”¨åŸŸ</strong>ï¼Œå…¨å±€ä½œç”¨åŸŸï¼ˆæ¨¡å—ï¼‰ä¸­å®šä¹‰çš„å˜é‡ç§°ä¹‹ä¸º<strong>å…¨å±€å˜é‡</strong></li>
<li>å…¨å±€å˜é‡çš„ä½œç”¨åŸŸä¸ºï¼š<strong>ä»å®šä¹‰å˜é‡å¤„å¼€å§‹åˆ°æ¨¡å—ç»“æŸ</strong></li>
<li>ç¨‹åºè¿è¡Œç»“æŸåï¼Œ<strong>å…¨å±€ä½œç”¨åŸŸä¸­çš„æ‰€æœ‰å˜é‡éƒ½ä¼šè¢«é”€æ¯</strong></li>
</ul>
</li>
<li>å†…ç½®ä½œç”¨åŸŸï¼ˆBuilt-inï¼‰<ul>
<li>æ¯æ¬¡å¯åŠ¨Pythonè§£é‡Šå™¨éƒ½ä¼šè‡ªåŠ¨åŠ è½½å†…ç½®æ¨¡å—ï¼Œä»è€Œåˆ›å»ºä¸€ä¸ª<strong>å†…ç½®ä½œç”¨åŸŸ</strong></li>
<li>å†…ç½®æ¨¡å—ä¸­çš„å‡½æ•°ï¼ˆå†…ç½®å‡½æ•°ï¼‰ï¼Œ<strong>å¯ä»¥åœ¨ç¨‹åºä¸­ç›´æ¥ä½¿ç”¨</strong></li>
<li><strong>åœæ­¢è§£é‡Šå™¨åï¼Œå†…ç½®ä½œç”¨åŸŸä¸­çš„æ‰€æœ‰å˜é‡éƒ½ä¼šè¢«é”€æ¯</strong></li>
</ul>
</li>
</ol>
</blockquote>
<ul>
<li><strong>é‡ç‚¹1ï¼šå½“åœ¨æŸä¸ªä½œç”¨åŸŸä¸­è®¿é—®å˜é‡æ—¶ï¼Œä¼šæŒ‰ç…§LEGBçš„é¡ºåºä¾æ¬¡æœç´¢è¯¥ä½œç”¨åŸŸåŠå…¶åé¢çš„æ‰€æœ‰ä½œç”¨åŸŸ</strong>ï¼Œåªè¦æ‰¾åˆ°äº†åˆ™åœæ­¢æœç´¢ï¼Œå¦‚æœæ²¡æ‰¾åˆ°åˆ™æŠ›å‡ºNameErrorã€‚å› æ­¤ï¼Œå¦‚æœä¸åŒçš„ä½œç”¨åŸŸä¸­å®šä¹‰äº†åŒåçš„å˜é‡ï¼Œæ ¹æ®LEGBçš„æœç´¢é¡ºåºï¼Œ<strong>å‰é¢ä½œç”¨åŸŸä¸­çš„å˜é‡ä¼šå±è”½æ‰åé¢ä½œç”¨åŸŸä¸­å®šä¹‰çš„åŒåå˜é‡</strong></li>
<li><strong>é‡ç‚¹2ï¼šä¸é—­åŒ…åŸç†ç±»ä¼¼ï¼Œåœ¨å±€éƒ¨ä½œç”¨åŸŸæˆ–åµŒå¥—ä½œç”¨åŸŸä¸­ä¸èƒ½ä¿®æ”¹å…¨å±€å˜é‡çš„å¼•ç”¨ï¼ˆå¦‚æœå¼•ç”¨çš„å¯¹è±¡æ˜¯å¯å˜ç±»å‹çš„ï¼Œå¯ä»¥ä¿®æ”¹å¯¹è±¡çš„å€¼ï¼‰</strong>ã€‚å¦‚æœæƒ³è¦ä¿®æ”¹ï¼Œ<strong>å¯ä»¥åœ¨å±€éƒ¨ä½œç”¨åŸŸæˆ–åµŒå¥—ä½œç”¨åŸŸä¸­ä½¿ç”¨å…³é”®å­—globalå¯¹å˜é‡è¿›è¡Œå£°æ˜</strong>ï¼›å£°æ˜å³æ„å‘³ç€åœ¨å±€éƒ¨ä½œç”¨åŸŸæˆ–åµŒå¥—ä½œç”¨åŸŸä¸­ä¸ä¼šå†é‡æ–°å®šä¹‰ä¸€ä¸ªæ–°çš„åŒåå˜é‡ï¼Œè€Œæ˜¯ä½¿ç”¨äº†è¯¥åç§°çš„å…¨å±€å˜é‡</li>
<li><strong>æ³¨æ„ï¼šæµç¨‹æ§åˆ¶è¯­å¥å’Œå¼‚å¸¸å¤„ç†è¯­å¥ä¸ä¼šåˆ›å»ºå¯¹åº”çš„ä½œç”¨åŸŸã€‚å› æ­¤ï¼Œå¯¹äºæµç¨‹æ§åˆ¶è¯­å¥å’Œå¼‚å¸¸å¤„ç†è¯­å¥ä¸­å®šä¹‰çš„å˜é‡ï¼Œåœ¨è¯­å¥æ‰§è¡Œç»“æŸåä»ç„¶æ˜¯å¯ä»¥ç”¨çš„</strong></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">id = &quot;Global&quot;</span><br><span class="line"></span><br><span class="line">def outside():</span><br><span class="line">    id = &quot;Enclosing&quot;</span><br><span class="line"></span><br><span class="line">    def inside():</span><br><span class="line">        id = &quot;Local&quot;</span><br><span class="line">        # global id  # ä½¿ç”¨globalå…³é”®å­—å£°æ˜åï¼Œæ‰“å°idçš„å€¼å°±ä¸ºGlobal</span><br><span class="line">        print(id)</span><br><span class="line"></span><br><span class="line">    inside()</span><br><span class="line"></span><br><span class="line">outside()  # æŒ‰ç…§LEGBçš„é¡ºåºä¾æ¬¡æ³¨é‡Šæ‰å‡½æ•°ä¸­çš„å±æ€§idå€¼ï¼Œ</span><br><span class="line"># ä¼šä¾æ¬¡è¾“å‡ºï¼šLocalã€Enclosingã€Globalã€`&lt;built-in function id&gt;`</span><br><span class="line"></span><br><span class="line"># é‡è¦é—®é¢˜ï¼šå…³äºä½œç”¨åŸŸçš„å…¸å‹é—®é¢˜ï¼</span><br><span class="line">def fun():</span><br><span class="line">    # æŒ‰ç…§LEGBçš„é¡ºåºä¼šå…ˆåˆ°å±€éƒ¨ä½œç”¨åŸŸä¸­æœç´¢å˜é‡idï¼Œè€Œå±€éƒ¨å˜é‡idå´å®šä¹‰åœ¨äº†è®¿é—®printä¹‹åï¼Œ</span><br><span class="line">    # æ„å‘³ç€å±€éƒ¨å˜é‡idè¿˜æ²¡æœ‰èµ‹å€¼ï¼Œè¿™æ ·å°±ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œè€Œå¦‚æœæ²¡æœ‰å®šä¹‰å±€éƒ¨å˜é‡idï¼Œåè€Œä¸ä¼šæŠ›å‡ºå¼‚å¸¸</span><br><span class="line">    # å› ä¸ºæŒ‰ç…§LEGBçš„æœç´¢é¡ºåºï¼Œä¼šåœ¨å…¨å±€ä½œç”¨åŸŸä¸­æœç´¢åˆ°å·²èµ‹å€¼çš„å…¨å±€å˜é‡id = &#x27;Global&#x27;</span><br><span class="line">    print(id)  # UnboundLocalError: ......</span><br><span class="line">    # id = 5</span><br><span class="line"></span><br><span class="line">fun()</span><br><span class="line"></span><br><span class="line"># æµç¨‹æ§åˆ¶è¯­å¥å’Œå¼‚å¸¸å¤„ç†è¯­å¥ä¸ä¼šåˆ›å»ºå¯¹åº”çš„ä½œç”¨åŸŸ</span><br><span class="line">if True:</span><br><span class="line">    temp = 18</span><br><span class="line">print(temp)  # 18</span><br><span class="line"></span><br><span class="line">for item in [1, 2, 3]:</span><br><span class="line">    print(item)  # 1 2 3</span><br><span class="line">print(item)  # 3</span><br><span class="line"></span><br><span class="line">try:</span><br><span class="line">    result = 5</span><br><span class="line">except:</span><br><span class="line">    pass</span><br><span class="line">print(result)  # 5</span><br></pre></td></tr></table></figure>

<h4 id="6-å‘½åç©ºé—´"><a href="#6-å‘½åç©ºé—´" class="headerlink" title="6. å‘½åç©ºé—´"></a>6. å‘½åç©ºé—´</h4><ul>
<li>ç®€ä»‹ï¼š<strong>å‘½åç©ºé—´æŒ‡çš„æ˜¯æŸä¸ªä½œç”¨åŸŸå†…æ‰€æœ‰åå­—å’Œå€¼çš„æ˜ å°„ï¼Œç”¨å­—å…¸è¡¨ç¤º</strong><ul>
<li>å†…ç½®å‡½æ•°locals()å¯ä»¥è¿”å›å…¶æ‰€åœ¨å±€éƒ¨ä½œç”¨åŸŸçš„å‘½åç©ºé—´</li>
<li>å†…ç½®å‡½æ•°globals()å¯ä»¥è¿”å›å…¶æ‰€åœ¨å…¨å±€ä½œç”¨åŸŸçš„å‘½åç©ºé—´</li>
</ul>
</li>
<li><strong>é‡ç‚¹ï¼š</strong><ul>
<li><strong>å¯¹äºå¯å˜ç±»å‹ï¼Œä½¿ç”¨locals()æˆ–è€…globals()è¿”å›çš„å­—å…¸ä¸å®é™…å‘½åç©ºé—´æ˜¯å…±äº«çš„ï¼Œé€šè¿‡è¯¥å­—å…¸ä¿®æ”¹å¯å˜ç±»å‹çš„å€¼ä¼šåœ¨å®é™…å‘½åç©ºé—´ä¸­åæ˜ å‡ºæ¥ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ­¤æ—¶locals()è¿”å›çš„å­—å…¸åªèƒ½æ”¹å˜å˜é‡çš„å€¼ï¼Œè€Œglobals()è¿”å›çš„å­—å…¸æ—¢å¯ä»¥æ”¹å˜å˜é‡çš„å€¼ï¼Œè¿˜å¯ä»¥æ”¹å˜å…¶å¼•ç”¨</strong></li>
<li><strong>å¯¹äºä¸å¯å˜ç±»å‹ï¼Œæ˜¯æ— æ³•é€šè¿‡ä¿®æ”¹locals()è¿”å›çš„å­—å…¸æ¥æ”¹å˜å®é™…çš„å‘½åç©ºé—´ä¸­çš„ä¸å¯å˜ç±»å‹çš„å€¼çš„ï¼Œä½†æ˜¯globals()å¯ä»¥</strong></li>
</ul>
</li>
<li><strong>æ€»ç»“ï¼šlocals() å’Œ globals() éƒ½ç”¨äºæŸ¥çœ‹å½“å‰ä½œç”¨åŸŸå†…çš„å‘½åç©ºé—´ï¼Œä½†æ˜¯ locals() è¿”å›çš„æ˜¯ä¸€ä¸ªåªè¯»çš„å­—å…¸å‰¯æœ¬ï¼Œè€Œ globals() è¿”å›çš„æ˜¯å®é™…å‘½åç©ºé—´çš„å¼•ç”¨ã€‚</strong>åœ¨å±€éƒ¨å‘½åç©ºé—´ä¸­ï¼Œå¯¹äºå¯å˜ç±»å‹çš„å˜é‡ï¼Œä½¿ç”¨ locals() è¿”å›çš„å­—å…¸ä¿®æ”¹å…¶å€¼ä¼šå½±å“å®é™…çš„å‘½åç©ºé—´ï¼Œä½†å¯¹äºä¸å¯å˜ç±»å‹çš„å˜é‡ï¼Œä½¿ç”¨ locals() ä¿®æ”¹å€¼æ˜¯æ— æ•ˆçš„ã€‚å¯¹äº globals()ï¼Œæ— è®ºå˜é‡çš„ç±»å‹æ˜¯å¯å˜è¿˜æ˜¯ä¸å¯å˜ï¼Œä¿®æ”¹éƒ½ä¼šå½±å“å®é™…çš„å‘½åç©ºé—´ã€‚</li>
<li>**å†…ç½®å‡½æ•°vars()**ï¼šè¿”å›å¯¹è±¡çš„å±æ€§å’Œå±æ€§å€¼çš„å­—å…¸å¯¹è±¡<ul>
<li>å½“å‡½æ•°ä¸æ¥æ”¶å‚æ•°æ—¶ï¼Œè¿”å›å½“å‰ä½œç”¨åŸŸå†…çš„å±€éƒ¨å˜é‡ï¼Œå…¶åŠŸèƒ½å’Œlocals()å‡½æ•°ç±»ä¼¼</li>
<li>å½“å‡½æ•°æ¥æ”¶ä¸€ä¸ªå‚æ•°æ—¶ï¼Œå‚æ•°å¯ä»¥æ˜¯æ¨¡å—ã€ç±»ã€ç±»å®ä¾‹æˆ–è€…å®šä¹‰äº†__dict__å±æ€§çš„å¯¹è±¡ï¼Œå…¶åŠŸèƒ½å’Œobject.__dict__å±æ€§ç±»ä¼¼</li>
</ul>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"># eg1ï¼š</span><br><span class="line">school_students = &#123;</span><br><span class="line">    &#x27;Alice&#x27;: 18,</span><br><span class="line">    &#x27;Bob&#x27;: 19,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">def class_students(students):</span><br><span class="line">    print(f&quot;å±€éƒ¨å‘½åç©ºé—´ä¸­çš„å˜é‡ï¼š&#123;locals()&#125;&quot;)  # &#123;&#x27;students&#x27;: &#123;&#x27;Alice&#x27;: 18, &#x27;Bob&#x27;: 19&#125;&#125;</span><br><span class="line"></span><br><span class="line">    # åœ¨å±€éƒ¨å‘½åç©ºé—´ä¸­ï¼Œæ·»åŠ ä¸€ä¸ªæ–°çš„å­¦ç”Ÿ</span><br><span class="line">    locals()[&#x27;students&#x27;][&#x27;Emily&#x27;] = 20  # æ·»åŠ </span><br><span class="line">    locals()[&#x27;students&#x27;][&#x27;Alice&#x27;] = 17  # ä¿®æ”¹</span><br><span class="line"></span><br><span class="line">    print(f&quot;å±€éƒ¨å‘½åç©ºé—´ä¸­çš„å˜é‡ï¼š&#123;locals()&#125;&quot;)  # &#123;&#x27;students&#x27;: &#123;&#x27;Alice&#x27;: 17, &#x27;Bob&#x27;: 19, &#x27;Emily&#x27;: 20&#125;&#125;</span><br><span class="line">    print(f&quot;å½“å‰ä½œç”¨åŸŸå†…çš„å±€éƒ¨å˜é‡ï¼š&#123;vars()&#125;&quot;)  # &#123;&#x27;students&#x27;: &#123;&#x27;Alice&#x27;: 17, &#x27;Bob&#x27;: 19, &#x27;Emily&#x27;: 20&#125;&#125;</span><br><span class="line"></span><br><span class="line">class_students(school_students)</span><br><span class="line">print(&quot;å…¨å±€å‘½åç©ºé—´ä¸­çš„å˜é‡studentsï¼š&quot;, globals()[&#x27;school_students&#x27;])  # &#123;&#x27;Alice&#x27;: 17, &#x27;Bob&#x27;: 19, &#x27;Emily&#x27;: 20&#125;</span><br><span class="line"></span><br><span class="line"># eg2ï¼š</span><br><span class="line">def f():</span><br><span class="line">    x, y = [123], &#x27;hello&#x27;</span><br><span class="line">    print(locals())  # &#123;&#x27;x&#x27;: [123], &#x27;y&#x27;: &#x27;hello&#x27;&#125;</span><br><span class="line">    locals()[&#x27;x&#x27;][0] = 333  # å¯å˜ç±»å‹ï¼Œlocals()å¯ä»¥ä¿®æ”¹å€¼ï¼Œä½†ä¸èƒ½ä¿®æ”¹å…¶å¼•ç”¨</span><br><span class="line">    # locals()[&#x27;x&#x27;] = 333  # æ²¡æœ‰æ•ˆæœ</span><br><span class="line">    locals()[&#x27;y&#x27;] = &#x27;xfblog&#x27;  # ä¸å¯å˜ç±»å‹ï¼Œlocals()ä¿®æ”¹å€¼æ— æ•ˆ</span><br><span class="line">    locals()[&#x27;z&#x27;] = &#x27;world&#x27;  # å¯ä»¥æ·»åŠ å€¼</span><br><span class="line">    print(x, y)  # [333] helloï¼Œzæœªå®šä¹‰æ‰€ä»¥ä¸èƒ½è®¿é—®ï¼Œåªèƒ½é€šè¿‡locals()è®¿é—®</span><br><span class="line">    print(locals())  # &#123;&#x27;x&#x27;: [333], &#x27;y&#x27;: &#x27;hello&#x27;, &#x27;z&#x27;: &#x27;world&#x27;&#125;</span><br><span class="line"></span><br><span class="line">f()</span><br></pre></td></tr></table></figure>

<h4 id="7-å‡½æ•°è£…é¥°å™¨"><a href="#7-å‡½æ•°è£…é¥°å™¨" class="headerlink" title="7. å‡½æ•°è£…é¥°å™¨"></a>7. å‡½æ•°è£…é¥°å™¨</h4><ul>
<li><p>ç®€ä»‹ï¼šå¯¹äºæŸä¸ªå‡½æ•°ï¼Œå¦‚æœå¸Œæœ›<strong>åœ¨ä¸æ”¹å˜è¯¥å‡½æ•°ä»£ç çš„å‰æä¸‹ï¼Œä¸ºè¯¥å‡½æ•°å¢åŠ é¢å¤–çš„åŠŸèƒ½</strong>ï¼Œé‚£ä¹ˆå°±å¯ä»¥ä½¿ç”¨è£…é¥°å™¨æ¥è£…é¥°è¯¥å‡½æ•°</p>
</li>
<li><p>åŸç†ï¼šè£…é¥°å™¨æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè£…é¥°å™¨æ¥æ”¶ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼ˆä¼ å…¥çš„å®å‚æ˜¯è¢«è£…é¥°çš„å‡½æ•°ï¼‰ï¼Œè£…é¥°å™¨çš„å†…éƒ¨åµŒå¥—å®šä¹‰å¦ä¸€ä¸ªå‡½æ•°ï¼Œå†…å‡½æ•°ä¸­ä¼šå¼•ç”¨è£…é¥°å™¨çš„å‚æ•°ï¼Œå¹¶ä¸”è£…é¥°å™¨çš„è¿”å›å€¼æ˜¯å†…å‡½æ•°ï¼Œè¿™æ ·å°±<strong>æ„æˆäº†ä¸€ä¸ªé—­åŒ…</strong>ã€‚ä¸ºäº†è®©å†…å‡½æ•°æ¥æ”¶ä»»æ„ç±»å‹çš„å‚æ•°ï¼Œå°†å†…å‡½æ•°çš„å½¢å‚å®šä¹‰ä¸º(*args, **kwargs)ã€‚ <strong>åœ¨å†…å‡½æ•°ä¸­ï¼Œé¦–å…ˆå®Œæˆä¸ºè¢«è£…é¥°å‡½æ•°æ·»åŠ çš„æ–°åŠŸèƒ½ï¼Œç„¶åè¿”å›è°ƒç”¨è¢«è£…é¥°çš„å‡½æ•°</strong></p>
</li>
<li><p>æŠŠè£…é¥°å™¨åº”ç”¨åˆ°è¢«è£…é¥°å‡½æ•°çš„è¯­æ³•ä¸ºï¼š<strong>åœ¨è¢«è£…é¥°å‡½æ•°çš„å‰é¢æ·»åŠ â€@è£…é¥°å™¨çš„å‡½æ•°åâ€<strong>ã€‚åœ¨è¢«è£…é¥°å‡½æ•°addçš„å‰é¢æ·»åŠ @logåï¼Œç›¸å½“äºæ‰§è¡Œäº†è¯­å¥ï¼š</strong>add &#x3D; log(add)<strong>ï¼Œ é¦–å…ˆè¢«è£…é¥°çš„å‡½æ•°addä¼šä½œä¸ºå®å‚ä¼ é€’ç»™è£…é¥°logï¼Œç„¶åè¿”å›è£…é¥°å™¨çš„å†…å‡½æ•°wrapperï¼Œæœ€åå°†å†…å‡½æ•°wrapperèµ‹å€¼ç»™addï¼ˆè¢«è£…é¥°å‡½æ•°çš„å‡½æ•°åï¼‰ï¼Œ</strong>è¿™æ ·å†è°ƒç”¨è¢«è£…é¥°çš„å‡½æ•°addæ—¶ï¼Œå…¶å®è°ƒç”¨çš„æ˜¯è£…é¥°å™¨çš„å†…å‡½æ•°wrapper</strong> <img  
                       lazyload
                       alt="image"
                       data-src="https://osswcf.oss-cn-shanghai.aliyuncs.com/2022/10/1667144165-4475f40809afcf1.jpg"
                       
                 ></p>
</li>
<li><p>çŸ¥è¯†ç‚¹1ï¼šå¦‚æœå¸Œæœ›è¢«è£…é¥°å‡½æ•°çš„ç‰¹æ®Šå±æ€§__name__çš„å€¼ä¸ºå…¶å‡½æ•°åaddï¼Œ è€Œä¸æ˜¯è£…é¥°å™¨çš„å†…å‡½æ•°å‡½æ•°åwrapperï¼Œå¯ä»¥åœ¨è£…é¥°å™¨çš„å†…å‡½æ•°å‰é¢æ·»åŠ å¦å¤–ä¸€ä¸ªè£…é¥°å™¨ï¼š**@functools.wraps(è£…é¥°å™¨çš„å½¢å‚å)<strong>ã€‚</strong>å…¶ä¸­functools.wrapsæŒ‡çš„æ˜¯æ ‡å‡†åº“æ¨¡å—functoolsä¸­çš„å‡½æ•°wraps**</p>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">import functools</span><br><span class="line"></span><br><span class="line">def log(func):</span><br><span class="line">    @functools.wraps(func)</span><br><span class="line">    def wrapper(*args, **kwargs):</span><br><span class="line">        print(&quot;å‡½æ•°%sè¢«è°ƒç”¨äº†&quot; % func.__name__)</span><br><span class="line">        return func(*args, **kwargs)</span><br><span class="line">    return wrapper</span><br><span class="line"></span><br><span class="line">@log</span><br><span class="line">def add(sum1, sum2):</span><br><span class="line">    return sum1 + sum2</span><br><span class="line"></span><br><span class="line">print(add(1, 2))  # å‡½æ•°addè¢«è°ƒç”¨äº† 3</span><br><span class="line"># print(add.__name__)  # è‹¥æ³¨é‡Šæ‰&quot;@functools.wraps(func)&quot;ï¼Œåˆ™æ‰“å°wrapper</span><br><span class="line">print(add.__name__)  # add</span><br></pre></td></tr></table></figure>

<ul>
<li>çŸ¥è¯†ç‚¹2ï¼š<strong>æŠŠè£…é¥°å™¨åº”ç”¨åˆ°é€’å½’å‡½æ•°æ—¶ï¼Œè£…é¥°å™¨ä¼šæ‰§è¡Œå¤šæ¬¡ã€‚å¦‚æœåªæƒ³è£…é¥°å™¨æ­£å¸¸æ‰§è¡Œä¸€æ¬¡ï¼Œå¯ä»¥åœ¨é€’å½’å‡½æ•°å‰éƒ½åŠ ä¸Šå•ä¸‹åˆ’çº¿ï¼Œå¹¶é‡æ–°å®šä¹‰ä¸€ä¸ªæ–°å‡½æ•°è°ƒç”¨æ­¤é€’å½’å‡½æ•°ï¼Œæœ€åå†å°†è£…é¥°å™¨åº”ç”¨åˆ°æ–°å‡½æ•°ä¸Šå³å¯</strong></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"># æ±‰è¯ºå¡”é—®é¢˜</span><br><span class="line">def zhuangshiqi(func):</span><br><span class="line">    def wrapper(*a, **b):</span><br><span class="line">        print(&quot;ç§»åŠ¨å¼€å§‹&quot;)</span><br><span class="line">        func(*a, **b)</span><br><span class="line">        print(&quot;ç§»åŠ¨ç»“æŸ&quot;)</span><br><span class="line"></span><br><span class="line">    return wrapper</span><br><span class="line"></span><br><span class="line">def _hanoi(n, a, b, c):</span><br><span class="line">    if n &gt; 0:</span><br><span class="line">        _hanoi(n - 1, a, c, b)</span><br><span class="line">        print(&quot;ç§»åŠ¨%sæœ€ä¸Šæ–¹çš„ç›˜å­è‡³%s&quot; % (a, c))</span><br><span class="line">        _hanoi(n - 1, b, a, c)</span><br><span class="line"></span><br><span class="line">@zhuangshiqi</span><br><span class="line">def hanoi(n):</span><br><span class="line">    _hanoi(n, &#x27;A&#x27;, &#x27;B&#x27;, &#x27;C&#x27;)</span><br><span class="line"></span><br><span class="line">hanoi(3)</span><br><span class="line">&quot;&quot;&quot;å¦‚æœé€’å½’å‡½æ•°ç‰¹æ®Šå¤„ç†è£…é¥°å™¨ï¼Œåˆ™ä¼šæ‰“å°å¤šæ¬¡ç§»åŠ¨å¼€å§‹å’Œç§»åŠ¨ç»“æŸ</span><br><span class="line">ç§»åŠ¨å¼€å§‹</span><br><span class="line">ç§»åŠ¨Aæœ€ä¸Šæ–¹çš„ç›˜å­è‡³C</span><br><span class="line">ç§»åŠ¨Aæœ€ä¸Šæ–¹çš„ç›˜å­è‡³B</span><br><span class="line">ç§»åŠ¨Cæœ€ä¸Šæ–¹çš„ç›˜å­è‡³B</span><br><span class="line">ç§»åŠ¨Aæœ€ä¸Šæ–¹çš„ç›˜å­è‡³C</span><br><span class="line">ç§»åŠ¨Bæœ€ä¸Šæ–¹çš„ç›˜å­è‡³A</span><br><span class="line">ç§»åŠ¨Bæœ€ä¸Šæ–¹çš„ç›˜å­è‡³C</span><br><span class="line">ç§»åŠ¨Aæœ€ä¸Šæ–¹çš„ç›˜å­è‡³C</span><br><span class="line">ç§»åŠ¨ç»“æŸ</span><br><span class="line">&quot;&quot;&quot;</span><br></pre></td></tr></table></figure>

<ul>
<li>çŸ¥è¯†ç‚¹3ï¼š<strong>æŠŠè£…é¥°å™¨åº”ç”¨åˆ°è¢«è£…é¥°å‡½æ•°æ—¶ï¼Œè¿˜å¯ä»¥ä¼ é€’é¢å¤–çš„å‚æ•°ï¼›æ­¤æ—¶ï¼Œéœ€è¦ç¼–å†™ä¸€ä¸ªä¸‰å±‚åµŒå¥—çš„è£…é¥°å™¨</strong></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">import functools</span><br><span class="line"></span><br><span class="line">def logs(year, month, day):</span><br><span class="line">    def decorator(func):</span><br><span class="line">        @functools.wraps(func)</span><br><span class="line">        def wrapper(*args, **kwargs):</span><br><span class="line">            print(&quot;%så¹´%sæœˆ%sæ—¥, å‡½æ•°%sè¢«è°ƒç”¨äº†&quot; % (year, month, day, func.__name__))</span><br><span class="line">            return func(*args, **kwargs)</span><br><span class="line"></span><br><span class="line">        return wrapper</span><br><span class="line"></span><br><span class="line">    return decorator</span><br><span class="line"></span><br><span class="line">@logs(2099, 10, 30)  # åŒç†ï¼Œå¯¹äº@logs(2099, 10, 30)ï¼Œç›¸å½“äºæ‰§è¡Œè¯­å¥ï¼šadds = logs(2099, 10, 30)(adds)</span><br><span class="line">def adds(sum1, sum2):</span><br><span class="line">    return sum1 + sum2</span><br><span class="line"></span><br><span class="line">print(adds(1, 2))  # 2099å¹´10æœˆ30æ—¥, å‡½æ•°addsè¢«è°ƒç”¨äº† 3</span><br></pre></td></tr></table></figure>

<h4 id="8-å†…ç½®å‡½æ•°property"><a href="#8-å†…ç½®å‡½æ•°property" class="headerlink" title="8. å†…ç½®å‡½æ•°property"></a>8. å†…ç½®å‡½æ•°property</h4><ul>
<li>ç®€ä»‹ï¼šåœ¨Pythonä¸­å®šä¹‰ç±»æ—¶ï¼Œå¸Œæœ›æ§åˆ¶ç±»çš„å±æ€§çš„è®¿é—®å’Œä¿®æ”¹æ–¹å¼ï¼Œproperty()å‡½æ•°å¯ä»¥<strong>å°†æ–¹æ³•è½¬åŒ–ä¸ºé™æ€çš„å±æ€§ï¼ˆå˜é‡ï¼‰</strong>ï¼Œä½¿å¾—å±æ€§çš„è·å–ã€è®¾ç½®å’Œåˆ é™¤å¯ä»¥é€šè¿‡æ–¹æ³•è°ƒç”¨æ¥å®ç°ï¼Œä»è€Œæä¾›æ›´å¤šçš„æ§åˆ¶ã€‚è¿™æ ·ä¸€æ¥ï¼Œå½“è®¿é—®è¿™ä¸ªå±æ€§æ—¶ï¼Œå®é™…ä¸Šæ˜¯è°ƒç”¨äº†è¿™ä¸ªæ–¹æ³•</li>
<li>è¯­æ³•ï¼š<strong>property(getx, setx, delx, doc)ï¼Œå‡½æ•°è®¾æœ‰4ä¸ªå‚æ•°ï¼Œå³è·å–å±æ€§å€¼çš„å‡½æ•°ã€è®¾ç½®å±æ€§å€¼çš„å‡½æ•°ã€åˆ é™¤å±æ€§å€¼çš„å‡½æ•°å’Œå±æ€§æè¿°ä¿¡æ¯</strong></li>
<li>åº”ç”¨1ï¼š<strong>å®šä¹‰ä¸€ä¸ªå¯æ§å±æ€§å€¼ï¼Œå³åœ¨ç±»ä¸­å®šä¹‰å€¼ä¸ºpropertyå¯¹è±¡çš„ç±»å±æ€§</strong></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">class Circle:</span><br><span class="line">    def __init__(self, radius):</span><br><span class="line">        self._radius = radius  # ä½¿ç”¨ä¸‹åˆ’çº¿å‰ç¼€è¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªå—ä¿æŠ¤çš„å±æ€§</span><br><span class="line"></span><br><span class="line">    def get_radius(self):</span><br><span class="line">        print(&quot;è·å–åŠå¾„&quot;)</span><br><span class="line">        return self._radius</span><br><span class="line"></span><br><span class="line">    def set_radius(self, value):</span><br><span class="line">        if value &lt; 0:</span><br><span class="line">            raise ValueError(&quot;åŠå¾„ä¸èƒ½ä¸ºè´Ÿæ•°&quot;)</span><br><span class="line">        print(&quot;è®¾ç½®åŠå¾„&quot;)</span><br><span class="line">        self._radius = value</span><br><span class="line"></span><br><span class="line">    def del_radius(self):</span><br><span class="line">        print(&quot;åˆ é™¤åŠå¾„&quot;)</span><br><span class="line">        del self._radius</span><br><span class="line"></span><br><span class="line">    # ä½¿ç”¨property()å°†get_radiusæ–¹æ³•è½¬åŒ–ä¸ºå±æ€§</span><br><span class="line">    radius = property(get_radius, set_radius, del_radius, &quot;åœ†çš„åŠå¾„&quot;)</span><br><span class="line"></span><br><span class="line"># åˆ›å»ºä¸€ä¸ªCircleå¯¹è±¡</span><br><span class="line">circle = Circle(5)</span><br><span class="line"></span><br><span class="line"># è®¿é—®å±æ€§ï¼ˆè°ƒç”¨get_radiusæ–¹æ³•ï¼‰</span><br><span class="line">print(circle.radius)  # 5</span><br><span class="line"></span><br><span class="line"># è®¾ç½®å±æ€§ï¼ˆè°ƒç”¨set_radiusæ–¹æ³•ï¼‰</span><br><span class="line">circle.radius = 10</span><br><span class="line"></span><br><span class="line"># è·å–å±æ€§çš„æ–‡æ¡£å­—ç¬¦ä¸²</span><br><span class="line">print(Circle.radius.__doc__)  # éœ€è¦é€šè¿‡ç±»åæ¥è·å–ï¼Œå› ä¸ºå±æ€§æ˜¯å±äºç±»çš„</span><br><span class="line"></span><br><span class="line"># åˆ é™¤å±æ€§ï¼ˆè°ƒç”¨del_radiusæ–¹æ³•ï¼‰</span><br><span class="line">del circle.radius</span><br></pre></td></tr></table></figure>

<ul>
<li>åº”ç”¨2ï¼š<strong>å°†propertyå‡½æ•°ç”¨ä½œè£…é¥°å™¨ï¼Œå¯ä»¥ç›´æ¥åˆ›å»ºåªè¯»å±æ€§</strong></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">class C(object):</span><br><span class="line">    def __init__(self, name):</span><br><span class="line">        self.__x = name</span><br><span class="line"></span><br><span class="line">    @property</span><br><span class="line">    def myfun(self):</span><br><span class="line">        &quot;&quot;&quot;I&#x27;m the &#x27;x&#x27; property.&quot;&quot;&quot;</span><br><span class="line">        return self.__x</span><br><span class="line"></span><br><span class="line">    @myfun.setter</span><br><span class="line">    def myfun(self, value):</span><br><span class="line">        self.__x = value</span><br><span class="line"></span><br><span class="line">    @myfun.deleter</span><br><span class="line">    def myfun(self):</span><br><span class="line">        del self.__x</span><br><span class="line"></span><br><span class="line">c = C(&#x27;wcf&#x27;)</span><br><span class="line">print(c.myfun)  # è‡ªåŠ¨æ‰§è¡Œ@propertyä¿®é¥°çš„myfunæ–¹æ³•ï¼Œå¹¶è·å–æ–¹æ³•çš„è¿”å›å€¼</span><br><span class="line">c.myfun = &#x27;zxc&#x27;  # è‡ªåŠ¨æ‰§è¡Œ@myfun.setterä¿®é¥°çš„myfunæ–¹æ³•ï¼Œå¹¶å°†&#x27;zxc&#x27;èµ‹å€¼ç»™æ–¹æ³•çš„å‚æ•°</span><br><span class="line">print(C.myfun.__doc__)  # è‡ªåŠ¨è·å–@propertyä¿®é¥°çš„myfunæ–¹æ³•çš„__doc__å±æ€§ï¼šI&#x27;m the &#x27;x&#x27; property.</span><br><span class="line">del c.myfun  # è‡ªåŠ¨æ‰§è¡Œ@myfun.deleterä¿®é¥°çš„myfunæ–¹æ³•</span><br></pre></td></tr></table></figure>
                    
                </div>

                
                        
<div class="post-copyright-info-container border-box">
    <div class="copyright-info-content border-box">
        <div class="copyright-info-top border-box">
            <div class="copyright-post-title border-box text-ellipsis">
                02_Python_é«˜çº§è¯­æ³•
            </div>

            <div class="copyright-post-link border-box text-ellipsis">
                2022/11/01/python-é«˜çº§è¯­æ³•/
            </div>
        </div>

        <div class="copyright-info-bottom border-box">
            <div class="copyright-post-author bottom-item">
                <div class="type">
                    ä½œè€…
                </div>
                <div class="content">xfblog</div>
            </div>

            <div class="post-time bottom-item">
                <div class="type">
                    å‘å¸ƒäº
                </div>
                <div class="content">2022-11-01 00:00</div>
            </div>


            <div class="post-license bottom-item">
                <div class="type">
                    è®¸å¯
                </div>
                <div class="content tooltip" data-tooltip-content="CC BY-NC-SA 4.0">
                    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh-hans" target="_blank">
                        
                            <i class="fa-brands fa-creative-commons"></i>
                            <i class="fa-brands fa-creative-commons-by"></i>
                            <i class="fa-brands fa-creative-commons-nc"></i>
                            <i class="fa-brands fa-creative-commons-sa"></i>
                        
                    </a>
                </div>
            </div>
        </div>

        <i class="copyright-bg fa-solid fa-copyright"></i>
    </div>
    <div class="copy-copyright-info flex-center tooltip" data-tooltip-content="å¤åˆ¶ç‰ˆæƒä¿¡æ¯" data-tooltip-offset-y="-2px">
        <i class="fa-solid fa-copy"></i>
    </div>
</div>

                

                <div class="post-bottom-tags-and-share border-box">
                    <div>
                        
                            <ul class="post-tags-box border-box">
                                
                                    <li class="tag-item border-box">
                                        <i class="icon fas fa-hashtag"></i>&nbsp;<a href="/tags/Python/">Python</a>
                                    </li>
                                
                            </ul>
                        
                    </div>
                    <div>
                        
                            <div class="post-share-container border-box">
    <ul class="share-list-wrap border-box">
        <li class="qq share-item border-box flex-center tooltip"
            data-tooltip-content="åˆ†äº«åˆ° QQ"
        >
            <i class="fa-brands fa-qq"></i>
        </li>
        <li class="wechat share-item border-box flex-center tooltip tooltip-img"
            data-tooltip-content="åˆ†äº«åˆ°å¾®ä¿¡"
            data-tooltip-img-tip="å¾®ä¿¡æ‰«ä¸€æ‰«"
            data-tooltip-img-style="background-color: #fff; top: -10px; padding: 0.6rem 0.6rem 0.1rem 0.6rem;"
        >
            <i class="fa-brands fa-weixin"></i>
        </li>
        <li class="weibo share-item border-box flex-center tooltip"
            data-tooltip-content="åˆ†äº«åˆ°å¾®åš"
        >
            <i class="fa-brands fa-weibo"></i>
        </li>
    </ul>
</div>

                        
                    </div>
                </div>

                
                    

<div class="reward-author-container border-box flex-center">
    <div class="reward-btn border-box flex-center tooltip tooltip-img"
            data-tooltip-img-url="/images/zfb.webp"
            data-tooltip-img-trigger="click"
            data-tooltip-img-style="top: -6px;"
    >
        <i class="fa-solid fa-gift"></i>&nbsp;åˆ›ä½œä¸æ˜“ï¼Œæ‰“èµéšæ„ï¼Œæ‚¨çš„æ”¯æŒæ˜¯æˆ‘æ›´æ–°çš„åŠ¨åŠ›ğŸ’ªï¼
    </div>
</div>

                

                
                    <div class="post-nav border-box">
                        
                            <div class="prev-post">
                                <a class="prev"
                                   rel="prev"
                                   href="/2023/01/01/python-%E7%BA%BF%E7%A8%8B%E3%80%81%E8%BF%9B%E7%A8%8B%E4%B8%8E%E5%8D%8F%E7%A8%8B/"
                                   title="03_Python_çº¿ç¨‹ã€è¿›ç¨‹ä¸åç¨‹"
                                >
                                    <span class="left arrow-icon flex-center">
                                        <i class="fas fa-chevron-left"></i>
                                    </span>
                                    <span class="title flex-center">
                                        <span class="post-nav-title-item text-ellipsis">03_Python_çº¿ç¨‹ã€è¿›ç¨‹ä¸åç¨‹</span>
                                        <span class="post-nav-item">ä¸Šä¸€ç¯‡</span>
                                    </span>
                                </a>
                            </div>
                        
                        
                            <div class="next-post">
                                <a class="next"
                                   rel="next"
                                   href="/2022/09/01/python-%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/"
                                   title="01_Python_åŸºç¡€è¯­æ³•"
                                >
                                    <span class="title flex-center">
                                        <span class="post-nav-title-item text-ellipsis">01_Python_åŸºç¡€è¯­æ³•</span>
                                        <span class="post-nav-item">ä¸‹ä¸€ç¯‡</span>
                                    </span>
                                    <span class="right arrow-icon flex-center">
                                        <i class="fas fa-chevron-right"></i>
                                    </span>
                                </a>
                            </div>
                        
                    </div>
                

                
                    






                
            </div>
        </div>

        
            <div class="pc-post-toc right-toc">
                <div class="post-toc-wrap border-box">
    <div class="post-toc border-box">
        <ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%80%E3%80%81%E5%87%BD%E6%95%B0"><span class="nav-text">ä¸€ã€å‡½æ•°</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E5%87%BD%E6%95%B0%E7%9A%84%E5%AE%9A%E4%B9%89%E4%B8%8E%E8%B0%83%E7%94%A8"><span class="nav-text">1. å‡½æ•°çš„å®šä¹‰ä¸è°ƒç”¨</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-%E5%87%BD%E6%95%B0%E7%9A%84%E5%A4%9A%E4%B8%AA%E8%BF%94%E5%9B%9E%E5%80%BC"><span class="nav-text">2. å‡½æ•°çš„å¤šä¸ªè¿”å›å€¼</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-%E5%87%BD%E6%95%B0%E7%9A%84%E4%B8%A4%E7%A7%8D%E5%AE%9E%E5%8F%82%E4%B8%8E%E4%BC%A0%E9%80%92"><span class="nav-text">3. å‡½æ•°çš„ä¸¤ç§å®å‚ä¸ä¼ é€’</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-%E5%87%BD%E6%95%B0%E7%9A%84%E9%BB%98%E8%AE%A4%E5%80%BC%E5%BD%A2%E5%8F%82"><span class="nav-text">4. å‡½æ•°çš„é»˜è®¤å€¼å½¢å‚</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-%E5%87%BD%E6%95%B0%E4%B8%AD-%E5%AF%B9%E5%8F%82%E6%95%B0%E7%9A%84%E7%94%A8%E6%B3%95"><span class="nav-text">5. å‡½æ•°ä¸­*å¯¹å‚æ•°çš„ç”¨æ³•</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6-%E9%80%92%E5%BD%92%E5%87%BD%E6%95%B0"><span class="nav-text">6. é€’å½’å‡½æ•°</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-pass%E8%AF%AD%E5%8F%A5%E3%80%81%E6%96%87%E6%A1%A3%E5%AD%97%E7%AC%A6%E4%B8%B2%E3%80%81%E5%87%BD%E6%95%B0%E6%B3%A8%E8%A7%A3"><span class="nav-text">7. passè¯­å¥ã€æ–‡æ¡£å­—ç¬¦ä¸²ã€å‡½æ•°æ³¨è§£</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BA%8C%E3%80%81%E6%B5%85%E6%8B%B7%E8%B4%9D%E5%92%8C%E6%B7%B1%E6%8B%B7%E8%B4%9D"><span class="nav-text">äºŒã€æµ…æ‹·è´å’Œæ·±æ‹·è´</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E6%B5%85%E6%8B%B7%E8%B4%9D"><span class="nav-text">1. æµ…æ‹·è´</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-%E6%B7%B1%E6%8B%B7%E8%B4%9D"><span class="nav-text">2. æ·±æ‹·è´</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%89%E3%80%81%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1"><span class="nav-text">ä¸‰ã€é¢å‘å¯¹è±¡</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E7%B1%BB%E5%92%8C%E5%AF%B9%E8%B1%A1"><span class="nav-text">1. ç±»å’Œå¯¹è±¡</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-Python%E7%9A%84%E5%8A%A8%E6%80%81%E6%80%A7"><span class="nav-text">2. Pythonçš„åŠ¨æ€æ€§</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6"><span class="nav-text">3. è®¿é—®æ§åˆ¶</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-%E5%B0%81%E8%A3%85%E3%80%81%E7%BB%A7%E6%89%BF%E3%80%81%E9%87%8D%E5%86%99%E3%80%81%E5%A4%9A%E6%80%81"><span class="nav-text">4. å°è£…ã€ç»§æ‰¿ã€é‡å†™ã€å¤šæ€</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-MRO"><span class="nav-text">5. MRO</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6-%E8%8E%B7%E5%8F%96%E5%AF%B9%E8%B1%A1%E7%9A%84%E4%BF%A1%E6%81%AF%E4%B9%8B%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0"><span class="nav-text">6. è·å–å¯¹è±¡çš„ä¿¡æ¯ä¹‹å†…ç½®å‡½æ•°</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-%E8%8E%B7%E5%8F%96%E5%AF%B9%E8%B1%A1%E7%9A%84%E4%BF%A1%E6%81%AF%E4%B9%8B%E5%8F%8D%E5%B0%84"><span class="nav-text">7. è·å–å¯¹è±¡çš„ä¿¡æ¯ä¹‹åå°„</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-%E7%89%B9%E6%AE%8A%E5%B1%9E%E6%80%A7%E5%92%8C%E9%AD%94%E6%9C%AF%E6%96%B9%E6%B3%95"><span class="nav-text">8. ç‰¹æ®Šå±æ€§å’Œé­”æœ¯æ–¹æ³•</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#9-%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%BC%95%E7%94%A8%E8%AE%A1%E6%95%B0"><span class="nav-text">9. å¯¹è±¡çš„å¼•ç”¨è®¡æ•°</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#10-%E7%89%B9%E6%AE%8A%E5%B1%9E%E6%80%A7%E5%92%8C%E9%AD%94%E6%9C%AF%E6%96%B9%E6%B3%95%EF%BC%88%E7%BB%AD%EF%BC%89"><span class="nav-text">10. ç‰¹æ®Šå±æ€§å’Œé­”æœ¯æ–¹æ³•ï¼ˆç»­ï¼‰</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9B%9B%E3%80%81%E6%A8%A1%E5%9D%97"><span class="nav-text">å››ã€æ¨¡å—</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E4%BD%BF%E7%94%A8%E6%A0%87%E5%87%86%E5%BA%93%E4%B8%AD%E7%9A%84%E6%A8%A1%E5%9D%97"><span class="nav-text">1. ä½¿ç”¨æ ‡å‡†åº“ä¸­çš„æ¨¡å—</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-%E4%BD%BF%E7%94%A8%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93%E4%B8%AD%E7%9A%84%E6%A8%A1%E5%9D%97"><span class="nav-text">2. ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“ä¸­çš„æ¨¡å—</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-%E5%AE%89%E8%A3%85%E5%92%8C%E9%85%8D%E7%BD%AEAnaconda"><span class="nav-text">3. å®‰è£…å’Œé…ç½®Anaconda</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-%E6%A8%A1%E5%9D%97%E7%9A%84%E4%BD%BF%E7%94%A8%E8%A7%84%E8%8C%83"><span class="nav-text">4. æ¨¡å—çš„ä½¿ç”¨è§„èŒƒ</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-import%E8%AF%AD%E5%8F%A5%E7%9A%84%E6%89%A7%E8%A1%8C%E6%B5%81%E7%A8%8B"><span class="nav-text">5. importè¯­å¥çš„æ‰§è¡Œæµç¨‹</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6-dir%E6%9F%A5%E7%9C%8B%E6%A8%A1%E5%9D%97%E7%9A%84%E6%89%80%E6%9C%89%E5%B1%9E%E6%80%A7"><span class="nav-text">6. diræŸ¥çœ‹æ¨¡å—çš„æ‰€æœ‰å±æ€§</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-%E6%A8%A1%E5%9D%97%E7%9A%84%E7%89%B9%E6%AE%8A%E5%B1%9E%E6%80%A7"><span class="nav-text">7. æ¨¡å—çš„ç‰¹æ®Šå±æ€§</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-%E6%A8%A1%E5%9D%97%E7%9A%84%E6%95%B0%E6%8D%AE%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6"><span class="nav-text">8. æ¨¡å—çš„æ•°æ®è®¿é—®æ§åˆ¶</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#9-%E5%8A%A8%E6%80%81%E5%8A%A0%E8%BD%BD%E6%A8%A1%E5%9D%97"><span class="nav-text">9. åŠ¨æ€åŠ è½½æ¨¡å—</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BA%94%E3%80%81%E7%94%9F%E6%88%90%E5%99%A8%E4%B8%8E%E8%BF%AD%E4%BB%A3%E5%99%A8"><span class="nav-text">äº”ã€ç”Ÿæˆå™¨ä¸è¿­ä»£å™¨</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E7%94%9F%E6%88%90%E5%99%A8"><span class="nav-text">1. ç”Ÿæˆå™¨</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-%E8%BF%AD%E4%BB%A3%E5%99%A8"><span class="nav-text">2. è¿­ä»£å™¨</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%85%AD%E3%80%81%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86"><span class="nav-text">å…­ã€å¼‚å¸¸å¤„ç†</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E6%8D%95%E8%8E%B7%E5%92%8C%E5%A4%84%E7%90%86%E5%BC%82%E5%B8%B8"><span class="nav-text">1. æ•è·å’Œå¤„ç†å¼‚å¸¸</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-%E4%BD%BF%E7%94%A8raise%E8%AF%AD%E5%8F%A5%E6%89%8B%E5%8A%A8%E6%8A%9B%E5%87%BA%E5%BC%82%E5%B8%B8"><span class="nav-text">2. ä½¿ç”¨raiseè¯­å¥æ‰‹åŠ¨æŠ›å‡ºå¼‚å¸¸</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-%E8%87%AA%E5%AE%9A%E4%B9%89%E5%BC%82%E5%B8%B8"><span class="nav-text">3. è‡ªå®šä¹‰å¼‚å¸¸</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-%E5%BC%82%E5%B8%B8%E5%AE%9E%E4%BE%8Berr"><span class="nav-text">4. å¼‚å¸¸å®ä¾‹err</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-%E5%BC%82%E5%B8%B8%E5%92%8C%E5%87%BD%E6%95%B0"><span class="nav-text">5. å¼‚å¸¸å’Œå‡½æ•°</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6-%E8%8E%B7%E5%8F%96%E5%BC%82%E5%B8%B8%E4%BF%A1%E6%81%AF"><span class="nav-text">6. è·å–å¼‚å¸¸ä¿¡æ¯</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-assert%E6%96%AD%E8%A8%80"><span class="nav-text">7. assertæ–­è¨€</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-with%E8%AF%AD%E5%8F%A5"><span class="nav-text">8. withè¯­å¥</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%83%E3%80%81%E6%96%87%E4%BB%B6%E8%AF%BB%E5%86%99"><span class="nav-text">ä¸ƒã€æ–‡ä»¶è¯»å†™</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E6%89%93%E5%BC%80%E6%96%87%E4%BB%B6"><span class="nav-text">1. æ‰“å¼€æ–‡ä»¶</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-%E8%AF%BB%E6%96%87%E4%BB%B6"><span class="nav-text">2. è¯»æ–‡ä»¶</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-%E5%86%99%E6%96%87%E4%BB%B6"><span class="nav-text">3. å†™æ–‡ä»¶</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-%E5%85%B3%E9%97%AD%E6%96%87%E4%BB%B6"><span class="nav-text">4. å…³é—­æ–‡ä»¶</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-%E6%96%87%E4%BB%B6%E6%8C%87%E9%92%88"><span class="nav-text">5. æ–‡ä»¶æŒ‡é’ˆ</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%85%AB%E3%80%81%E5%87%BD%E6%95%B0%E8%BF%9B%E9%98%B6"><span class="nav-text">å…«ã€å‡½æ•°è¿›é˜¶</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E5%87%BD%E6%95%B0%E7%9A%84%E9%87%8D%E8%A6%81%E7%89%B9%E6%80%A7"><span class="nav-text">1. å‡½æ•°çš„é‡è¦ç‰¹æ€§</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-Lambda%E5%8C%BF%E5%90%8D%E5%87%BD%E6%95%B0"><span class="nav-text">2. LambdaåŒ¿åå‡½æ•°</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-partial%E5%81%8F%E5%87%BD%E6%95%B0"><span class="nav-text">3. partialåå‡½æ•°</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-%E9%97%AD%E5%8C%85"><span class="nav-text">4. é—­åŒ…</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-%E5%8F%98%E9%87%8F%E7%9A%84%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="nav-text">5. å˜é‡çš„ä½œç”¨åŸŸ</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6-%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4"><span class="nav-text">6. å‘½åç©ºé—´</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-%E5%87%BD%E6%95%B0%E8%A3%85%E9%A5%B0%E5%99%A8"><span class="nav-text">7. å‡½æ•°è£…é¥°å™¨</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0property"><span class="nav-text">8. å†…ç½®å‡½æ•°property</span></a></li></ol></li></ol></li></ol>
    </div>
</div>

            </div>
        
    </div>
</div>


                
            </div>
        </div>

        <div class="page-main-content-bottom border-box">
            
<footer class="footer border-box">
    <div class="copyright-info info-item">
    Copyright&nbsp;&copy;&nbsp;<span>2021</span>&nbsp;-&nbsp;2024&nbsp;<a href="https://xfblog.cn/" target="_self">å°å‚…åšå®¢</a>&nbsp;-&nbsp;All&nbsp;rights&nbsp;reserved.&nbsp;&nbsp;&nbsp;&nbsp;
    
            <!-- &nbsp;<i class="fas fa-heart icon-animate"></i>&nbsp;&nbsp;<a href="/">xfblog</a> -->
        
    </div>

    <!-- <div class="theme-info info-item">
        ç”±&nbsp;<a target="_blank" href="https://hexo.io">Hexo</a>&nbsp;é©±åŠ¨&nbsp;&&nbsp;ä¸»é¢˜&nbsp;<a class="keep-version" target="_blank" href="https://github.com/XPoet/hexo-theme-keep">Keep</a>
    </div> -->

    

    

    
        <div class="record-info info-item">
            
                
                    <div class="record-item border-box">
                        <a class=""
                           target="_blank"
                           href="https://beian.miit.gov.cn"
                        >
                            èœ€ICPå¤‡2021021033å·-1
                        </a>
                    </div>
                
            
                
                    <div class="record-item border-box">
                        <a class=""
                           target="_blank"
                           href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=51138102000134"
                        >
                            å·å…¬ç½‘å®‰å¤‡ 51138102000134å·
                        </a>
                    </div>
                
            
        </div>&nbsp;&nbsp;&nbsp;&nbsp;
    
</footer>

        </div>
    </div>

    <!-- post tools -->
    
        <div class="post-tools right-toc">
            <div class="post-tools-container border-box">
    <ul class="post-tools-list border-box">
        <!-- PC encrypt again -->
        

        <!-- PC TOC show toggle -->
        
            <li class="tools-item flex-center toggle-show-toc">
                <i class="fas fa-list"></i>
            </li>
        

        <!-- PC go comment -->
        

        <!-- PC full screen -->
        <li class="tools-item flex-center full-screen">
            <i class="fa-solid fa-expand"></i>
        </li>
    </ul>
</div>

        </div>
    

    <!-- side tools -->
    <div class="side-tools">
        <div class="side-tools-container border-box ">
    <ul class="side-tools-list side-tools-show-handle border-box">
        <li class="tools-item tool-font-adjust-plus flex-center">
            <i class="fas fa-search-plus"></i>
        </li>

        <li class="tools-item tool-font-adjust-minus flex-center">
            <i class="fas fa-search-minus"></i>
        </li>

        <!-- toggle mode -->
        
            <li class="tools-item tool-toggle-theme-mode flex-center">
                <i class="fas fa-moon"></i>
            </li>
        

        <!-- rss -->
        
            <li class="tools-item rss flex-center">
                <a class="flex-center"
                   href="/atom.xml"
                   target="_blank"
                >
                    <i class="fas fa-rss"></i>
                </a>
            </li>
        

        <!-- to bottom -->
        <li class="tools-item tool-scroll-to-bottom flex-center">
            <i class="fas fa-arrow-down"></i>
        </li>
    </ul>

    <ul class="exposed-tools-list border-box">
        
            <li class="tools-item toggle-show-toc-tablet flex-center">
                <i class="fas fa-list"></i>
            </li>
        

        

        <li class="tools-item tool-toggle-show flex-center">
            <i class="fas fa-cog fa-spin"></i>
        </li>

        <li class="tools-item tool-scroll-to-top flex-center show-arrow">
            <i class="arrow fas fa-arrow-up"></i>
            <span class="percent"></span>
        </li>
    </ul>
</div>

    </div>

    <!-- image mask -->
    <div class="zoom-in-image-mask">
    <img class="zoom-in-image">
</div>


    <!-- local search -->
    
        <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
          <span class="search-input-field-pre">
            <i class="fas fa-keyboard"></i>
          </span>
            <div class="search-input-container">
                <input autocomplete="off"
                       autocorrect="off"
                       autocapitalize="off"
                       placeholder="æœç´¢..."
                       spellcheck="false"
                       type="search"
                       class="search-input"
                >
            </div>
            <span class="close-popup-btn">
                <i class="fas fa-times"></i>
            </span>
        </div>
        <div id="search-result">
            <div id="no-result">
                <i class="fas fa-spinner fa-pulse fa-5x fa-fw"></i>
            </div>
        </div>
    </div>
</div>

    

    <!-- tablet toc -->
    
        <div class="tablet-post-toc-mask">
            <div class="tablet-post-toc">
                <div class="post-toc-wrap border-box">
    <div class="post-toc border-box">
        <ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%80%E3%80%81%E5%87%BD%E6%95%B0"><span class="nav-text">ä¸€ã€å‡½æ•°</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E5%87%BD%E6%95%B0%E7%9A%84%E5%AE%9A%E4%B9%89%E4%B8%8E%E8%B0%83%E7%94%A8"><span class="nav-text">1. å‡½æ•°çš„å®šä¹‰ä¸è°ƒç”¨</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-%E5%87%BD%E6%95%B0%E7%9A%84%E5%A4%9A%E4%B8%AA%E8%BF%94%E5%9B%9E%E5%80%BC"><span class="nav-text">2. å‡½æ•°çš„å¤šä¸ªè¿”å›å€¼</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-%E5%87%BD%E6%95%B0%E7%9A%84%E4%B8%A4%E7%A7%8D%E5%AE%9E%E5%8F%82%E4%B8%8E%E4%BC%A0%E9%80%92"><span class="nav-text">3. å‡½æ•°çš„ä¸¤ç§å®å‚ä¸ä¼ é€’</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-%E5%87%BD%E6%95%B0%E7%9A%84%E9%BB%98%E8%AE%A4%E5%80%BC%E5%BD%A2%E5%8F%82"><span class="nav-text">4. å‡½æ•°çš„é»˜è®¤å€¼å½¢å‚</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-%E5%87%BD%E6%95%B0%E4%B8%AD-%E5%AF%B9%E5%8F%82%E6%95%B0%E7%9A%84%E7%94%A8%E6%B3%95"><span class="nav-text">5. å‡½æ•°ä¸­*å¯¹å‚æ•°çš„ç”¨æ³•</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6-%E9%80%92%E5%BD%92%E5%87%BD%E6%95%B0"><span class="nav-text">6. é€’å½’å‡½æ•°</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-pass%E8%AF%AD%E5%8F%A5%E3%80%81%E6%96%87%E6%A1%A3%E5%AD%97%E7%AC%A6%E4%B8%B2%E3%80%81%E5%87%BD%E6%95%B0%E6%B3%A8%E8%A7%A3"><span class="nav-text">7. passè¯­å¥ã€æ–‡æ¡£å­—ç¬¦ä¸²ã€å‡½æ•°æ³¨è§£</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BA%8C%E3%80%81%E6%B5%85%E6%8B%B7%E8%B4%9D%E5%92%8C%E6%B7%B1%E6%8B%B7%E8%B4%9D"><span class="nav-text">äºŒã€æµ…æ‹·è´å’Œæ·±æ‹·è´</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E6%B5%85%E6%8B%B7%E8%B4%9D"><span class="nav-text">1. æµ…æ‹·è´</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-%E6%B7%B1%E6%8B%B7%E8%B4%9D"><span class="nav-text">2. æ·±æ‹·è´</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%89%E3%80%81%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1"><span class="nav-text">ä¸‰ã€é¢å‘å¯¹è±¡</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E7%B1%BB%E5%92%8C%E5%AF%B9%E8%B1%A1"><span class="nav-text">1. ç±»å’Œå¯¹è±¡</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-Python%E7%9A%84%E5%8A%A8%E6%80%81%E6%80%A7"><span class="nav-text">2. Pythonçš„åŠ¨æ€æ€§</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6"><span class="nav-text">3. è®¿é—®æ§åˆ¶</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-%E5%B0%81%E8%A3%85%E3%80%81%E7%BB%A7%E6%89%BF%E3%80%81%E9%87%8D%E5%86%99%E3%80%81%E5%A4%9A%E6%80%81"><span class="nav-text">4. å°è£…ã€ç»§æ‰¿ã€é‡å†™ã€å¤šæ€</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-MRO"><span class="nav-text">5. MRO</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6-%E8%8E%B7%E5%8F%96%E5%AF%B9%E8%B1%A1%E7%9A%84%E4%BF%A1%E6%81%AF%E4%B9%8B%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0"><span class="nav-text">6. è·å–å¯¹è±¡çš„ä¿¡æ¯ä¹‹å†…ç½®å‡½æ•°</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-%E8%8E%B7%E5%8F%96%E5%AF%B9%E8%B1%A1%E7%9A%84%E4%BF%A1%E6%81%AF%E4%B9%8B%E5%8F%8D%E5%B0%84"><span class="nav-text">7. è·å–å¯¹è±¡çš„ä¿¡æ¯ä¹‹åå°„</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-%E7%89%B9%E6%AE%8A%E5%B1%9E%E6%80%A7%E5%92%8C%E9%AD%94%E6%9C%AF%E6%96%B9%E6%B3%95"><span class="nav-text">8. ç‰¹æ®Šå±æ€§å’Œé­”æœ¯æ–¹æ³•</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#9-%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%BC%95%E7%94%A8%E8%AE%A1%E6%95%B0"><span class="nav-text">9. å¯¹è±¡çš„å¼•ç”¨è®¡æ•°</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#10-%E7%89%B9%E6%AE%8A%E5%B1%9E%E6%80%A7%E5%92%8C%E9%AD%94%E6%9C%AF%E6%96%B9%E6%B3%95%EF%BC%88%E7%BB%AD%EF%BC%89"><span class="nav-text">10. ç‰¹æ®Šå±æ€§å’Œé­”æœ¯æ–¹æ³•ï¼ˆç»­ï¼‰</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9B%9B%E3%80%81%E6%A8%A1%E5%9D%97"><span class="nav-text">å››ã€æ¨¡å—</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E4%BD%BF%E7%94%A8%E6%A0%87%E5%87%86%E5%BA%93%E4%B8%AD%E7%9A%84%E6%A8%A1%E5%9D%97"><span class="nav-text">1. ä½¿ç”¨æ ‡å‡†åº“ä¸­çš„æ¨¡å—</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-%E4%BD%BF%E7%94%A8%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93%E4%B8%AD%E7%9A%84%E6%A8%A1%E5%9D%97"><span class="nav-text">2. ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“ä¸­çš„æ¨¡å—</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-%E5%AE%89%E8%A3%85%E5%92%8C%E9%85%8D%E7%BD%AEAnaconda"><span class="nav-text">3. å®‰è£…å’Œé…ç½®Anaconda</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-%E6%A8%A1%E5%9D%97%E7%9A%84%E4%BD%BF%E7%94%A8%E8%A7%84%E8%8C%83"><span class="nav-text">4. æ¨¡å—çš„ä½¿ç”¨è§„èŒƒ</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-import%E8%AF%AD%E5%8F%A5%E7%9A%84%E6%89%A7%E8%A1%8C%E6%B5%81%E7%A8%8B"><span class="nav-text">5. importè¯­å¥çš„æ‰§è¡Œæµç¨‹</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6-dir%E6%9F%A5%E7%9C%8B%E6%A8%A1%E5%9D%97%E7%9A%84%E6%89%80%E6%9C%89%E5%B1%9E%E6%80%A7"><span class="nav-text">6. diræŸ¥çœ‹æ¨¡å—çš„æ‰€æœ‰å±æ€§</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-%E6%A8%A1%E5%9D%97%E7%9A%84%E7%89%B9%E6%AE%8A%E5%B1%9E%E6%80%A7"><span class="nav-text">7. æ¨¡å—çš„ç‰¹æ®Šå±æ€§</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-%E6%A8%A1%E5%9D%97%E7%9A%84%E6%95%B0%E6%8D%AE%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6"><span class="nav-text">8. æ¨¡å—çš„æ•°æ®è®¿é—®æ§åˆ¶</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#9-%E5%8A%A8%E6%80%81%E5%8A%A0%E8%BD%BD%E6%A8%A1%E5%9D%97"><span class="nav-text">9. åŠ¨æ€åŠ è½½æ¨¡å—</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BA%94%E3%80%81%E7%94%9F%E6%88%90%E5%99%A8%E4%B8%8E%E8%BF%AD%E4%BB%A3%E5%99%A8"><span class="nav-text">äº”ã€ç”Ÿæˆå™¨ä¸è¿­ä»£å™¨</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E7%94%9F%E6%88%90%E5%99%A8"><span class="nav-text">1. ç”Ÿæˆå™¨</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-%E8%BF%AD%E4%BB%A3%E5%99%A8"><span class="nav-text">2. è¿­ä»£å™¨</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%85%AD%E3%80%81%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86"><span class="nav-text">å…­ã€å¼‚å¸¸å¤„ç†</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E6%8D%95%E8%8E%B7%E5%92%8C%E5%A4%84%E7%90%86%E5%BC%82%E5%B8%B8"><span class="nav-text">1. æ•è·å’Œå¤„ç†å¼‚å¸¸</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-%E4%BD%BF%E7%94%A8raise%E8%AF%AD%E5%8F%A5%E6%89%8B%E5%8A%A8%E6%8A%9B%E5%87%BA%E5%BC%82%E5%B8%B8"><span class="nav-text">2. ä½¿ç”¨raiseè¯­å¥æ‰‹åŠ¨æŠ›å‡ºå¼‚å¸¸</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-%E8%87%AA%E5%AE%9A%E4%B9%89%E5%BC%82%E5%B8%B8"><span class="nav-text">3. è‡ªå®šä¹‰å¼‚å¸¸</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-%E5%BC%82%E5%B8%B8%E5%AE%9E%E4%BE%8Berr"><span class="nav-text">4. å¼‚å¸¸å®ä¾‹err</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-%E5%BC%82%E5%B8%B8%E5%92%8C%E5%87%BD%E6%95%B0"><span class="nav-text">5. å¼‚å¸¸å’Œå‡½æ•°</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6-%E8%8E%B7%E5%8F%96%E5%BC%82%E5%B8%B8%E4%BF%A1%E6%81%AF"><span class="nav-text">6. è·å–å¼‚å¸¸ä¿¡æ¯</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-assert%E6%96%AD%E8%A8%80"><span class="nav-text">7. assertæ–­è¨€</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-with%E8%AF%AD%E5%8F%A5"><span class="nav-text">8. withè¯­å¥</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%83%E3%80%81%E6%96%87%E4%BB%B6%E8%AF%BB%E5%86%99"><span class="nav-text">ä¸ƒã€æ–‡ä»¶è¯»å†™</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E6%89%93%E5%BC%80%E6%96%87%E4%BB%B6"><span class="nav-text">1. æ‰“å¼€æ–‡ä»¶</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-%E8%AF%BB%E6%96%87%E4%BB%B6"><span class="nav-text">2. è¯»æ–‡ä»¶</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-%E5%86%99%E6%96%87%E4%BB%B6"><span class="nav-text">3. å†™æ–‡ä»¶</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-%E5%85%B3%E9%97%AD%E6%96%87%E4%BB%B6"><span class="nav-text">4. å…³é—­æ–‡ä»¶</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-%E6%96%87%E4%BB%B6%E6%8C%87%E9%92%88"><span class="nav-text">5. æ–‡ä»¶æŒ‡é’ˆ</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%85%AB%E3%80%81%E5%87%BD%E6%95%B0%E8%BF%9B%E9%98%B6"><span class="nav-text">å…«ã€å‡½æ•°è¿›é˜¶</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E5%87%BD%E6%95%B0%E7%9A%84%E9%87%8D%E8%A6%81%E7%89%B9%E6%80%A7"><span class="nav-text">1. å‡½æ•°çš„é‡è¦ç‰¹æ€§</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-Lambda%E5%8C%BF%E5%90%8D%E5%87%BD%E6%95%B0"><span class="nav-text">2. LambdaåŒ¿åå‡½æ•°</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-partial%E5%81%8F%E5%87%BD%E6%95%B0"><span class="nav-text">3. partialåå‡½æ•°</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-%E9%97%AD%E5%8C%85"><span class="nav-text">4. é—­åŒ…</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-%E5%8F%98%E9%87%8F%E7%9A%84%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="nav-text">5. å˜é‡çš„ä½œç”¨åŸŸ</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6-%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4"><span class="nav-text">6. å‘½åç©ºé—´</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-%E5%87%BD%E6%95%B0%E8%A3%85%E9%A5%B0%E5%99%A8"><span class="nav-text">7. å‡½æ•°è£…é¥°å™¨</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0property"><span class="nav-text">8. å†…ç½®å‡½æ•°property</span></a></li></ol></li></ol></li></ol>
    </div>
</div>

            </div>
        </div>
    
</main>





<!-- common js -->
<script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.2.5/source/js/utils.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.2.5/source/js/header-shrink.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.2.5/source/js/back2top.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.2.5/source/js/toggle-theme.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.2.5/source/js/code-block.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.2.5/source/js/main.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.2.5/source/js/libs/anime.min.js"></script>

<!-- local search -->

    <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.2.5/source/js/local-search.js"></script>


<!-- lazyload -->

    <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.2.5/source/js/lazyload.js"></script>


<div class="pjax">
    <!-- home page -->
    

    <!-- post page -->
    
        <!-- post-helper -->
        <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.2.5/source/js/post/post-helper.js"></script>

        <!-- toc -->
        
            <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.2.5/source/js/post/toc.js"></script>
        

        <!-- copyright-info -->
        
            <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.2.5/source/js/post/copyright-info.js"></script>
        

        <!-- share -->
        
            <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.2.5/source/js/post/share.js"></script>
        
    

    <!-- categories page -->
    

    <!-- links page -->
    

    <!-- photos page -->
    

    <!-- tools page -->
    
</div>

<!-- mermaid -->


<!-- pjax -->

    <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.2.5/source/js/libs/pjax.min.js"></script>
<script>
    window.addEventListener('DOMContentLoaded', () => {
        window.pjax = new Pjax({
            selectors: [
                'head title',
                '.page-container',
                '.pjax'
            ],
            history: true,
            debug: false,
            cacheBust: false,
            timeout: 0,
            analytics: false,
            currentUrlFullReload: false,
            scrollRestoration: false,
        });

        document.addEventListener('pjax:send', () => {
            KEEP.utils.pjaxProgressBarStart()
        });

        document.addEventListener('pjax:complete', () => {
            KEEP.utils.pjaxProgressBarEnd()
            window.pjax.executeScripts(document.querySelectorAll('script[data-pjax], .pjax script'))
            KEEP.initExecute()
        });
    });
</script>




    
        
            
<script class="custom-inject-js" src="/js/run_time.js" data-pjax></script>

        
    
        
            
<script class="custom-inject-js" src="/js/code_click_copy.js" data-pjax></script>

        
    
        
            
<script class="custom-inject-js" src="/js/copyrightpro.js" data-pjax></script>

        
    

</body>
</html>
